!function(e){e.jqx.jqxWidget("jqxLayout","",{}),e.extend(e.jqx._jqxLayout.prototype,{defineInstance:function(){var t={width:null,height:null,minGroupWidth:100,minGroupHeight:100,layout:[],resizable:!0,contextMenu:!1,rtl:!1,events:["create","resize","pin","unpin"]};e.extend(!0,this,t)},createInstance:function(){var t=this;t._originalElement=t.host.clone(),t._coordinates=[],t._ie7=e.jqx.browser.msie&&e.jqx.browser.version<8,t._touchDevice=e.jqx.mobile.isTouchDevice(),t._initialization=!0,t.render()},render:function(){var t,o,i,n=this;if(n._tabbedGroupsList=[],n.dockingLayout&&(n._overlayGroups=[],!1===n._initialization&&(t=n.dockingLayout._overlay.detach(),o=n.dockingLayout._dropOverlay.detach(),i=n.dockingLayout._edgeOverlays.detach())),!0===n._rendered&&n._detachContent(n.layout[0].items),n.host.empty(),!n.host.jqxRibbon)throw new Error("jqxLayout: Missing reference to jqxribbon.js.");if(n._setSize(),n._addClasses(),n._removeHandlers(),!n._rendered){if("layoutGroup"!==n.layout[0].type)throw new Error('jqxLayout: Invalid layout structure. The first member of the layout array has to be with type: "layoutGroup".');var a=n.layout[0].items[0].width,r=n.layout[0].items[0].height;a&&"string"==typeof a&&"%"===a.charAt(a.length-1)||r&&"string"==typeof r&&"%"===r.charAt(r.length-1)||(n.layout[0].initialPxWidth=n.host.width(),n.layout[0].initialPxHeight=n.host.height(),n._pxToPercent(n.layout[0],!0))}n._createLayout(n.layout,n.host,{type:"host"},0),!0===n.resizable&&(n._addResizeFeedbacks(),n._getGroupCoordinates(),n._addHandlers()),!0===n.contextMenu&&n._initMenu(),!0===n._initialization?(n._initialization=!1,n._raiseEvent("0"),e.jqx.utilities.resize(n.host,function(){n.render()})):n.dockingLayout&&(n._ie7?e("body").append(t,o,i):n.host.append(t,o,i),n.dockingLayout._trackFloatGroups());for(var d=0;d<n._tabbedGroupsList.length;d++)n._validateTabbedGroup(n._tabbedGroupsList[d]);n._rendered||(n._rendered=!0)},refresh:function(e){!0!==e&&this.render()},destroy:function(){var e=this;e._mouseupHandler=null,e._docUP=null,e._removeHandlers(),!0===e.contextMenu&&e._menu.jqxMenu("destroy"),e.host.remove()},saveLayout:function(){for(var e=this,t=[],o=0;o<e.layout.length;o++)e._copyItem(e.layout[o],t);return t},loadLayout:function(t){if(void 0!==t&&!1===e.isEmptyObject(t)){var o=this;o.layout=t,o._rendered=!1,o.render()}},propertyChangedHandler:function(t,o,i,n){if("layout"!==o){if(n!==i)switch(o){case"width":case"height":t.host.css(o,n);break;case"theme":e.jqx.utilities.setTheme(i,n,t.host),t._menuInitialized&&e.jqx.utilities.setTheme(i,n,t._menu),t.dockingLayout&&e("."+t.element.id+"FloatGroup").length>0&&e("."+t.element.id+"FloatGroup").jqxWindow({theme:n});break;case"layout":case"resizable":t.render();break;case"contextMenu":!0!==n||t._menuInitialized||t.render();break;case"rtl":var a=e("."+t.element.id+"FloatGroup");a.length>0&&a.jqxWindow({rtl:n});var r=t.host.add(a);!0===n?(r.find(".jqx-layout-pseudo-window-title-ltr").removeClass(t.toThemeProperty("jqx-layout-pseudo-window-title-ltr")).addClass(t.toThemeProperty("jqx-layout-pseudo-window-title-rtl")),r.find(".jqx-layout-pseudo-window-pin-background-ltr").removeClass(t.toThemeProperty("jqx-layout-pseudo-window-pin-background-ltr")).addClass(t.toThemeProperty("jqx-layout-pseudo-window-pin-background-rtl")),r.find(".jqx-layout-pseudo-window-close-background-ltr").removeClass(t.toThemeProperty("jqx-layout-pseudo-window-close-background-ltr")).addClass(t.toThemeProperty("jqx-layout-pseudo-window-close-background-rtl")),r.find(".jqx-layout-ribbon-header").removeClass(t.toThemeProperty("jqx-layout-ribbon-header-ltr")).addClass(t.toThemeProperty("jqx-layout-ribbon-header-rtl"))):(r.find(".jqx-layout-pseudo-window-title-rtl").removeClass(t.toThemeProperty("jqx-layout-pseudo-window-title-rtl")).addClass(t.toThemeProperty("jqx-layout-pseudo-window-title-ltr")),r.find(".jqx-layout-pseudo-window-pin-background-rtl").removeClass(t.toThemeProperty("jqx-layout-pseudo-window-pin-background-rtl")).addClass(t.toThemeProperty("jqx-layout-pseudo-window-pin-background-ltr")),r.find(".jqx-layout-pseudo-window-close-background-rtl").removeClass(t.toThemeProperty("jqx-layout-pseudo-window-close-background-rtl")).addClass(t.toThemeProperty("jqx-layout-pseudo-window-close-background-ltr")),r.find(".jqx-layout-ribbon-header").removeClass(t.toThemeProperty("jqx-layout-ribbon-header-rtl")).addClass(t.toThemeProperty("jqx-layout-ribbon-header-ltr"))),r.find(".jqx-ribbon").jqxRibbon({rtl:n})}}else t.render()},_raiseEvent:function(t,o){void 0===o&&(o={owner:null});var i=this.events[t];o.owner=this;var n=new e.Event(i);return n.owner=this,n.args=o,n.preventDefault&&n.preventDefault(),this.host.trigger(n)},_setSize:function(){var e=this;e.host.css({width:e.width,height:e.height})},_addClasses:function(){var e=this;e.host.addClass(e.toThemeProperty("jqx-layout jqx-widget jqx-widget-content jqx-rc-all"))},_getPercentage:function(e,t,o){return e/t.widget[o]()*100},_addHandlers:function(){function t(e,t){for(var o=0;o<l._coordinates.length;o++){var i=l._coordinates[o];if(e>=i.x.from&&e<=i.x.to&&t>=i.y.from&&t<=i.y.to){"horizontal"===i.orientation?l.element.style.cursor="col-resize":l.element.style.cursor="row-resize",l._resize={allowed:!0,widget:i.widget,side:i.side};break}l.element.style.cursor="default",l._resize.allowed=!1}}function o(t){if(!0===l._resize.allowed){var o=l._resize.widget,i=o.current.parent,n=l._percentToPx("width",o.current.minWidth,i),a=l._percentToPx("height",o.current.minHeight,i),s=i.items[o.current.index-1],u=i.items[o.current.index+1];switch(l._resizeStartPosition={x:t.pageX,y:t.pageY},n||(n=l._percentToPx("width",l.minGroupWidth,i)),n=Math.min(n,o.width()),o.current.minWidth=n,a||(a=l._percentToPx("height",l.minGroupHeight,i)),a=Math.min(a,o.height()),o.current.minHeight=a,l._resize.side){case"left":var c=l._percentToPx("width",s.minWidth,i);c||(c=l._percentToPx("width",l.minGroupWidth,i)),r=s.widget.offset().left+c,d=o.offset().left+o.width()-n;break;case"right":var p=l._percentToPx("width",u.minWidth,i);p||(p=l._percentToPx("width",l.minGroupWidth,i)),r=o.offset().left+n,d=u.widget.offset().left+u.widget.width()-p;break;case"top":var h=l._percentToPx("height",s.minHeight,i);h||(h=l._percentToPx("height",l.minGroupHeight,i)),r=s.widget.offset().top+h,d=o.offset().top+o.height()-a;break;case"bottom":var g=l._percentToPx("height",u.minHeight,i);g||(g=l._percentToPx("height",l.minGroupHeight,i)),r=o.offset().top+a,d=u.widget.offset().top+u.widget.height()-g}var y,m=function(e,t){if(t=void 0===t?{top:0,left:0}:t,e!==top){var o=e.frameElement.getBoundingClientRect();t.left+=o.left,t.top+=o.top,t=m(e.parent,t)}return t};l._clickedToResize=!0,l._overlay[0].style.display="block","left"===l._resize.side||"right"===l._resize.side?(l._verticalFeedback[0].style.height=l._resize.widget.height()+"px",y=l._ie7?m(window).top:0,l._verticalFeedback.offset({top:l._resize.widget.offset().top-l.host.offset().top+e(window).scrollTop()-y})):(l._horizontalFeedback[0].style.width=l._resize.widget.width()+"px",y=l._ie7?m(window).left:0,l._horizontalFeedback.offset({left:l._resize.widget.offset().left-l.host.offset().left+e(window).scrollLeft()+1-y}))}}function i(e,t,o,i,n){var a,r,d=n.charAt(0).toUpperCase()+n.slice(1),s=t.parent;return e?(a=l._percentToPx(n,o["min"+d],s),r=parseFloat(o[n])/100*t.parent.widget[n]()-i):(a=l._percentToPx(n,t["min"+d],s),r=parseFloat(t[n])/100*t.parent.widget[n]()-i),a||(a=l._percentToPx(n,l["minGroup"+d],s)),r<a?a:r}function n(e){if(!0===l._clickedToResize){var t,o,n,a,r,d,s=function(){l._clickedToResize=!1,l._overlay[0].style.display="none",l._verticalFeedback[0].style.display="none",l._horizontalFeedback[0].style.display="none"},u=e.pageX,c=e.pageY,p=l._resize.widget.current,h=l._resize.widget.offset(),g=h.left,y=h.top;if(e.pageX===l._resizeStartPosition.x&&e.pageY===l._resizeStartPosition.y)return void s();if("left"===l._resize.side||"right"===l._resize.side){if(d=p.width,"left"===l._resize.side?(t=p.parent.items[p.index-1],o=g,n=u<o):(t=p.parent.items[p.index+1],o=g+p.widget.width(),n=u>=o),0===(a=Math.abs(u-o)))return void s();if(n?(r=l._getPercentage(i(!0,p,t,a,"width"),p.parent,"width"),a=Math.abs(r-parseFloat(t.width)),t.width=r+"%",p.width=parseFloat(p.width)+a+"%"):(r=l._getPercentage(i(!1,p,t,a,"width"),p.parent,"width"),a=Math.abs(r-parseFloat(p.width)),p.width=r+"%",t.width=parseFloat(t.width)+a+"%"),p.width===d)return void s()}else{if(d=p.height,"top"===l._resize.side?(t=p.parent.items[p.index-1],o=y,n=c<o):(t=p.parent.items[p.index+1],o=y+p.widget.height(),n=c>=o),0===(a=Math.abs(c-o)))return void s();if(n?(r=l._getPercentage(i(!0,p,t,a,"height"),p.parent,"height"),a=Math.abs(r-parseFloat(t.height)),t.height=r+"%",p.height=parseFloat(p.height)+a+"%"):(r=l._getPercentage(i(!1,p,t,a,"height"),p.parent,"height"),a=Math.abs(r-parseFloat(p.height)),p.height=r+"%",t.height=parseFloat(t.height)+a+"%"),p.height===d)return void s()}s(),l.render(),l._raiseEvent("1",{item:p})}}function a(t){if(!0===l._clickedToResize){var o=t.pageX,i=t.pageY;"left"===l._resize.side||"right"===l._resize.side?(l._verticalFeedback[0].style.display="block",o<r?(o=r,l._verticalFeedback.addClass(l.toThemeProperty("jqx-layout-resize-feedback-warning"))):o>d?(o=d,l._verticalFeedback.addClass(l.toThemeProperty("jqx-layout-resize-feedback-warning"))):l._verticalFeedback.removeClass(l.toThemeProperty("jqx-layout-resize-feedback-warning")),l._verticalFeedback.offset({left:o-2})):(l._horizontalFeedback[0].style.display="block",i<r?(i=r,l._horizontalFeedback.addClass(l.toThemeProperty("jqx-layout-resize-feedback-warning"))):i>d?(i=d,l._horizontalFeedback.addClass(l.toThemeProperty("jqx-layout-resize-feedback-warning"))):l._horizontalFeedback.removeClass(l.toThemeProperty("jqx-layout-resize-feedback-warning")),l._horizontalFeedback.offset({top:i-2}),l._horizontalFeedback.offset({left:l._resize.widget.offset().left+e(window).scrollLeft()+1}))}}var r,d,l=this,s=l.element.id;if(l._resize={allowed:!1},l._clickedToResize=!1,l._docUP=n,l._touchDevice?(l.addHandler(e(document),"touchstart.jqxDockingLayout"+s,function(e){var i=e.originalEvent.touches[0];t(i.pageX,i.pageY),o(i)}),l.addHandler(e(document),"touchmove.jqxDockingLayout"+s,function(e){a(e.originalEvent.touches[0])}),l.addHandler(e(document),"touchend.jqxDockingLayout"+s,function(e){n(e.originalEvent.changedTouches[0])})):(l.addHandler(l.host,"mousemove.jqxLayout"+s,function(e){if(!1===l._clickedToResize&&(!l.dockingLayout||l.dockingLayout&&!0!==l.dockingLayout._windowDragged)){t(e.pageX,e.pageY)}}),l.addHandler(e(document),"mousemove.jqxLayout"+s,function(e){a(e)}),l.addHandler(l.host,"mousedown.jqxLayout"+s,function(e){o(e)}),l.addHandler(e(document),"mouseup.jqxLayout"+s,function(e){n(e)})),l.addHandler(e(document),"selectstart.jqxLayout"+s,function(){if(!0===l._clickedToResize)return!1}),l.dockingLayout)try{(""!==document.referrer||window.frameElement)&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",l._mouseupHandler,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",l._mouseupHandler))}catch(e){}},_removeHandlers:function(){var t=this,o=t.element.id;if(t._touchDevice?(t.removeHandler(e(document),"touchstart.jqxLayout"+o),t.removeHandler(e(document),"touchmove.jqxLayout"+o),t.removeHandler(e(document),"touchend.jqxLayout"+o)):(t.removeHandler(t.host,"mousemove.jqxLayout"+o),t.removeHandler(e(document),"mousemove.jqxLayout"+o),t.removeHandler(t.host,"mousedown.jqxLayout"+o),t.removeHandler(e(document),"mouseup.jqxLayout"+o)),t.removeHandler(e(document),"selectstart.jqxLayout"+o),t.dockingLayout)try{(""!==document.referrer||window.frameElement)&&(window.top.document.removeEventListener?window.top.document.removeEventListener("mouseup",t._mouseupHandler,!1):window.top.document.detachEvent&&window.top.document.detachEvent("onmouseup",t._mouseupHandler))}catch(e){}e("."+o+"FloatGroup").off("close")},_createLayout:function(t,o,i){function n(e){var t=o.children(),i=t.eq(0),n=t.eq(1);i.text(e.title),s=e.content?e.content:a._originalElement.find('[data-container="'+e.contentContainer+'"]').html(),void 0===s&&(s=""),n.html(s)}for(var a=this,r=i.type,d=0;d<t.length;d++){var l,s,u,c,p=t[d];switch(p.type){case"layoutGroup":if(l=e("<div></div>"),l.addClass(a.toThemeProperty("jqx-layout-group-default")),"horizontal"===p.orientation&&l.addClass(a.toThemeProperty("jqx-layout-group-default-horizontal")),o.append(l),"host"===r)l.addClass(a.toThemeProperty("jqx-layout-group-root"));else{var h="horizontal"===i.orientation?p.width:"100%",g="horizontal"===i.orientation?"100%":p.height;l.css({width:h,height:g})}break;case"tabbedGroup":"floatGroup"!==r?(l=e('<div class="'+a.toThemeProperty("jqx-layout-group-tabbed")+'"><div class="jqx-layout-window-header"><div></div></div><div><div class="jqx-layout-ribbon"><ul class="jqx-layout-ribbon-header jqx-layout-ribbon-header-'+(a.rtl?"rtl":"ltr")+'"></ul><div class="jqx-layout-ribbon-content"></div></div></div></div>'),o.append(l),a._addRightClickHandler(l.find(".jqx-layout-window-header"),l)):(l=e('<div class="jqx-layout-ribbon"><ul class="jqx-layout-ribbon-header jqx-layout-ribbon-header-'+(a.rtl?"rtl":"ltr")+'"></ul><div class="jqx-layout-ribbon-content"></div></div>'),o.children().eq(1).append(l));break;case"documentGroup":case"autoHideGroup":l=e("<div><ul></ul><div></div></div>"),o.append(l),"documentGroup"===p.type&&l.find("ul").addClass("jqx-layout-ribbon-header jqx-layout-ribbon-header-"+(a.rtl?"rtl":"ltr")),a._ie7&&"autoHideGroup"===p.type&&l.css("z-index",9999-500*d);break;case"floatGroup":if(a._rendered&&!0!==p.programmaticallyAdded)continue;if(!a.dockingLayout)throw new Error("Float groups are only available in the jqxDockingLayout widget. Initialize a jqxDockingLayout (requires jqxdockinglayout.js) instead of a jqxLayout.");l=e('<div class="'+a.toThemeProperty("jqx-docking-layout-group-floating")+'"><div></div><div></div></div>'),o.append(l),!0===p.programmaticallyAdded&&delete p.programmaticallyAdded;break;case"layoutPanel":if(l={},"tabbedGroup"===r){""===o.find(".jqx-layout-window-header").text()&&o.find(".jqx-layout-window-header div:eq(0)").text(p.title),c=e("<li>"+p.title+"</li>"),o.find(".jqx-layout-ribbon-header").append(c),a._rendered||p.docked?s=p.detachedContent:void 0===(s=a._originalElement.find('[data-container="'+p.contentContainer+'"]').html())&&(s=""),u=e("<div></div>"),u.append(s),o.find(".jqx-layout-ribbon-content").append(u),a._addRightClickHandler(c,l)}else if("autoHideGroup"===r){e(o.children()[0]).append("<li>"+p.title+"</li>"),a._rendered?s=p.detachedContent:void 0===(s=a._originalElement.find('[data-container="'+p.contentContainer+'"]').html())&&(s=""),u=e("<div></div>"),u.append(s);var y;y="left"===i.alignment||"right"===i.alignment?"jqx-layout-group-auto-hide-content-vertical":"jqx-layout-group-auto-hide-content-horizontal",u.addClass(a.toThemeProperty(y));var m=e('<div><div class="jqx-layout-window"><div><div>'+p.title+"</div></div></div></div>");m.children().append(u),e(o.children()[1]).append(m),a._addRightClickHandler(m.find(".jqx-layout-window"),l)}else"floatGroup"===r&&n(p);break;case"documentPanel":l={},"floatGroup"===r?n(p):(c=e("<li>"+p.title+"</li>"),e(o.children()[0]).append(c),a._rendered?s=p.detachedContent:void 0===(s=a._originalElement.find('[data-container="'+p.contentContainer+'"]').html())&&(s=""),u=e("<div></div>"),u.append(s),e(o.children()[1]).append(u),a._addRightClickHandler(c,l))}if(p.items&&p.items.length>0){var w=l;a._createLayout(p.items,w,p)}if(a._createWidget(i,o,p,l,d),a.dockingLayout&&("documentGroup"===p.type||"tabbedGroup"===p.type||"layoutGroup"===p.type&&0===p.items.length)){var f={element:l,width:l.width(),height:l.height(),offset:l.offset(),settings:p};a._overlayGroups.push(f),"floatGroup"===p.parent.type&&(p.parent._overlayGroup=f)}}},_createWidget:function(t,o,i,n,a){function r(){for(var e=0,t=0;t<i.items.length;t++)if(!0===i.items[t].selected){e=t;break}return i.items[e].selected=!0,e}var d=this,l="horizontal"===t.orientation?i.width:"100%",s="horizontal"===t.orientation?"100%":i.height,u=!1;switch(i.parent=t,i.widget=n,i.index=a,i.widget&&(i.widget.current=i),i.type){case"tabbedGroup":var c,p;"floatGroup"!==t.type?(c=d._initWindowPanel(n,l,s,i.type),p=n.find(".jqx-layout-ribbon"),d._tabbedGroupsList.push(i)):p=n,d.dockingLayout&&!1!==i.allowDrag&&(u=!0),p.jqxRibbon({theme:d.theme,width:"100%",height:"100%",position:"bottom",selectionMode:"click",animationType:"none",rtl:d.rtl,_roundedCorners:!1,initContent:function(e){var t=i.items[e];!t.initialized&&t.initContent&&(t.initContent(p.find(".jqx-ribbon-content-section").eq(e)),t.initialized=!0)},_removeByDrag:u,reorder:!0}),p.on("select",function(o){if(o.stopPropagation(),o.target.id===p[0].id){o.stopPropagation();var n=o.args.selectedIndex;i.items[n].selected=!0;var a=e(e(p.children()[1]).children()[n]).text();"floatGroup"!==t.type?c.html(a):t.widget.find(".jqx-window-header").children().eq(0).html(a)}}),p.on("unselect",function(e){e.stopPropagation(),e.target.id===p[0].id&&(i.items[e.args.unselectedIndex].selected=!1)}),p.on("reorder",function(t){d._swapPanelsInLayout(i.items,t.args.newIndex,t.args.oldIndex);var o=t.args.newIndex;setTimeout(function(){i.items[o]&&d._addRightClickHandler(e(p.find(".jqx-ribbon-item")[o]),i.items[o].widget)},200)}),u&&(p.on("_removeByDrag",function(e){d.dockingLayout._removeByDragHandler(e,i,p),"floatGroup"===i.parent.type&&1===i.items.length&&p.jqxRibbon({_removeByDrag:!1})}),d.dockingLayout._addTabbedGroupHandlers(i,n)),p.jqxRibbon("selectAt",r());break;case"documentGroup":d.dockingLayout&&!1!==i.allowDrag&&(u=!0),n.jqxRibbon({theme:d.theme,width:l,height:s,_roundedCorners:!1,position:"top",selectedIndex:r(),selectionMode:"click",animationType:"none",rtl:d.rtl,initContent:function(e){var t=i.items[e];!t.initialized&&t.initContent&&(t.initContent(n.find(".jqx-ribbon-content-section").eq(e)),t.initialized=!0)},_removeByDrag:u,reorder:!0}),n.on("select",function(e){e.stopPropagation(),e.target.id===n[0].id&&(i.items[e.args.selectedIndex].selected=!0)}),n.on("unselect",function(e){e.stopPropagation(),e.target.id===n[0].id&&(i.items[e.args.unselectedIndex].selected=!1)}),n.on("reorder",function(t){d._swapPanelsInLayout(i.items,t.args.newIndex,t.args.oldIndex);var o=t.args.newIndex;setTimeout(function(){d._addRightClickHandler(e(n.find(".jqx-ribbon-item")[o]),i.items[o].widget)},200)}),u&&n.on("_removeByDrag",function(e){d.dockingLayout._removeByDragHandler(e,i,n)}),n.addClass(d.toThemeProperty("jqx-layout-group-document"));break;case"autoHideGroup":n.jqxRibbon({theme:d.theme,width:l,height:s,mode:"popup",popupCloseMode:"click",position:i.alignment,selectionMode:"click",animationType:"none",_roundedCorners:!1,rtl:d.rtl,initContent:function(t){var o="top"===i.alignment||"left"===i.alignment?1:0,a=e(e(n.children()[o]).children()[t]),r=a.find(".jqx-layout-window");r.current=n.current.items[t],r.css("border","none"),d._initWindowPanel(r,"100%","100%",i.type),!i.items[t].initialized&&i.items[t].initContent&&(i.items[t].initContent(n.find(".jqx-ribbon-content-section").eq(t).children().children().eq(1)),i.items[t].initialized=!0)}}),n.addClass(d.toThemeProperty("jqx-layout-group-auto-hide"));break;case"floatGroup":n.addClass(d.element.id+"FloatGroup"),n.jqxWindow({theme:d.theme,width:i.width,maxWidth:null,height:i.height,maxHeight:null,position:{x:i.position.x,y:i.position.y},showCloseButton:!1!==i.allowClose,closeButtonAction:"close",rtl:d.rtl,initContent:function(){var e=n.find(".jqx-window-header"),t=d._touchDevice?"touchstart":"mousedown";if(e.on(t,function(){d.dockingLayout._windowDragged=!0,i._overlayGroup&&(i._overlayGroup.self=!0),d.dockingLayout._interval(),d.resizable&&(d._overlay[0].style.display="block");var e,t,o;"documentPanel"===i.items[0].type?(e={type:"documentGroup"},t=i.items[0],o=t.title):"layoutPanel"===i.items[0].type?(e={type:"tabbedGroup"},t=i.items[0],o=t.title):"tabbedGroup"===i.items[0].type&&(e=i.items[0]),d.dockingLayout._draggedWindow={fromGroup:e,fromPanel:t,title:o,element:n},d.dockingLayout._showEdgeOverlays()}),e.on("mouseup",function(){d.dockingLayout._hideOverlays()}),"tabbedGroup"===i.items[0].type){var o=i.items[0].items[n.find(".jqx-ribbon").jqxRibbon("selectedIndex")].title;n.jqxWindow("setTitle",o)}else i.items[0].initContent&&i.items[0].initContent(n.find(".jqx-widget-content"))}}),n.on("moved",function(e){i.position.x=e.args.x,i.position.y=e.args.y,i._overlayGroup&&d.dockingLayout._updateOverlayGroup(i._overlayGroup),d.dockingLayout._windowCreate=!1,d.dockingLayout._hideOverlays(),d.dockingLayout._clearTextSelection()}),n.on("resized",function(t){i.width=t.args.width,i.height=t.args.height;var o=e(this).offset();i.position.x=o.left,i.position.y=o.top,i._overlayGroup&&d.dockingLayout._updateOverlayGroup(i._overlayGroup)}),n.on("close",function(e){e.stopPropagation(),e.target.id===n[0].id&&(n.current._overlayGroup&&(n.current._overlayGroup.removed=!0,d.dockingLayout._updateOverlayGroups()),d.dockingLayout._removeFloatGroupObject(n.current))})}},_initWindowPanel:function(t,o,i,n){var a=this;if(t.addClass(a.toThemeProperty("jqx-widget jqx-widget-content jqx-window jqx-layout-pseudo-window jqx-rc-all")),a._ie7){var r=t.parent();if("tabbedGroup"===n){var d,l,s=parseInt(t.css("border-left-width"),10),u=parseInt(t.css("border-right-width"),10),c=parseInt(t.css("border-top-width"),10),p=parseInt(t.css("border-bottom-width"),10);d="100%"===o?r.width():parseFloat(o)/100*r.width(),d-=s+u,l="100%"===i?r.height():parseFloat(i)/100*r.height(),l-=c+p,t.css({width:d,height:l})}else"autoHideGroup"===n&&t.css({width:o,height:i})}else t.css({width:o,height:i});var h=a.rtl?"rtl":"ltr",g=e(t.children()[0]),y=g.children();y.addClass(a.toThemeProperty("jqx-layout-pseudo-window-title jqx-layout-pseudo-window-title-"+h)),g.addClass(a.toThemeProperty("jqx-widget-header jqx-window-header jqx-disableselect jqx-layout-pseudo-window-header")),a._ie7&&(g.css("width",g.width()-parseInt(g.css("padding-left"),10)-parseInt(g.css("padding-right"),10)),g.css("height",g.height()-parseInt(g.css("padding-top"),10)-parseInt(g.css("padding-bottom"),10)));var m,w,f=0;if((a.dockingLayout&&!1!==t.current.allowClose||!a.dockingLayout&&!0===t.current.allowClose)&&(m=e('<div class="'+a.toThemeProperty("jqx-window-close-button-background jqx-layout-pseudo-window-close-background jqx-layout-pseudo-window-close-background-"+h)+'" title="Close"><div class="'+a.toThemeProperty("jqx-window-close-button jqx- md-cancel   jqx-layout-pseudo-window-close-icon")+'"></div></div>'),g.append(m),f+=16),"tabbedGroup"===n&&!1!==t.current.allowPin||"autoHideGroup"===n&&!1!==t.current.parent.allowUnpin){var x;switch(n){case"tabbedGroup":x="jqx-layout-pseudo-window-pin-icon",t.pinned=!1;break;case"autoHideGroup":x="jqx-layout-pseudo-window-pinned-icon",t.pinned=!0}w=e('<div class="'+a.toThemeProperty("jqx-window-close-button-background jqx-layout-pseudo-window-pin-background")+'" title="Auto Hide"><div class="'+a.toThemeProperty(x)+'"></div></div>'),m?w.addClass(a.toThemeProperty("jqx-layout-pseudo-window-pin-background-"+h)):!1===a.rtl&&w.css("right",0),g.append(w),f+=16,a.dockingLayout&&"autoHideGroup"===n&&a.dockingLayout._addAutoHideGroupHandlers(t.current,g,t.current.title,e(t.children()[1]).contents())}y.css("max-width",g.width()-f);var v=e(t.children()[1]);return v.css("height",1+t.height()-g.outerHeight()),v.css("margin-left","-1px"),v.css("margin-right","-1px"),a._addWindowPanelHandlers(m,w,t),y},_addWindowPanelHandlers:function(e,t,o){var i=this,n=i.element.id,a=o.current,r=a.type;e&&i.addHandler(e,"click.jqxLayout"+n,function(){if("tabbedGroup"===r&&a.items.length>1){var e=o.find(".jqx-ribbon-item-selected")[0]._index;i._close(a.items[e])}else o.fadeOut(function(){i._close(a),o.remove()})}),t&&i.addHandler(t,"click.jqxLayout"+n,function(){"tabbedGroup"===r&&!0===a.pinValid?i._pin(a):"layoutPanel"===r&&i._unPin(a.parent)})},_getGroupCoordinates:function(){function e(e){return"layoutGroup"===e||"tabbedGroup"===e||"documentGroup"===e}function t(i){for(var n=0;n<i.length;n++){var a=i[n];if(e(a.type)){var r,d,l,s,u,c=i[n-1],p=i[n+1],h=a.widget.offset();c&&e(c.type)&&("horizontal"===a.parent.orientation?(r=h.left-5,d=r+10,l=h.top-5,s=l+a.widget.height()+10,u="left"):(r=h.left-5,d=r+a.widget.width()+10,l=h.top-5,s=l+10,u="top"),o._coordinates.push({x:{from:r,to:d},y:{from:l,to:s},widget:a.widget,side:u,orientation:a.parent.orientation})),p&&e(p.type)&&("horizontal"===a.parent.orientation?(r=h.left+a.widget.width()-5,d=r+10,l=h.top-5,s=l+a.widget.height()+10,u="right"):(r=h.left-5,d=r+a.widget.width()+10,l=h.top+a.widget.height()-5,s=l+10,u="bottom"),o._coordinates.push({x:{from:r,to:d},y:{from:l,to:s},widget:a.widget,side:u,orientation:a.parent.orientation})),a.items&&t(a.items)}}}var o=this;o._coordinates=[],t(o.layout[0].items)},_close:function(e){var t,o=this;if(e.removed=!0,"tabbedGroup"===e.type||"autoHideGroup"===e.type||"documentGroup"===e.type){if(t="tabbedGroup"===e.type?e.widget.find(".jqx-ribbon"):e.widget,t.jqxRibbon("destroy"),e.parent.items){var i=e.parent.items[e.index-1],n=e.parent.items[e.index+1],a="vertical"===e.parent.orientation?"height":"width",r=function(t){var i=parseFloat(t[a])+parseFloat(e[a])+"%";"documentGroup"===t.type?"height"===a?t.widget.jqxRibbon({height:i}):t.widget.jqxRibbon({width:i}):"layoutGroup"!==t.type&&"tabbedGroup"!==t.type||t.widget.css(a,i),t[a]=i,o._raiseEvent("1",{item:t})};i&&"autoHideGroup"!==i.type&&"floatGroup"!==i.type?r(i):n&&"autoHideGroup"!==n.type&&"floatGroup"!==n.type&&r(n)}}else if("layoutPanel"===e.type){if("tabbedGroup"===e.parent.type)return t=e.parent.widget.find(".jqx-ribbon"),t.jqxRibbon("removeAt",e.index),o._updateLayout(o.layout),void(0===e.index?t.jqxRibbon("selectAt",0):t.jqxRibbon("selectAt",e.index-1));if("autoHideGroup"===e.parent.type){t=e.parent.widget,t.jqxRibbon("removeAt",e.index);var d=t.children("ul").children();0===d.length&&o._close(t.current)}}o._updateLayout(o.layout),o.render()},_updateLayout:function(e){for(var t=0;t<e.length;t++)if(!0===e[t].removed){e.splice(t,1);for(var o=0;o<e.length;o++)e[o].index=o}else e[t].items&&this._updateLayout(e[t].items)},_pin:function(e){var t,o,i,n=this,a=e.parent;if(e.alignment)t=e.alignment;else{var r=Math.abs(e.parent.items.length-1-e.index);t=Math.abs(0-e.index)<r?"horizontal"===e.parent.orientation?"left":"top":"horizontal"===e.parent.orientation?"right":"bottom"}var d="top"===t||"left"===t?e.index+1:e.index-1;"left"===t||"right"===t?(o="width",i=e.pinnedWidth):(o="height",i=e.pinnedHeight),i||("width"===o?i=8e3/e.parent.widget.width()+"%":"height"===o&&(i=3e3/e.parent.widget.height()+"%")),n._detachContent(e.items,!0);var l={type:"autoHideGroup",alignment:t,items:e.items};l[o]=i,l["min"+o.charAt(0).toUpperCase()+o.slice(1)]=e["min"+o.charAt(0).toUpperCase()+o.slice(1)],l["unpinned"+o.charAt(0).toUpperCase()+o.slice(1)]=e[o],l.allowDrag=e.allowDrag,l.allowDrop=e.allowDrop;var s=a.items[d];s[o]=parseFloat(s[o])+parseFloat(e[o])-parseFloat(i)+"%",a.items.splice(e.index,0,l),e.removed=!0,e.widget.find(".jqx-ribbon").jqxRibbon("destroy"),e.widget.remove(),n._updateLayout(n.layout),n.render(),n._raiseEvent("1",{item:s}),n._raiseEvent("2",{item:l})},_unPin:function(e){var t,o,i,n=this,a=e.parent,r=e.alignment,d="top"===r||"left"===r?e.index+1:e.index-1,l=a.items[d];"left"===r||"right"===r?(t="width",o=e.unpinnedWidth):(t="height",o=e.unpinnedHeight),o||(o="10%"),n._detachContent(e.items,!0);var s={type:"tabbedGroup",alignment:r,items:e.items};if(s["pinned"+t.charAt(0).toUpperCase()+t.slice(1)]=e[t],s.allowDrag=e.allowDrag,s.allowDrop=e.allowDrop,l){var u=parseFloat(l[t])+parseFloat(e[t])-parseFloat(o)+"%",c=l["min"+t.charAt(0).toUpperCase()+t.slice(1)];c||(c=n["minGroup"+t.charAt(0).toUpperCase()+t.slice(1)]),parseFloat(u)<n._getPercentage(c,a,t)?(o=e[t],u=n._getPercentage(c,a,t)+"%",s["min"+t.charAt(0).toUpperCase()+t.slice(1)]=e.widget.width()):s["min"+t.charAt(0).toUpperCase()+t.slice(1)]=e["min"+t.charAt(0).toUpperCase()+t.slice(1)],s[t]=o,l[t]=u,i=l}else s["min"+t.charAt(0).toUpperCase()+t.slice(1)]=e["min"+t.charAt(0).toUpperCase()+t.slice(1)],s[t]="100%",i=s;a.items.splice(e.index,0,s),e.removed=!0,e.widget.jqxRibbon("destroy"),n._updateLayout(n.layout),n.render(),n._raiseEvent("1",{item:i}),n._raiseEvent("3",{item:s})},_copyItem:function(e,t){var o={};for(var i in e)if(e.hasOwnProperty(i)&&"parent"!==i&&"widget"!==i&&"initialized"!==i)if("position"===i)o.position={x:e.position.x,y:e.position.y};else if("items"===i){for(var n=[],a=0;a<e.items.length;a++)this._copyItem(e.items[a],n);o.items=n}else o[i]=e[i];t.push(o)},_addResizeFeedbacks:function(){var t=this;t._horizontalFeedback=e('<div class="'+t.toThemeProperty("jqx-fill-state-normal jqx-layout-resize-feedback jqx-layout-resize-feedback-horizontal")+'"></div>'),t._verticalFeedback=e('<div class="'+t.toThemeProperty("jqx-fill-state-normal jqx-layout-resize-feedback jqx-layout-resize-feedback-vertical")+'"></div>'),t._overlay=e('<div class="'+t.toThemeProperty("jqx-layout-overlay")+'"></div>'),t.dockingLayout&&t.dockingLayout._windowDragged&&(t._overlay[0].style.display="block"),t.host.append(t._horizontalFeedback,t._verticalFeedback,t._overlay)},_detachContent:function(e,t){function o(e){if(!0===e.prevent)e.prevent=!1;else{var o=e.parent.widget.find(".jqx-ribbon-content-section").eq(e.index);n=o.contents().detach(),o.remove(),e.detachedContent=n,!0===t&&(e.prevent=!0)}}for(var i=e.length-1;i>=0;i--){var n,a=e[i],r=a.type;if("layoutGroup"===r||"tabbedGroup"===r||"documentGroup"===r||"autoHideGroup"===r||"floatGroup"===r)a.items&&a.items.length>0&&this._detachContent(a.items);else if("layoutPanel"===r){if("tabbedGroup"===a.parent.type)o(a);else if("autoHideGroup"===a.parent.type)if(!0===a.prevent)a.prevent=!1;else{if("left"===a.parent.alignment||"right"===a.parent.alignment){var d=a.parent.widget.find(".jqx-layout-group-auto-hide-content-vertical").eq(i);n=d.contents().detach(),d.remove()}else{var l=a.parent.widget.find(".jqx-layout-group-auto-hide-content-horizontal").eq(i);n=l.contents().detach(),l.remove()}a.detachedContent=n,!0===t&&(a.prevent=!0)}}else"documentPanel"===r&&o(a)}},_pxToPercent:function(e,t){function o(o,n){var a;return o=parseInt(o,10),a=t?i.host[n]():e["initialPx"+n.charAt(0).toUpperCase()+n.slice(1)],(100*o/a).toString()+"%"}for(var i=this,n=0;n<e.items.length;n++){var a=e.items[n];void 0!==a.width?(a.initialPxWidth=a.width,a.width=o(a.width,"width")):a.initialPxWidth=e.initialPxWidth,void 0!==a.height?(a.initialPxHeight=a.height,a.height=o(a.height,"height")):a.initialPxHeight=e.initialPxHeight,void 0!==a.unpinnedWidth&&(a.unpinnedWidth=o(a.unpinnedWidth,"width")),void 0!==a.pinnedWidth&&(a.pinnedWidth=o(a.pinnedWidth,"width")),void 0!==a.unpinnedHeight&&(a.unpinnedHeight=o(a.unpinnedHeight,"height")),void 0!==a.pinnedHeight&&(a.pinnedHeight=o(a.pinnedHeight,"height")),"layoutGroup"===a.type&&a.items&&a.items.length>0&&i._pxToPercent(a,!1)}},_percentToPx:function(e,t,o){return void 0===t?void 0:"string"!=typeof t||"string"==typeof t&&"%"!==t.charAt(t.length-1)?parseFloat(t):parseFloat(t.slice(0,t.length-1))/100*o.widget[e]()},_swapPanelsInLayout:function(e,t,o){var i=e[t];e[t]=e[o],e[t].index=t,e[o]=i,e[o].index=o},_initMenu:function(){var t=this;if(!t._menuInitialized){var o=t.element.id,i="",n=function(e,i,n){t._menu.jqxMenu("disable","dockOption"+o,e),t._menu.jqxMenu("disable","autoHideOption"+o,i),t._menu.jqxMenu("disable","closeOption"+o,n)};if(!t.host.jqxMenu)throw new Error("jqxLayout: Missing reference to jqxmenu.js.");t.dockingLayout&&(i='<li id="floatOption'+o+'">Float</li>'),t._menu=e('<div class="'+t.toThemeProperty("jqx-layout-context-menu jqx-layout-context-menu-"+o)+'"><ul>'+i+'<li id="dockOption'+o+'">Dock</li><li id="autoHideOption'+o+'" style="white-space: nowrap;">Auto Hide</li><li id="closeOption'+o+'">Close</li></ul></div>'),e("body").append(t._menu),t._menu.jqxMenu({theme:t.theme,width:100,
height:"auto",autoOpenPopup:!1,mode:"popup",popupZIndex:99999,rtl:t.rtl}),t._menuInitialized=!0,t._menu.on("itemclick",function(o){t._handleMenuItemClick(e(o.target).text())});var a=function(e){return t.dockingLayout?!1===e.allowClose:!0!==e.allowClose};t._menu.on("shown",function(){switch(t._contextMenuTarget.type){case"tabbedGroup":n(!0,!1===t._contextMenuTarget.allowPin||!1===t._contextMenuTarget.pinValid,a(t._contextMenuTarget));break;case"layoutPanel":var e=t._contextMenuTarget.parent;"tabbedGroup"===e.type?n(!0,!1===e.allowPin||t._isMiddleTabbedGroup(e),a(e)):"autoHideGroup"===e.type&&n(!1===e.allowUnpin,!0,a(t._contextMenuTarget));break;case"documentPanel":n(!0,!0,a(t._contextMenuTarget))}})}},_addRightClickHandler:function(t,o){var i=this;!0===i.contextMenu&&(i.addHandler(t,"mousedown.jqxLayout"+i.element.id,function(t){if(!0===i.contextMenu&&(t.which&&3===t.which||t.button&&2===t.button)){var n=e(window).scrollTop(),a=e(window).scrollLeft();i._contextMenuTarget=o.current,i._menu.jqxMenu("open",parseInt(t.clientX,10)+5+a,parseInt(t.clientY,10)+5+n)}}),i.addHandler(t,"contextmenu.jqxLayout"+i.element.id,function(){if(!0===i.contextMenu)return!1}))},_handleMenuItemClick:function(e){var t=this,o=t._contextMenuTarget.type,i=t._contextMenuTarget.parent;switch(e){case"Float":switch(o){case"tabbedGroup":t.dockingLayout._floatTabbedGroup(t._contextMenuTarget,t._contextMenuTarget.widget);break;case"layoutPanel":if("tabbedGroup"===i.type)t.dockingLayout._removeByDragHandler(void 0,i,i.widget,t._contextMenuTarget.index,!1);else if("autoHideGroup"===i.type){var n=t._contextMenuTarget.parent.widget.find(".jqx-ribbon-content").children().eq(t._contextMenuTarget.index).find(".jqx-layout-window").children().eq(1).contents();t.dockingLayout._floatAutoHideGroup(t._contextMenuTarget,t._contextMenuTarget.title,n)}break;case"documentPanel":t.dockingLayout._removeByDragHandler(void 0,i,i.widget,t._contextMenuTarget.index,!1)}break;case"Dock":t._unPin(t._contextMenuTarget.parent);break;case"Auto Hide":switch(o){case"tabbedGroup":t._pin(t._contextMenuTarget);break;case"layoutPanel":t._pin(t._contextMenuTarget.parent)}break;case"Close":switch(o){case"tabbedGroup":t._close(t._contextMenuTarget);break;case"layoutPanel":t._contextMenuTarget.parent.items.length>1?t._close(t._contextMenuTarget):t._close(t._contextMenuTarget.parent);break;case"documentPanel":t._closeDocumentPanel(t._contextMenuTarget.index,t._contextMenuTarget.parent.items,t._contextMenuTarget.parent,t._contextMenuTarget.parent.widget,!1)}}},_closeDocumentPanel:function(e,t,o,i,n){var a=this;if(!1===n&&i.jqxRibbon("removeAt",e),t.length>1){var r=!1;t[e].removed=!0,a._updateLayout(t);for(var d=0;d<t.length;d++)if(!0===t[d].selected){r=!0;break}setTimeout(function(){!1===r?t[e]?i.jqxRibbon("selectAt",e):i.jqxRibbon("selectAt",e-1):i.jqxRibbon("render")},0)}else a._close(o)},_isMiddleTabbedGroup:function(e){return!(0===e.index||e.index===e.parent.items.length-1)},_validateTabbedGroup:function(e){var t=this,o=!0;if((o=o&&e.parent.items.length>1)&&2===e.parent.items.length){var i=0===e.index?1:0;"autoHideGroup"===e.parent.items[i].type&&(o=!1)}o&&(o=o&&!t._isMiddleTabbedGroup(e)),e.pinValid=o,!1===o&&e.widget.find(".jqx-layout-pseudo-window-pin-background").addClass("jqx-fill-state-disabled")},_mouseupHandler:function(e){var t=this;try{t.dockingLayout&&(t._docUP(e),t.dockingLayout._windowCreate=!1,t.dockingLayout._hideOverlays())}catch(e){}}})}(jqxBaseFramework);