!function(e){e.jqx.scheduler||(e.jqx.scheduler={}),e.jqx.jqxWidget("jqxScheduler","",{}),e.extend(e.jqx._jqxScheduler.prototype,{defineInstance:function(){var t={altRows:!1,autoShowLoadElement:!0,columnsHeight:30,columns:[],columnGroups:null,dataview:null,disabled:!1,enableHover:!0,appointmentOpacity:.8,headerZIndex:359,height:600,timeRulerWidth:60,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",localization:null,ready:null,renderToolBar:null,renderAppointment:null,rendered:null,rendering:null,rtl:!1,showToolbar:!0,showLegend:!1,legendPosition:"bottom",legendHeight:34,rowsHeight:27,touchRowsHeight:36,appointmentsMinHeight:18,touchAppointmentsMinHeight:27,appointmentsRenderMode:"default",serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:e.jqx.utilities.scrollBarSize,touchScrollBarSize:e.jqx.utilities.touchScrollBarSize,showHeader:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,showAllDayRow:!0,changedAppointments:new Array,renderMode:"simple",views:new Array,view:0,min:new e.jqx.date(0),max:new e.jqx.date(9999,12,31),date:new e.jqx.date("todayDate"),colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF","#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8","#E8601A","#FF9639","#F5BD6A","#599994","#115D6E","#D02841","#FF7C41","#FFC051","#5B5F4D","#364651","#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00","#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B","#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63","#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6","#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F","#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825","#993144","#FFA257","#CCA56A","#ADA072","#949681","#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932","#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54","#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3","#444546","#FFBB6E","#F28D00","#D94F00","#7F203B","#583C39","#674E49","#948658","#F0E99A","#564E49","#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17","#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5","#844341","#D5CC92","#BBA146","#897B26","#55591C","#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472","#96003A","#FF7347","#FFBC7B","#FF4154","#642223","#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E","#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7","#7B1A25","#BF5322","#9DA860","#CEA457","#B67818","#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46","#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800","#FF6800","#A0A700","#FF8D00","#678900","#0069A5"],colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],resources:null,contextMenu:!0,contextMenuOpen:null,contextMenuClose:null,contextMenuItemClick:null,contextMenuCreate:null,timeZone:null,statuses:{free:"white",tentative:"tentative",busy:"transparent",outOfOffice:"#800080"},appointmentDataFields:{from:"from",to:"to",id:"id",calendarId:"calendarId",description:"description",location:"location",subject:"subject",background:"background",color:"color",borderColor:"borderColor",style:"style",recurrencePattern:"recurrencePattern",recurrenceException:"recurrenceException",draggable:"draggable",resizable:"resizable",resourceId:"resourceId",status:"status",tooltip:"tooltip",hidden:"hidden",allDay:"allDay",timeZone:"timeZone",ownerId:"ownerId"},appointmentTooltips:!0,tableColumns:1,tableRows:1,dayNameFormat:"full",touchDayNameFormat:"abbr",toolBarRangeFormat:"dd MMMM yyyy",toolBarRangeFormatAbbr:"dd MM yyyy",columnRenderer:null,exportSettings:{serverURL:null,characterSet:null,fileName:"jqxScheduler",dateTimeFormatString:"S",resourcesInMultipleICSFiles:!1},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},editDialogDateTimeFormatString:"dd/MM/yyyy hh:mm tt",editDialogDateFormatString:"dd/MM/yyyy",editDialogOpen:null,editDialogCreate:null,editDialogKeyDown:null,editDialogClose:null,editDialog:!0,toolbarHeight:54,tableZIndex:369,_updating:!1,touchMode:"auto",width:800,that:this,beginDrag:null,endDrag:null,dragging:null,timeZones:[{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Rome",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Budapest, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}]};return e.extend(!0,this,t),this.that=this,t},createInstance:function(t){var i=this;i._views=new Array,i._view=i.view;for(var o=0;o<i.views.length;o++)"string"===e.type(i.views[o])?i._views.push({type:i.views[o]}):i._views.push(i.views[o]);for(var o=0;o<i._views.length;o++)if(i._views[o].type==i.view){i._view=o;break}15!=e.jqx.utilities.scrollBarSize&&(i.scrollBarSize=e.jqx.utilities.scrollBarSize),i.source&&!i.source.dataBind&&(i.source=new e.jqx.dataAdapter(i.source));var r=i.source._source.datafields;r&&r.length>0&&(i._camelCase=void 0!==i.source._source.dataFields,i.selectionMode=i.selectionMode.toLowerCase()),null==i.host.attr("tabindex")&&i.host.attr("tabindex","0"),i.host.attr("role","grid"),i.host.attr("align","left"),i.host.addClass(i.toTP("jqx-grid")),i.host.addClass(i.toTP("jqx-scheduler")),i.host.addClass(i.toTP("jqx-reset")),i.host.addClass(i.toTP("jqx-rc-all")),i.host.addClass(i.toTP("jqx-widget")),i.host.addClass(i.toTP("jqx-widget-content jqx-disableselect")),i._testmodules()||(i.overlay=e("<div style='z-index: 999; position:absolute;'></div>"),i.overlay.hide(),i.overlay.appendTo(i.host),i.render(!0),e.jqx.utilities.resize(i.host,function(){var t=e(window).width(),o=e(window).height();i._hostWidth=null,i._hostHeight=null;var r=i.host.width(),a=i.host.height();i._hostWidth=r,i._hostHeight=a,i._lastHostWidth==r&&i._lastHostHeight==a||i._updatesize(i._lastHostWidth!=r,i._lastHostHeight!=a),i._lastWidth=t,i._lastHeight=o,i._lastHostWidth=r,i._lastHostHeight=a}),i.createEditRecurrenceDialog())},createEditRecurrenceDialog:function(){var t=this;t.editRecurrenceDialog=null;var i=e("<div><div>"+t.schedulerLocalization.editRecurringAppointmentDialogTitleString+"</div><div><div>"+t.schedulerLocalization.editRecurringAppointmentDialogContentString+"</div><div style='position: absolute; white-space:nowrap; text-overflow: ellipsis; left:0px; width:100%; bottom: 0px;'><button title='"+t.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"' id='editRecurringAppointmentOccurrence."+t.element.id+"' style='white-space:nowrap; text-overflow: ellipsis; border-left-width: 0px;  border-bottom-width: 0px; border-radius:0px; width:50%;'>"+t.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"</button><button title='"+t.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"' id='editRecurringAppointmentSeries."+t.element.id+"' style=' white-space:nowrap; text-overflow: ellipsis; border-bottom-width: 0px;  border-left-width: 0px; border-right-width:0px; width:50%; border-radius:0px;'>"+t.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"</button></div></div></div>");t.editRecurrenceDialog=i,e(i).jqxWindow({rtl:t.rtl,autoFocus:!1,animationType:"none",autoOpen:!1,theme:t.theme,minWidth:300,minHeight:110,resizable:!1});var o=i.find("button");o.jqxButton({theme:t.theme,width:"50%",height:30});var r=!1;o.mousedown(function(){r=!0,this.id.indexOf("editRecurringAppointmentOccurrence")>=0?t.editSeries(!1):t.editSeries(!0),e(i).jqxWindow("close")}),this.addHandler(e(i),"open",function(e){t._raiseEvent("editRecurrenceDialogOpen",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})}),t.addHandler(e(i),"keydown",function(t){if(13==t.keyCode&&e(document.activeElement).ischildof(e(i))&&"button"==document.activeElement.nodeName.toLowerCase())return e(document.activeElement).trigger("mousedown"),e(document.activeElement).trigger("mouseup"),!0}),this.addHandler(e(i),"close",function(e){if(!r)return t._removeFeedbackAndStopResize(),t.overlay.hide(),t.focus(),t._raiseEvent("editRecurrenceDialogClose",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null}),!1;r=!1,t.overlay.hide(),t.focus(),t._raiseEvent("editRecurrenceDialogClose",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})}),t.editRecurrenceDialog=i},getViewStart:function(){var e=this.getVisibleDate(),t=this._views[this._view].type;this._views[this._view];switch(t){case"dayView":case"timelineDayView":return e}return this.getFirstDayOfWeek(e)},getViewEnd:function(){var e=this.getViewStart(),t=1,i=this._views[this._view].type,o=this._views[this._view];switch(i){case"dayView":case"timelineDayView":t=1,o.days&&(t=o.days);break;case"weekView":case"timelineWeekView":t=7,o.days&&(t=o.days);break;case"monthView":case"timelineMonthView":t=41,o.days&&(t=o.days);break;case"agendaView":t=7,o.days&&(t=o.days)}return e.addDays(t)},getFirstDayOfWeek:function(e){var t=e,i=this.schedulerLocalization.firstDay;for((i<0||i>6)&&(i=6);t.dayOfWeek()!=i;)t.addDays(-1,!1);return t},getVisibleDate:function(){var e=this.date;e<this.min&&(e=this.min),e>this.max&&(e=this.max);var t=this._views[this._view].type;this._views[this._view];switch(e=e.clearTime(),t){case"dayView":case"weekView":case"timelineDayView":case"timelineWeekView":case"agendaView":return e}var i=e.day();return e=e.addDays(1-i)},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var t=e('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.schedulerLocalization.loadString+"</span></div></div>");if(t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),""!=this.source._source.url){var i=!1;("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(i=!0),i?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height));var o=!1;("auto"===this.width||null===this.width||this.autoWidth)&&(o=!0),o?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width))}},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_testmodules:function(){var t="",i=function(){""!=t.length&&(t+=",")};this.host.jqxScrollBar||(i(),t+=" jqxscrollbar.js"),this.host.jqxButton||(i(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(i(),t+=" jqxdata.js"),this.host.jqxDateTimeInput||(i(),t+=" jqxdatetimeinput.js"),this.host.jqxCalendar||(i(),t+=" jqxcalendar.js");try{Globalize||(i(),t+=" globalize.js")}catch(e){}if(""!=t)throw new Error("jqxScheduler: Missing references to the following module(s): "+t);return!1},focus:function(){try{if(this.isTouchDevice())return;if(this._editDialog&&this._editDialog.jqxWindow("isOpen")){var e=this;return setTimeout(function(){e.editDialogFields.subject.focus(),e.editDialogFields.subject.select()},1),void(this.focused=!0)}if(document.activeElement==this.element)return;this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},_updatesize:function(t,i){if(!this._loading){var o=this,r=o.host.width(),a=o.host.height();o._oldWidth||(o._oldWidth=r),o._oldHeight||(o._oldHeight=a),void 0!=o._resizeTimer&&(clearTimeout(o._resizeTimer),o._resizeTimer=null);var n=function(){o._resizeTimer&&clearTimeout(o._resizeTimer),o.resizingGrid=!0,e.jqx.isHidden(o.host)||(o._updatecolumnwidths(),o.refresh(),o._oldWidth=r,o._oldHeight=a,o.resizingGrid=!1)};n(),o._resizeTimer=setTimeout(function(){var e=o.host.width(),t=o.host.height();o._oldWidth==e&&o._oldHeight==t||n()},300)}},resize:function(e,t){void 0!=e&&(this.width=e),void 0!=t&&(this.height=t),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var t=e.jqx.mobile.isTouchDevice();return this.touchDevice=t,1==this.touchMode?(t=!0,e.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=t):0==this.touchMode&&(t=!1),t&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxScheduler: "+this.loadingErrorMessage);if(null!=t){for(var o in this.schedulerLocalization)t[o]&&(this.schedulerLocalization[o]=t[o]);t.loadingErrorMessage&&(this.loadingErrorMessage=t.loadingErrorMessage),!1!==i&&(this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))}else this.schedulerLocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},agendaDateColumn:"Date",agendaTimeColumn:"Time",agendaAppointmentColumn:"Appointment",backString:"Back",forwardString:"Forward",toolBarPreviousButtonString:"previous",toolBarNextButtonString:"next",emptyDataString:"暂无数据",loadString:"Loading...",clearString:"Clear",todayString:"Today",dayViewString:"Day",weekViewString:"Week",monthViewString:"Month",agendaViewString:"Agenda",timelineDayViewString:"Timeline Day",timelineWeekViewString:"Timeline Week",timelineMonthViewString:"Timeline Month",agendaAllDayString:"all day",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",editRecurringAppointmentDialogTitleString:"Edit Recurring Appointment",editRecurringAppointmentDialogContentString:"Do you want to edit only this occurrence or the series?",editRecurringAppointmentDialogOccurrenceString:"Edit Occurrence",editRecurringAppointmentDialogSeriesString:"Edit The Series",editDialogTitleString:"Edit Appointment",editDialogCreateTitleString:"Create New Appointment",contextMenuEditAppointmentString:"Edit Appointment",contextMenuCreateAppointmentString:"Create New Appointment",editDialogSubjectString:"Subject",editDialogLocationString:"Location",editDialogFromString:"From",editDialogToString:"To",editDialogAllDayString:"All day",editDialogExceptionsString:"Exceptions",editDialogResetExceptionsString:"Reset on Save",editDialogDescriptionString:"Description",editDialogResourceIdString:"Owner",editDialogStatusString:"Status",editDialogColorString:"Color",editDialogColorPlaceHolderString:"Select Color",editDialogTimeZoneString:"Time Zone",editDialogSelectTimeZoneString:"Select Time Zone",editDialogSaveString:"Save",editDialogDeleteString:"Delete",editDialogCancelString:"Cancel",editDialogRepeatString:"Repeat",editDialogRepeatEveryString:"Repeat every",editDialogRepeatEveryWeekString:"week(s)",editDialogRepeatEveryYearString:"year(s)",editDialogRepeatEveryDayString:"day(s)",
editDialogRepeatNeverString:"Never",editDialogRepeatDailyString:"Daily",editDialogRepeatWeeklyString:"Weekly",editDialogRepeatMonthlyString:"Monthly",editDialogRepeatYearlyString:"Yearly",editDialogRepeatEveryMonthString:"month(s)",editDialogRepeatEveryMonthDayString:"Day",editDialogRepeatFirstString:"first",editDialogRepeatSecondString:"second",editDialogRepeatThirdString:"third",editDialogRepeatFourthString:"fourth",editDialogRepeatLastString:"last",editDialogRepeatEndString:"End",editDialogRepeatAfterString:"After",editDialogRepeatOnString:"On",editDialogRepeatOfString:"of",editDialogRepeatOccurrencesString:"occurrence(s)",editDialogRepeatSaveString:"Save Occurrence",editDialogRepeatSaveSeriesString:"Save Series",editDialogRepeatDeleteString:"Delete Occurrence",editDialogRepeatDeleteSeriesString:"Delete Series",editDialogStatuses:{free:"Free",tentative:"Tentative",busy:"Busy",outOfOffice:"Out of Office"}}},_updateScrollbars:function(e){var t=!1,i=this;("auto"===i.width||null===i.width||i.autowidth)&&999999==i.maxWidth&&(t=!0);var o=i._views[i._view].type,r=i._views[i._view];if("monthView"==o&&i.resources&&"none"==i.resources.orientation&&!r.monthRowAutoHeight){var a=i.vScrollBar[0].style.visibility;return i.hScrollBar[0].style.visibility="hidden",i.vScrollBar[0].style.visibility="hidden",void(a!=i.vScrollBar[0].style.visibility&&i._updatecolumnwidths())}var n=parseInt(i.scrollBarSize),s=i.table?i.table.height():0,l=0,d="inherit",a=i.vScrollBar[0].style.visibility;i.hScrollBar[0].style.visibility;if(e)var h=e;else var h=i.host.height();i.columnGroups?h-=i.showHeader?i.columnsheader.height():0:h-=i.showHeader?i.columnsHeight:0,i.filterable&&(h-=i.filter.height()),i.pageable&&(h-=i.pagerHeight,"both"===i.pagerPosition&&(h-=i.pagerHeight)),i.showToolbar&&(h-=i.toolbarHeight),i.showLegend&&i._resources.length>0&&(h-=i.legendHeight);var c=!1;("auto"===i.height||null===i.height||i.autoheight)&&999999==i.maxHeight&&(c=!0),!c&&s>h&&i.getRows().length>0?(i.vScrollBar[0].style.visibility=d,l=4+parseInt(n),i.vScrollBar.jqxScrollBar({max:s-h})):i.vScrollBar[0].style.visibility="hidden",a!=i.vScrollBar[0].style.visibility&&i._updatecolumnwidths();var p=i.table?i.table.width():0;p>4&&(p-=4);var u=parseInt(i.host.css("border-left-width"))+parseInt(i.host.css("border-right-width")),m=u+i.host.width()-l;if(p>m&&!t){if(i.hScrollBar[0].style.visibility=d,i.hScrollBar.jqxScrollBar({max:2+u+p-m}),l=4+parseInt(n),0==n&&(l=0),!c&&s!=h){if(s>h-l+4&&i.getRows().length>0){i.hScrollBar.jqxScrollBar({max:u+p-m});var f="hidden"===i.vScrollBar[0].style.visibility;i.vScrollBar[0].style.visibility=d,i._updatecolumnwidths(),f&&i.hScrollBar.jqxScrollBar({max:p-m+u});var g=i.table?i.table.width():0;g>3&&(g-=3),g!=p&&(g<m?(i.hScrollBar.jqxScrollBar({max:u+g-m}),i.hScrollBar[0].style.visibility="hidden",l=0):f?g>m&&i.hScrollBar.jqxScrollBar({max:u+g-m}):i.hScrollBar.jqxScrollBar({max:p-m+u-n}))}s-h>0?i.vScrollBar.jqxScrollBar({max:s-h+l}):i.vScrollBar[0].style.visibility="hidden"}}else i.hScrollBar[0].style.visibility="hidden";0===i.getRows().length&&(i.vScrollBar[0].style.visibility="hidden",i.bottomRight[0].style.visibility="hidden"),"hidden"==i.vScrollBar[0].style.visibility&&0!=i.vScrollInstance.value&&i.vScrollInstance.setPosition(0)},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>");i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i);var o=i.outerWidth()+20;return i.remove(),o},_arrangeAutoHeight:function(e){if(e||(e=0),"auto"===this.height||null===this.height||this.autoheight){var t=this.table.height(),i=0;if(this.columnGroups?i+=this.showHeader?this.columnsheader.height():-1:i+=this.showHeader?this.columnsHeight:-1,i+=this.showLegend&&this._resources.length>0?this.legendHeight:0,i+=this.showToolbar?this.toolbarHeight:0,i+=this.pageable?this.pagerHeight:0,"both"===this.pagerPosition&&(i+=this.pageable?this.pagerHeight:0),i+=t,this.filterable){var o=this.filter.find(".filterrow"),r=this.filter.find(".filterrow-hidden"),a=1;r.length>0&&(a=0),i+=this.filterHeight-1+this.filterHeight*o.length*a}return i+e>this.maxHeight?this.host.height(this.maxHeight):this.host.height(i+e),!0}return!1},_arrangeAutoWidth:function(e){if(e||(e=0),"auto"===this.width||null===this.width||this.autowidth){for(var t=0,i=0;i<this.columns.records.length;i++){var o=this.columns.records[i].width;this.columns.records[i].hidden||("auto"==o?(o=this._measureElementWidth(this.columns.records[i].text),t+=o):t+=o)}return width=t,width+e>this.maxWidth?this.host.width(this.maxWidth):this.host.width(width+e),!0}return!1},_measureTopAndHeight:function(){var e=this.host.height(),t=0;return this.showToolbar&&(t+=this.toolbarHeight,e-=parseInt(this.toolbarHeight)),this.showLegend&&"bottom"!=this.legendPosition&&this._resources.length>0&&(t+=parseInt(this.legendHeight)+1),{top:t,height:e}},_arrange:function(){if(this.table){this._arrangeAutoHeight(),this._arrangeAutoWidth();var e=this.legendHeight;0==this._resources.length&&(e=0);var t=this._hostWidth?this._hostWidth:this.host.width(),i=this._hostHeight?this._hostHeight:this.host.height(),o=i;this.showLegend&&"top"==this.legendPosition?this.legendbartop[0].style.visibility="inherit":this.legendbartop[0].style.visibility="hidden";var r=0;if(this.showToolbar?(this.toolbar.width(t),this.toolbar[0].style.height=this.toolbarHeight-1+"px",this.toolbar[0].style.top="0px",r+=this.toolbarHeight,i-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",this.showLegend&&"bottom"==this.legendPosition?(this.legendbarbottom[0].style.width=t+"px",this.legendbarbottom[0].style.height=e+"px"):this.legendbarbottom[0].style.height="0px",this.showLegend&&"top"==this.legendPosition){this.legendbartop[0].style.width!=t+"px"&&(this.legendbartop[0].style.width=parseInt(t)+"px"),this.legendbartop[0].style.height!=e+"px"&&(this.legendbartop[0].style.height=parseInt(e-1)+"px"),this.legendbartop[0].style.top!=r+"px"&&(this.legendbartop[0].style.top=r+"px");var a=r+e+"px";this.content[0].style.top!=a&&(r+=e,this.content[0].style.top=r+"px")}this.showLegend||(this.legendbartop[0].style.display="none",this.legendbarbottom[0].style.display="none"),this._updateScrollbars(o);var n=parseInt(this.scrollBarSize),s=2,l=0;if("hidden"!=this.vScrollBar[0].style.visibility&&(l=n+4),"hidden"!=this.hScrollBar[0].style.visibility&&(s=n+4+2),0==n&&(s=0,l=0),"hidden"!=this.vScrollBar[0].style.visibility||"hidden"!=this.hScrollBar[0].style.visibility){var d=this._arrangeAutoHeight(s-2),h=this._arrangeAutoWidth(l+1);if((d||h)&&(this.legendbartop[0].style.width=parseInt(t)+"px",this.toolbar[0].style.width=parseInt(t)+"px",this.legendbarbottom[0].style.width=parseInt(t)+"px",this.filter[0].style.width=parseInt(t)+"px"),d){var c=this._measureTopAndHeight();r=c.top,i=c.height}}var p=0;this.showLegend&&"bottom"==this.legendPosition?(s+=e,p+=e):this.showLegend&&(s+=e),this.hScrollBar[0].style.height!=n+"px"&&(this.hScrollBar[0].style.height=parseInt(n)+"px"),this.hScrollBar[0].style.top==r+i-4-n-p+"px"&&"0px"==this.hScrollBar[0].style.left||(this.hScrollBar[0].style.top=r+i-4-n-p-1+"px",this.hScrollBar[0].style.left="0px");var u=this.hScrollBar[0].style.width,m=!1,f=!1;0==l?u!=t-2+"px"&&(this.hScrollBar[0].style.width=t-2+"px",m=!0):u!=t-n-4+"px"&&(this.hScrollBar[0].style.width=t-n-4+"px",m=!0),this.vScrollBar[0].style.width!=n+"px"&&(this.vScrollBar[0].style.width=n+"px",f=!0),this.vScrollBar[0].style.height!=parseInt(i)-s+"px"&&(this.vScrollBar[0].style.height=parseInt(i)-s+"px",f=!0),this.vScrollBar[0].style.left==parseInt(t)-parseInt(n)-4+"px"&&this.vScrollBar[0].style.top==r+"px"||(this.vScrollBar[0].style.top=r+"px",this.vScrollBar[0].style.left=parseInt(t)-parseInt(n)-4+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:r}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:n+2}));var g=this.vScrollInstance;g.disabled=this.disabled;var v=this.hScrollInstance;v.disabled=this.disabled,m&&v.refresh(),f&&g.refresh();!function(e){"hidden"!=e.vScrollBar[0].style.visibility&&"hidden"!=e.hScrollBar[0].style.visibility?(e.bottomRight[0].style.visibility="inherit",e.bottomRight[0].style.left=1+parseInt(e.vScrollBar.css("left"))+"px",e.bottomRight[0].style.top=parseInt(e.hScrollBar.css("top"))+"px",e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight[0].style.width=parseInt(n)+3+"px",e.bottomRight[0].style.height=parseInt(n)+4+"px"):e.bottomRight[0].style.visibility="hidden"}(this),this.content[0].style.width!=t-l+"px"&&(this.content[0].style.width=t-l+"px"),this.content[0].style.height!=i-s+3+"px"&&(this.content[0].style.height=i-s+3+"px"),this.content[0].style.top!=r+"px"&&(this.content[0].style.top=parseInt(r)+"px"),this.rtl&&this.content.css("left",l),this.showLegend&&"bottom"==this.legendPosition&&(this.legendbarbottom.css("top",r-1+i-e-(this.pageable?this.pagerHeight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.legendbarbottom.css("left",this.content.css("left")):this.legendbarbottom.css("left","0px"))),this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,t!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),i!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostWidth=t,this._hostHeight=o;var w=this.schedulercontent.coord();this._tableOffset=w}},scrollOffset:function(e,t){if(0==arguments.length||null!=e&&"object"==typeof e&&!e.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};if(null!=e&&"object"==typeof e)var t=e.left,i=e.top,e=i;null!=e&&null!=t&&void 0!=e&&void 0!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&void 0!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&void 0!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginAppointmentsUpdate:function(){this._appupdating=!0},endAppointmentsUpdate:function(){this._appupdating=!1,this._renderrows()},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(e){this._updating=!1,!1!==e&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},databind:function(t,i,o){if(!0!==this.loadingstate){"block"==this.host.css("display")&&(this.autoShowLoadElement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")));var r=this;null==t&&(t={}),void 0!=t.sortcomparer&&null!=t.sortcomparer||(t.sortcomparer=null),void 0!=t.filter&&null!=t.filter||(t.filter=null),void 0!=t.sort&&null!=t.sort||(t.sort=null),void 0!=t.data&&null!=t.data||(t.data=null);null!=t&&(void 0!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.scheduler.dataView("dataView"),this.resourcesDataView=this.resourcesDataView||new e.jqx.scheduler.dataView("resourcesDataView"),this.dataview.pageable=this.pageable,this.dataview.scheduler=this,this.resourcesDataView.scheduler=this,this._loading=!0,this.appointments=new Array,this.uiappointments=new Array;var a=1;this.resources&&this.resources.source&&(a=2);var n=0,s=function(){if(n==a){var t=r._resources.length>1?r._resources.length:1;if(r.resources&&"horizontal"===r.resources.orientation?(r.tableColumns=t,r.tableRows=1):r.resources&&"vertical"===r.resources.orientation?(r.tableRows=t,r.tableColumns=1):(r.tableColumns=1,r.tableRows=1),r._render(),r.autoShowLoadElement&&!r._loading&&(e(r.dataloadelement).css("visibility","hidden"),e(r.dataloadelement).css("display","none")),r._updateTouchScrolling(),r._raiseEvent("bindingComplete"),o&&o(),!r.initializedcall&&(r.initializedcall=!0,r.isInitialized=!0,(null!=r.width&&-1!=r.width.toString().indexOf("%")||null!=r.height&&-1!=r.height.toString().indexOf("%"))&&r._updatesize(!0),r.ready&&r.ready(),"hidden"==r.host.css("visibility"))){e.jqx.browser.msie&&e.jqx.browser.version;"visible"==r.vScrollBar.css("visibility")&&r.vScrollBar.css("visibility","inherit"),"visible"==r.hScrollBar.css("visibility")&&r.hScrollBar.css("visibility","inherit"),r._intervalTimer=setInterval(function(){"visible"==r.host.css("visibility")&&(r._updatesize(!0),clearInterval(r._intervalTimer))},100)}}};this.dataview.update=function(t){r._loading=!1,r.appointmentsByKey=new Array,r.appointments=new Array,r.uiappointments=new Array;for(var i=(r.source._source.datafields,["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"]),o=new Array,a=0;a<r.source.records.length;a++){var l=r.source.records[a],d={};for(var h in r.appointmentDataFields){var c=r.appointmentDataFields[h],p=l[c];if("from"!=h&&"to"!=h||(p=new e.jqx.date(p)),"style"==h&&p){var u=r.getAppointmentColors(p);d.color=u.color,d.background=u.background,d.borderColor=u.border}if("recurrencePattern"==h&&p&&(p=new e.jqx.scheduler.recurrencePattern(p),p.timeZone=l.timeZone||r.timeZone),"recurrenceException"==h){var m=new Array;if(p){p.indexOf("EXDATE:")>=0&&(p=p.substring(p.indexOf("EXDATE:")+7));var f=new Array;p.indexOf(",")>=0?f=p.split(","):f.push(p);for(var g=0;g<f.length;g++){var v=f[g];if(v.indexOf(";")>=0){var w=v.split(";")[1];v=v.split(";")[0],w.toLowerCase().indexOf("display")>=0&&w.toLowerCase().indexOf("none")&&(d.hidden=!0)}try{var y=e.jqx.scheduler.utilities.untilStringToDate(v);"Invalid Date"!=y&&(y=d.timeZone?new e.jqx.date(y,d.timeZone):r.timeZone?y.toTimeZone(r.timeZone):new e.jqx.date(y))}catch(t){var y=new e.jqx.date(v,r.timeZone)}m.push(y)}}p=m}d[h]=p}for(var x in i){var h=i[x];if(void 0==d[h]){var p="";if("originalData"==h)continue;"ownerId"==h&&(p=null),"timeZone"==h&&(p=null),"recurrencePattern"==h&&(p=null),"recurrenceException"==h&&(p=null),"allDay"==h&&(p=!1),"draggable"==h&&(p=!0),"resizable"==h&&(p=!0),"hidden"==h&&(p=!1),"resourceId"==h&&(p=null),"from"==h&&(p=new e.jqx.date),"to"==h&&(p=(new e.jqx.date).addHours(1)),d[h]=p}}d.originalData=l,r.resources&&!r.resources.source&&-1==o.indexOf(d.resourceId)&&o.push(d.resourceId),r.appointmentsByKey[l.uid]=d,r.appointments.push(d);var b=new e.jqx.scheduler.appointment(d);if(d.timeZone&&(b.from=b.from.toTimeZone(d.timeZone),b.to=b.to.toTimeZone(d.timeZone)),r.timeZone?(d.timeZone||(b.timeZone=r.timeZone),b.from=b.from.toTimeZone(r.timeZone),b.to=b.to.toTimeZone(r.timeZone)):(b.from=b.from.toTimeZone(null),b.to=b.to.toTimeZone(null)),d.jqxAppointment=b,d.recurrenceException)for(var A=0;A<d.recurrenceException.length;A++){var y=b.recurrenceException[A],T=b.clone();T.occurrenceFrom=y;var _=b.duration();r.allDay&&(_=new e.jqx.timeSpan(1e4*(r.to-r.from))),T.from=y,T.to=y.add(_),T.rootAppointment=b,T.hidden=!0,b.exceptions.push(T)}b.boundAppointment=d,b.scheduler=r,r.uiappointments.push(b)}r._resources=o,n++,s()},this.resourcesDataView.update=function(e){if(r.resources.dataField){r._resources=new Array;for(var t=0;t<e.length;t++)r._resources.indexOf(e[t][r.resources.dataField])>=0||e[t][r.resources.dataField]&&r._resources.push(e[t][r.resources.dataField])}else r._resources=e;void 0==r.resources.orientation&&(r.resources.orientation="none"),n++,s()},this.dataview.databind(t),this.resources&&this.resources.source&&this.resourcesDataView.databind(this.resources.source)}},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var o=t,r=i;r.owner=this;var a=new e.Event(o);a.owner=this,a.args=r;var n=this.host.trigger(a);return i=a.args,n},ensureAppointmentVisible:function(e){return!!this.appointmentsByKey[e]&&this._ensureAppointmentVisible(this.appointmentsByKey[e].jqxAppointment)},_ensureAppointmentVisible:function(t){if("hidden"===this.vScrollBar[0].style.visibility&&"hidden"===this.hScrollBar[0].style.visibility)return!1;if(!t)return!1;var i=this.getViewStart(),o=this.getViewEnd();if(!e.jqx.scheduler.utilities.rangeIntersection(t.from,t.to,i,o))return this.navigateTo(t.from),this._ensureAppointmentVisible(t);var r=t.id,a=e('[data-key="'+r+'"]');if(a.length>0)var n=a[0];else{if(!(t.elements&&t.elements.length>0))return!1;var s=t.elements[0],n=s.element}var l=this.vScrollInstance.value,d=this.hScrollInstance.value;if(this.rtl)var d=this.hScrollInstance.max-d;var h=this.element.clientHeight,c=this.element.clientWidth,p=0;this.columnGroups?p+=this.showHeader?this.columnsheader.height():0:p+=this.showHeader?this.columnsHeight:0;var u=this._views[this._view].type,m=this._views[this._view],f=0;if("dayView"==u||"weekView"==u){var g=this.showAllDayRow;!m.timeRuler||"dayView"!==u&&"weekView"!==u||void 0!=m.timeRuler.showAllDayRow&&(g=m.timeRuler.showAllDayRow),g&&(f=1==this.tableRows?this.table[0].rows[0].clientHeight:this.table[0].rows[1].clientHeight);var v=t.duration().days()>=1||t.allDay;if(v&&1==this.tableRows&&1==this.tableColumns)return!1}this.showToolbar&&(p+=this.toolbarHeight),h-=p,this.showLegend&&this._resources.length>0&&(h-=this.legendHeight);var w=l-0,y=h+w-f,x=d-0,b=c+x,A=n;A=e(A);var T=(A[0].clientHeight,A.position().top-f);if(T<=w){var _=T;_<0&&(_=0),(!v||v&&this.tableRows>1)&&this.vScrollBar.jqxScrollBar("setPosition",_)}else if(T>=y){var _=T;_<0&&(_=0),(!v||v&&this.tableRows>1)&&this.vScrollBar.jqxScrollBar("setPosition",_-2)}var S=A.position().left;S=Math.round(S);A.outerWidth();if(0===Math.round(A.position().left)&&this.hScrollBar.jqxScrollBar("setPosition",0),S<=x){var D=S-A.outerWidth()+0;D<0&&(D=0),this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-S):this.hScrollBar.jqxScrollBar("setPosition",S)}S>b&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-S):this.hScrollBar.jqxScrollBar("setPosition",S))},ensureVisible:function(t,i){for(var o=this,r="date"==e.type(t)?t:t.toDate(),a=0;a<o.rows.length;a++)for(var n=0;n<o.rows[a].cells.length;n++){var s=o.rows[a].cells[n];if(!i||s.getAttribute("data-view")===i){var l=s.getAttribute("data-date"),d=o._getDateByString,h=d(l);if(h.valueOf()==r.valueOf())return o._ensureVisible(s)}}},_ensureVisible:function(t){if("hidden"===this.vScrollBar[0].style.visibility&&"hidden"===this.hScrollBar[0].style.visibility)return!1;var i=this.vScrollBar.jqxScrollBar("value"),o=this.hScrollBar.jqxScrollBar("value");this.rtl&&(o=this.hScrollBar.jqxScrollBar("max")-o);var r=this._hostHeight,a=this._hostWidth,n=0;this.columnGroups?n+=this.showHeader?this.columnsheader.height():0:n+=this.showHeader?this.columnsHeight:0,this.showToolbar&&(n+=this.toolbarHeight),r-=n,this.showLegend&&this._resources.length>0&&(r-=this.legendHeight),"hidden"!=this.hScrollBar.css("visibility")&&(r-=20);var s=this._views[this._view].type,l=this._views[this._view],d=0;if("dayView"==s||"weekView"==s){var h=this.showAllDayRow;!l.timeRuler||"dayView"!==s&&"weekView"!==s||void 0!=l.timeRuler.showAllDayRow&&(h=l.timeRuler.showAllDayRow),h&&(d=1==this.tableRows?this.table[0].rows[0].clientHeight:this.table[0].rows[1].clientHeight)}var c=i-0,p=r+c-d,u=o-0,m=a+u,f=t;f=e(f);var g=f.position().top-d,v=g+f.outerHeight(),w=f.position().left;w=Math.round(w);var y=w+f.outerWidth();if(0===Math.round(f.position().left)&&this.hScrollBar.jqxScrollBar("setPosition",0),w<=u){var x=w-f.outerWidth()+0;x<0&&(x=0),this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-x):this.hScrollBar.jqxScrollBar("setPosition",x)}y>=m&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-(2+y-a)):this.hScrollBar.jqxScrollBar("setPosition",2+y-a));var b=f.parent().index();if(this.tableRows>0&&b--,0===Math.round(f.position().top)||0===b)return this.vScrollBar.jqxScrollBar("setPosition",0);var A=this.table[0].rows.length-1;if(this.table[0].rows[A][0]===f.parent()[0])return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"));if(g<=c){var T=g;return T<0&&(T=0),this.vScrollBar.jqxScrollBar("setPosition",T)}return v>=p?this.vScrollBar.jqxScrollBar("setPosition",4+v-r+d):void 0},getColumn:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;t=t.toLowerCase();var o=this.getColumn(e);if(null!=o){o[t];o[t]=i;var r=this.getColumn(e);switch(null!=r&&(r[t]=i),t){case"text":case"hidden":case"hideable":case"renderer":case"align":case"cellsalign":case"contenttype":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==t?(this._rendercolumnheaders(),this.refresh()):"text"==t||"class"==t||"hidden"==t||"pinned"==t||"resizable"==t||"renderer"==t?(this._rendercolumnheaders(),this.refresh()):"width"==t||"maxwidth"==t||"minwidth"==t?(o._width=null,o._percentagewidth=null,this._updatecolumnwidths(),this.refresh()):this.refresh()}}},getColumnProperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getColumn(e)[t])},setColumnProperty:function(e,t,i){this._setcolumnproperty(e,t,i)},hideColumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showColumn:function(e){this._setcolumnproperty(e,"hidden",!1)},updateBoundData:function(e,t){this.databind(this.source,e,t)},refresh:function(t){if(1!=t){var i=this;if(e.jqx.isHidden(i.host))return;i.table[0].style.top="0px",i.vScrollInstance.setPosition(0),i._renderrows(),i._arrange(),i._renderhorizontalscroll(),i._updateTouchScrolling(),i._refreshToolBar(),i._updateFocusedCell()}},_updateFocusedCell:function(){var e=this;if(e.focusedCell)return void e._updateCellsSelection();var t=e._views[e._view].type,i=e._views[e._view],o=e.showAllDayRow;if(!i.timeRuler||"dayView"!==t&&"weekView"!==t||void 0!=i.timeRuler.showAllDayRow&&(o=i.timeRuler.showAllDayRow),!o||"dayView"!=t&&"weekView"!=t?(e.focusedCell=e.rows[0].cells[0],e.rtl&&(e.focusedCell=e.rows[0].cells[e.rows[0].cells.length-1])):(e.focusedCell=e.rows[1].cells[0],e.rtl&&(e.focusedCell=e.rows[1].cells[e.rows[1].cells.length-1])),e.focusedCell.className.indexOf("jqx-scheduler-disabled-cell")>=0){e.focusedCell=null;for(var r=0;r<this.rows.length;r++){for(var a=0;a<this.rows[r].cells.length;a++){var n=this.rows[r].cells[a];if(-1==n.className.indexOf("jqx-scheduler-disabled-cell")){e.focusedCell=n;break}}if(e.focusedCell)break}}e._lastSelectedCell=e.focusedCell,e._updateCellsSelection()},_updateTouchScrolling:function(){var t=this.that;if(t.isTouchDevice()){var i=e.jqx.mobile.getTouchEventName("touchstart"),o=e.jqx.mobile.getTouchEventName("touchend"),r=e.jqx.mobile.getTouchEventName("touchmove");t.schedulercontent&&(t.removeHandler(t.table,i+".touchScroll"),t.removeHandler(t.table,r+".touchScroll"),t.removeHandler(t.table,o+".touchScroll"),t.removeHandler(t.table,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t._table[0],Math.max(t.vScrollInstance.max,t.hScrollInstance.max),function(e,i){if(!t.dragOrResize){if(null!=i&&"hidden"!=t.vScrollBar.css("visibility")){t.vScrollInstance.value;t.vScrollInstance.setPosition(i)}if(null!=e&&"hidden"!=t.hScrollBar.css("visibility")){t.hScrollInstance.value;t.hScrollInstance.setPosition(e)}t.scrolled=new Date}},this.element.id,this.hScrollBar,this.vScrollBar))}},scrollWidth:function(){return this.hScrollInstance.max},scrollHeight:function(){return this.vScrollInstance.max},scrollLeft:function(e){"hidden"!=this.hScrollBar[0].style.visibility&&this.hScrollInstance.setPosition(e)},scrollTop:function(e){"hidden"!=this.vScrollBar[0].style.visibility&&this.vScrollInstance.setPosition(e)},render:function(t){var i="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbartop' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbarbottom' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerHTML=i,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var o=this.host.find("#verticalScrollBar"+this.element.id),r=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=o.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=r.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance,this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-scheduler-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.legendbarbottom=this.host.find("#legendbarbottom"),this.legendbarbottom[0].id="legendbarbottom"+this.element.id,this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar-bottom")),this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbarbottom.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.legendbartop=this.host.find("#legendbartop"),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar-top")),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbartop.addClass(this.toTP("jqx-widget-header")),this.schedulertable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns;var a=this.source.datafields;if(null==a&&this.source._source&&(a=this.source._source.datafields),a)for(var n=0;n<this.columns.length;n++){var s=this.columns[n];if(s&&s.cellsFormat&&s.cellsFormat.length>2)for(var l=0;l<a.length;l++)if(a[l].name==s.datafield&&!a[l].format){a[l].format=s.cellsFormat;break}}this.databind(this.source),this.showToolbar&&this.toolbar.css("visibility","inherit"),this.showLegend&&this.legendbarbottom.css("visibility","inherit"),this.tableheight=null;var d=this,h=function(){d.content&&(d.content[0].scrollTop=0,d.content[0].scrollLeft=0),d.schedulercontent&&(d.schedulercontent[0].scrollLeft=0,d.schedulercontent[0].scrollTop=0)};this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(e){return h(),!1}),!0!==t&&this._render()},_render:function(){var t=this;if(null!=t.dataview&&!t._loading){(25!=t.columnsHeight||t.columnGroups)&&t._measureElement("column"),t.rowinfo=new Array,t._removeHandlers(),null==t.columns?t.columns=new e.jqx.schedulerDataCollection(t.element):t._initializeColumns(),t.host.height(t.height),t.host.width(t.width),e.jqx.utilities.html(t.content,""),t.columnsheader=t.columnsheader||e('<div style="overflow: hidden;"></div>'),t.columnsheader.remove(),t.columnsheader.addClass(t.toTP("jqx-widget-header")),t.columnsheader.addClass(t.toTP("jqx-grid-header")),t.showHeader?t.columnsheader&&t.columnsheader.css("display","block"):t.columnsheader.css("display","none"),t.schedulercontent=t.schedulercontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),t.schedulercontent.remove();var i=t.columnsHeight;i=t._preparecolumnGroups(),t.columnsheader.height(i),t.content.append(t.columnsheader),t.content.append(t.schedulercontent),t._rendercolumnheaders(),t.tableheight=null,t.schedulercontent.find("#contenttable"+t.element.id).remove(),null!=t.table&&(t.table.remove(),t.table=null),null!=t.pinnedtable&&(t.pinnedtable.remove(),t.pinnedtable=null),t.table=e('<div id="contenttable'+t.element.id+'" style="overflow: hidden; position: relative;"></div>'),t.pinnedtable=e('<div id="contenttable2'+t.element.id+'" style="display: none; overflow: hidden; position: relative;"></div>'),t.schedulercontent.addClass(t.toTP("jqx-grid-content")),t.schedulercontent.addClass(t.toTP("jqx-widget-content")),t.schedulercontent.append(t.table),1==t.tableRows&&t.schedulercontent.append(t.pinnedtable),t._renderrows(),t._arrange(),t._resourcesElements=new Array;var o=function(i,o){i.children().remove();var i=e("<div style='margin:5px; position: relative;'></div>").appendTo(i);t._resourcesElements[o]=new Array,e.each(t._resources,function(r){var a=t.getColors(r),n=this.toString(),s=e("<div data-toggle='on' style='border-color: "+a.border+"; background: "+a.background+";' class='"+t.toThemeProperty("jqx-scheduler-legend")+"'></div>");s.appendTo(i);var l=e("<div class='"+t.toThemeProperty("jqx-scheduler-legend-label")+"'>"+n+"</div>");l.appendTo(i),t._resourcesElements[o][n]=s;var d=function(){"on"==s.attr("data-toggle")?t.hideAppointmentsByResource(n):t.showAppointmentsByResource(n)};t.addHandler(s,"mousedown",function(){return d(),!1}),t.addHandler(l,"mousedown",function(){return d(),!1})})};o(t.legendbarbottom,"bottom"),o(t.legendbartop,"top"),"top"==t.legendPosition?t.legendbarbottom.hide():t.legendbartop.hide(),0==t._resources.length&&(t.legendbarbottom.hide(),t.legendbartop.hide()),t.renderToolBar?t.renderToolBar(t.toolbar):t._renderToolBar(),t.disabled&&t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t._renderhorizontalscroll(),t._addHandlers(),t.clearSelection();var r=t._views[t._view].type,a=t._views[t._view],n=t.showAllDayRow;!a.timeRuler||"dayView"!==r&&"weekView"!==r||void 0!=a.timeRuler.showAllDayRow&&(n=a.timeRuler.showAllDayRow),t.focusedCell=!n||"dayView"!=r&&"weekView"!=r?t.rows[0].cells[0]:t.rows[1].cells[0],
t._lastSelectedCell=t.focusedCell,t._updateCellsSelection()}},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},getAppointmentElement:function(e){var t=null;e.className.indexOf("jqx-scheduler-appointment")>=0&&-1==e.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==e.className.indexOf("jqx-scheduler-appointment-content")&&-1==e.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(t=e);for(var i=e,o=0;o<4&&i.parentNode;o++)i.className.indexOf("jqx-scheduler-appointment")>=0&&-1==i.className.indexOf("jqx-scheduler-appointment-innter-content")&&-1==i.className.indexOf("jqx-scheduler-appointment-content")&&-1==i.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(t=i),i=i.parentNode;return t},getJQXAppointmentByElement:function(e){var t=this,i=e.getAttribute?e.getAttribute("data-key"):e.attr("data-key");if(i.indexOf(".")>=0)var o=i.substring(0,i.indexOf(".")),r=(i.substring(i.indexOf(".")+1),t.appointmentsByKey[o]),a=r.jqxAppointment.renderedAppointments[i];else var r=t.appointmentsByKey[i],a=r.jqxAppointment;return a},_renderToolBar:function(){var t=this,i=e('<div style="width: 100%; height: 100%; position: relative;"></div>'),o=(this.toolbarHeight-20)/2;i.css("top",o),t.toolbarLeftButton=e('<div type="button" style="outline: none; padding: 0px; margin-top: 3px; margin-left: 3px; margin-right: 3px; width: 27px; float: left;"></div>'),t.toolbarRightButton=e('<div type="button" style="outline: none; padding: 0px; margin-top: 3px; margin-right: 3px; width: 27px; float: left;"></div>'),t.toolbarLeftButton.attr("title",t.schedulerLocalization.toolBarPreviousButtonString),t.toolbarRightButton.attr("title",t.schedulerLocalization.toolBarNextButtonString),t.toolbarRightButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:t.disabled,theme:t.theme}),t.toolbarLeftButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:t.disabled,theme:t.theme}),t.dateTimeInput=e('<div style="outline: none; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: left;"></div>'),t.toolbarLeftButton.find(".jqx-icon-arrow-left").remove(),t.toolbarRightButton.find(".jqx-icon-arrow-right").remove();var r=e("<div style='outline: none; margin-left: 6px; width: 15px; height: 15px;'></div>");r.addClass(t.toThemeProperty("jqx-icon-arrow-left")),t.toolbarLeftButton.wrapInner(r);var a=e("<div style='outline: none; margin-left: 6px; width: 15px; height: 15px;'></div>");a.addClass(t.toThemeProperty("jqx-icon-arrow-right")),t.toolbarRightButton.wrapInner(a),t.rtl&&(t.toolbarLeftButton.css("float","right"),t.toolbarRightButton.css("float","right"),t.dateTimeInput.css("float","right")),t.addHandler(t.toolbarRightButton,"mouseenter",function(){a.addClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),t.addHandler(t.toolbarLeftButton,"mouseenter",function(){r.addClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),t.addHandler(t.toolbarRightButton,"mouseleave",function(){a.removeClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),t.addHandler(t.toolbarLeftButton,"mouseleave",function(){r.removeClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),t.addHandler(t.toolbarRightButton,"mousedown",function(){a.addClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),t.addHandler(t.toolbarRightButton,"mouseup",function(){a.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),t.addHandler(t.toolbarLeftButton,"mousedown",function(){r.addClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),t.addHandler(t.toolbarLeftButton,"mouseup",function(){r.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),t.addHandler(e(document),"mouseup.pagerbuttons"+t.element.id,function(){a.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected")),r.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),t.addHandler(t.toolbarRightButton,"click",function(){t.toolbarRightButton.jqxButton("disabled")||(t.rtl?t.navigateBackward():t.navigateForward(),t.focus())}),t.addHandler(t.toolbarLeftButton,"click",function(){t.toolbarLeftButton.jqxButton("disabled")||(t.rtl?t.navigateForward():t.navigateBackward(),t.focus())}),t.toolbar.children().remove(),t.toolbar.append(i),t.rtl?(i.append(t.toolbarRightButton),i.append(t.dateTimeInput),i.append(t.toolbarLeftButton)):(i.append(t.toolbarLeftButton),i.append(t.dateTimeInput),i.append(t.toolbarRightButton)),t.toolbarDetails=e('<div class="'+t.toTP("jqx-scheduler-toolbar-details")+'" style="margin-left: 7px; margin-top:2px; float: left;"></div>'),t.toolbarViews=e('<div style="margin-right: 10px; margin-top:0px; float: right;"></div>'),t.rtl&&(t.toolbarDetails.css("float","right"),t.toolbarDetails.css("margin-left","0px"),t.toolbarDetails.css("margin-right","7px"),t.toolbarViews.css("margin-left","10px"),t.toolbarViews.css("margin-right","0px"),t.toolbarViews.css("float","left"));var n=new Array;t.rtl?(n.push(t.toolbarRightButton),n.push(t.dateTimeInput),n.push(t.toolbarLeftButton)):(n.push(t.toolbarLeftButton),n.push(t.dateTimeInput),n.push(t.toolbarRightButton));var s=t._views.length-1;e.each(t._views,function(i){var o="",r=i;if(t.rtl&&(r=s-i),void 0!=t._views[r].text)o=t._views[r].text;else switch(t._views[r].type){case"dayView":o=t.schedulerLocalization.dayViewString;break;case"weekView":o=t.schedulerLocalization.weekViewString;break;case"monthView":o=t.schedulerLocalization.monthViewString;break;case"agendaView":o=t.schedulerLocalization.agendaViewString;break;case"timelineDayView":o=t.schedulerLocalization.timelineDayViewString;break;case"timelineWeekView":o=t.schedulerLocalization.timelineWeekViewString;break;case"timelineMonthView":o=t.schedulerLocalization.timelineMonthViewString}var a='<span data-type="'+t._views[r].type+'" style="cursor: pointer; outline: none; margin-left: -1px; position: relative;">'+o+"</span>",l=e(a);l.addClass(t.toTP("jqx-group-button-normal jqx-button jqx-fill-state-normal")),n.push(l),0==r&&(t.rtl?l.addClass(t.toTP("jqx-rc-r")):l.addClass(t.toTP("jqx-rc-l"))),r==t._views.length-1&&(t.rtl?l.addClass(t.toTP("jqx-rc-l")):l.addClass(t.toTP("jqx-rc-r"))),r===t._view&&l.addClass(t.toTP("jqx-fill-state-pressed")),l.mouseenter(function(){l.addClass(t.toTP("jqx-fill-state-hover"))}),l.mouseleave(function(){l.removeClass(t.toTP("jqx-fill-state-hover"))}),l.mousedown(function(){t._setView(r),t.focus()}),e(t.toolbarViews).append(l)}),i.append(t.toolbarDetails),i.append(t.toolbarViews),t._views.length<2&&t.toolbarViews.hide(),t.dateTimeInput.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:t.rtl,localization:t._getDateTimeInputLocalization(),firstDayOfWeek:t.schedulerLocalization.firstDay,todayString:t.schedulerLocalization.todayString,clearString:t.schedulerLocalization.clearString,showFooter:!0,height:19,width:18,renderMode:"simple"}),t.addHandler(t.dateTimeInput,"change",function(i){t.fromNavigate||(t.navigateTo(new e.jqx.date(i.args.date,t.timeZone)),t.focus())}),t.tabKeyElements=n;var l=t._views[t._view].type,d=function(i){var o=e.jqx.formatDate(t.getViewStart().toDate(),i,t.schedulerLocalization),r=e.jqx.formatDate(t.getViewEnd().toDate(),i,t.schedulerLocalization);"dayView"===l||"timelineDayView"===l?t.toolbarDetails.html(o):t.toolbarDetails.html(o+" - "+r),t.rtl?(t.toolbarDetails.addClass("jqx-rtl"),t.toolbarDetails.html("<span style='direction:rtl;'>"+r+"<span> - <span style='direction:rtl;'>"+o+"</span>")):t.toolbarDetails[0].style.direction="ltr"};d(t.toolBarRangeFormat);var h=t.toolbarViews.width()+t.toolbarDetails.width()+120,c=t.toolBarRangeFormat;if(h>t.host.width()){c=t.toolBarRangeFormatAbbr,d(c);var h=t.toolbarViews.width()+t.toolbarDetails.width()+120;if(h>t.host.width()){t.toolbarDetails.hide();var h=t.toolbarViews.width()+120;h>t.host.width()&&t.toolbarViews.hide()}}else t.currentToolbarFormat=t.toolBarRangeFormat},_setView:function(t){var i=this;if(i.toolbarViews.find(".jqx-fill-state-pressed").removeClass(i.toTP("jqx-fill-state-pressed")),i.rtl?e(i.toolbarViews.children()[i._views.length-1-t]).addClass(i.toTP("jqx-fill-state-pressed")):e(i.toolbarViews.children()[t]).addClass(i.toTP("jqx-fill-state-pressed")),i._view!==t){i.vScrollBar[0].style.visibility&&(i._scrollPosition||(i._scrollPosition=new Array),i._scrollPosition[i._view]=i.vScrollInstance.value);var o=i.hScrollBar[0].style.visibility;o&&(i._hscrollPosition||(i._hscrollPosition=new Array),i._hscrollPosition[i._view]=i.hScrollInstance.value);var r=i._views[i._view].type,a=i._views[t].type;i._view=t,i._refreshColumns(),i.refresh();o!==i.hScrollBar[0].style.visibility&&i._renderrows(),i._scrollPosition[i._view]&&i.vScrollInstance.setPosition(i._scrollPosition[i._view]),i._hscrollPosition[i._view]&&i.hScrollInstance.setPosition(i._hscrollPosition[i._view]),i.selectedJQXAppointment&&i._ensureAppointmentVisible(i.selectedJQXAppointment);var n=i.getViewStart(),s=e.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd());i._raiseEvent("viewChange",{date:i.date,from:n,to:s,oldViewType:r,newViewType:a})}},_getDateTimeInputLocalization:function(){var e=this,t={};return t.backString=e.schedulerLocalization.backString,t.forwardString=e.schedulerLocalization.forwardString,t.todayString=e.schedulerLocalization.todayString,t.clearString=e.schedulerLocalization.clearString,t.calendar=e.schedulerLocalization,t},setView:function(e){switch(e){case"dayView":this._setView(0);break;case"weekView":this._setView(1);break;case"monthView":this._setView(2);break;case"timelineDayView":this._setView(3);break;case"timelineWeekView":this._setView(4);break;case"timelineMonthView":this._setView(5)}this.view=e},navigateForward:function(){var t=this,i=this._views[this._view].type,o=this._views[this._view],r=new e.jqx.date(this.date,t.timeZone);switch(i){case"dayView":case"timelineDayView":r=r.addDays(1),r=function(){for(;(0==r.dayOfWeek()||6==r.dayOfWeek())&&!1===o.showWeekends;)r=r.addDays(1);return r}();break;case"weekView":case"timelineWeekView":r=r.addDays(7);break;case"monthView":case"timelineMonthView":var a=(r.day(),r.month()),n=r.year(),s=new e.jqx.date(n,a,1);s.timeZone=t.timeZone,r=s.addMonths(1);break;case"agendaView":r=o.days?r.addDays(o.days):r.addDays(7)}return this.navigateTo(r)},navigateBackward:function(){var t=this,i=this._views[this._view].type,o=this._views[this._view],r=new e.jqx.date(this.date,t.timeZone);switch(i){case"dayView":case"timelineDayView":r=r.addDays(-1),r=function(){for(;(0==r.dayOfWeek()||6==r.dayOfWeek())&&!1===o.showWeekends;)r=r.addDays(-1);return r}();break;case"weekView":case"timelineWeekView":r=r.addDays(-7);break;case"monthView":case"timelineMonthView":var a=(r.day(),r.month()),n=r.year(),s=new e.jqx.date(n,a,1);s.timeZone=t.timeZone,r=s.addMonths(-1);break;case"agendaView":r=o.days?r.addDays(-o.days):r.addDays(-7)}return this.navigateTo(r)},_refreshToolBar:function(t){var i=this,o=i.getViewStart(),r=i.getViewEnd(),a=function(t){var a=e.jqx.formatDate(o.toDate(),t,i.schedulerLocalization),n=e.jqx.formatDate(r.toDate(),t,i.schedulerLocalization),s=i._views[i._view].type;if(!1===i._views[i._view].showWeekends){0!=o.dayOfWeek()&&6!=o.dayOfWeek()||(o=o.addDays(1)),0!=o.dayOfWeek()&&6!=o.dayOfWeek()||(o=o.addDays(1)),0!=r.dayOfWeek()&&6!=r.dayOfWeek()||(r=r.addDays(-1)),0!=r.dayOfWeek()&&6!=r.dayOfWeek()||(r=r.addDays(-1));var a=e.jqx.formatDate(o.toDate(),t,i.schedulerLocalization),n=e.jqx.formatDate(r.toDate(),t,i.schedulerLocalization)}"dayView"===s||"timelineDayView"===s?i.toolbarDetails.html(a):i.toolbarDetails.html(a+" - "+n),i.rtl?(i.toolbarDetails.addClass("jqx-rtl"),i.toolbarDetails.html("<span style='direction:rtl;'>"+n+"<span> - <span style='direction:rtl;'>"+a+"</span>")):i.toolbarDetails[0].style.direction="ltr"};if(t)return void a(i._lastFormatString||i.toolBarRangeFormat);a(i.toolBarRangeFormat),i.toolbarDetails.show(),i.toolbarViews.show();var n=i.toolbarViews.width()+i.toolbarDetails.width()+120;if(n>i.host.width()){a(i.toolBarRangeFormatAbbr);var n=i.toolbarViews.width()+i.toolbarDetails.width()+120;if(n>i.host.width()){i.toolbarDetails.hide();var n=i.toolbarViews.width()+120;n>i.host.width()&&i.toolbarViews.hide()}}},navigateTo:function(t){var i=this;if("date"==e.type(t)&&(t=new e.jqx.date(t)),!(t<this.min||t>this.max)){t.timeZone=i.timeZone,i.date=t,i._refreshToolBar(!0),i.fromNavigate=!0,i.dateTimeInput.val(t.toDate()),i.fromNavigate=!1,i._refreshColumnTitles(),i._renderrows(),i._updateFocusedCell();var o=i.getViewStart(),r=e.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd());i._raiseEvent("dateChange",{date:t,from:o,to:r})}},_preparecolumnGroups:function(){var e=this.columnsHeight;if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var t=this,i=0;i<this.columnGroups.length;i++)this.columnGroups[i].parent=null,this.columnGroups[i].groups=null;for(var i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null;for(var o=function(e){for(var i=0;i<t.columnGroups.length;i++){var o=t.columnGroups[i];if(o.name===e)return o}return null},i=0;i<this.columnGroups.length;i++){var r=this.columnGroups[i];if(r.groups||(r.groups=null),r.parentGroup&&(r.parentgroup=r.parentGroup),r.parentgroup){var a=o(r.parentgroup);a&&(r.parent=a,a.groups||(a.groups=new Array),-1===a.groups.indexOf(r)&&a.groups.push(r))}}for(var i=0;i<this.columns.records.length;i++){var r=this.columns.records[i];if(r.columngroup){var a=o(r.columngroup);a&&(a.groups||(a.groups=new Array),r.parent=a,-1===a.groups.indexOf(r)&&a.groups.push(r))}}for(var n=0,i=0;i<this.columns.records.length;i++){var r=this.columns.records[i],s=r;for(r.level=0;s.parent;)s=s.parent,r.level++;var s=r,l=r.level;for(n=Math.max(n,r.level);s.parent;)(s=s.parent)&&(s.level=--l)}for(var d=function(e){var t=new Array;if(e.columngroup&&t.push(e),!e.groups)return new Array;for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var o=d(e.groups[i]),r=0;r<o.length;r++)t.push(o[r]);return t},i=0;i<this.columnGroups.length;i++){var r=this.columnGroups[i],h=d(r);r.columns=h;for(var c=new Array,p=0,u=0;u<h.length;u++)c.push(this.columns.records.indexOf(h[u])),h[u].pinned&&p++;if(0!=p)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return e=parseInt(e),t=parseInt(t),e<t?-1:e>t?1:0});for(var m=1;m<c.length;m++)if(c[m]!=c[m-1]+1)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+n,e=this.columnGroupslevel*this.columnsHeight}return e},wheel:function(e,t){if(t.editRecurrenceDialog&&t.editRecurrenceDialog.jqxWindow("isOpen"))return!0;if(t._editDialog&&t._editDialog.jqxWindow("isOpen"))return!0;if(t.autoheight&&"hidden"==t.hScrollBar.css("visibility"))return e.returnValue=!0,!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var o=t._handleDelta(i);return o&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation()),!!o&&(o=!1,e.returnValue=o,o)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;e<0?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20);var i=this.vScrollInstance.value;if(t!=i)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){var t=this.hScrollInstance.value;e>0?this.hScrollInstance.value>20?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max);var i=this.hScrollInstance.value;if(t!=i)return!0}return!1},_removeHandlers:function(){var t=this;t._mousewheelfunc&&t.removeHandler(this.host,"mousewheel",t._mousewheelfunc),t.removeHandler(e(document),"keydown.scheduler"+t.element.id),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(t.host,"dragstart."+t.element.id),t.removeHandler(t.host,"selectstart."+t.element.id),t.removeHandler(e(window),"jqxReady."+t.element.id),t.removeHandler(t.host,"mousewheel",t._mousewheelfunc);var i="mousedown";t.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchstart"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(i="mousedown")),t.table&&t.removeHandler(t.table,"mouseleave");var o="mousemove.scheduler"+t.element.id,r="mouseup.scheduler"+t.element.id;if(t.isTouchDevice()&&!0!==t.touchMode&&(o=e.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+t.element.id,r=e.jqx.mobile.getTouchEventName("touchend")+".scheduler"+t.element.id),t.removeHandler(e(document),o),t.removeHandler(e(document),r),!t.isTouchDevice())try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var a=null;window.parent&&document.referrer&&(a=document.referrer),a&&-1!=a.indexOf(document.location.host)&&t.removeHandler(e(window.top.document),"mouseup.jqxscheduler"+t.element.id)}}catch(e){}t.removeHandler(t.host,o),t.removeHandler(e(document),"keydown.jqxscheduler"+t.element.id),t.removeHandler(t.host,"keydown"),t.table&&(t.removeHandler(t.table,"dblclick"),t.removeHandler(t.pinnedtable,i),t.removeHandler(t.table,i))},selectAppointment:function(e){this.appointmentsByKey[e]&&this._selectAppointment(this.appointmentsByKey[e].jqxAppointment)},_selectAppointment:function(t,i,o){if(t){var r=this;r.selectedAppointment&&r.clearAppointmentsSelection();var a=t.id,n=e('[data-key="'+a+'"]');if(n.length>0){r.selectedJQXAppointment=t,r.selectedAppointment=e(i?i:n[0]);var s=r._views[r._view].type;r._views[r._view];if("agendaView"==s)return void r.clearSelection();switch(n.addClass(r.toTP("jqx-scheduler-selected-appointment")),t.resizable&&n.find(".jqx-scheduler-appointment-resize-indicator").show(),s){case"dayView":e(n).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),e(n).find(".jqx-scheduler-appointment-right-resize-indicator").hide();break;case"weekView":break;case"monthView":case"timeLineMonthView":case"timeLineDayView":case"timeLineWeekView":n.length>1&&e.each(n,function(t){r.rtl?(t>0&&e(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide(),t<n.length-1&&e(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide()):(t>0&&e(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),t<n.length-1&&e(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide())})}if("mouse"==o)return void r.clearSelection()}r.clearSelection()}},clearAppointmentsSelection:function(){var t=this;if(t.selectedAppointment){var i=t.selectedAppointment.attr("data-key"),o=e('[data-key="'+i+'"]');o.removeClass(t.toTP("jqx-scheduler-selected-appointment")),o.find(".jqx-scheduler-appointment-resize-indicator").hide(),t.selectedAppointment=null,t.selectedJQXAppointment=null}},selectCell:function(e,t,i){for(var o=this,r=e.toDate(),a=0;a<o.rows.length;a++)for(var n=0;n<o.rows[a].cells.length;n++){var s=o.rows[a].cells[n];if(!i||s.getAttribute("data-view")===i){var l=s.getAttribute("data-date"),d=o._getDateByString,h=d(l);if(t&&s.getAttribute("data-end-date")){if(h.valueOf()==e.valueOf())return s.setAttribute("data-selected","true"),o.focusedCell=s,o._lastSelectedCell=s,o._updateCellsSelection(),void o._ensureVisible(o.focusedCell)}else if(!t&&s.getAttribute("data-end-date"))continue;if(h.valueOf()==r.valueOf())return s.setAttribute("data-selected","true"),o.focusedCell=s,o._lastSelectedCell=s,o._updateCellsSelection(),void o._ensureVisible(o.focusedCell)}}o._updateCellsSelection()},selectRange:function(e,t,i,o){var r=this;e<this.min&&(e=this.min),t>this.max&&(t=this.max);for(var a=e.toDate(),n=t.toDate(),s=!1,l=0;l<r.rows.length;l++)for(var d=0;d<r.rows[l].cells.length;d++){var h=r.rows[l].cells[d];if(!o||h.getAttribute("data-view")===o){var c=h.getAttribute("data-date"),p=r._getDateByString,u=p(c);if(i&&h.getAttribute("data-end-date"))u.valueOf()>=a.valueOf()&&u.valueOf()<=n.valueOf()&&h.setAttribute("data-selected","true");else if(!i&&h.getAttribute("data-end-date"))continue;u.valueOf()>=a.valueOf()&&u.valueOf()<=n.valueOf()&&(h.setAttribute("data-selected","true"),s||(r._lastSelectedCell=h,r.focusedCell=h,s=!0))}}r._updateCellsSelection()},_selectRange:function(t,i){var o=this;if("agendaView"!=o._views[o._view].type){var r=t,a=i.getAttribute("data-view");if(t.getAttribute("data-view")===a){var n=i.getAttribute("data-date"),s=r.getAttribute("data-date");if(null!=n&&null!=s){var l=i.getAttribute("data-end-date"),d=r.getAttribute("data-end-date"),h=null!=l||null!=d,c=null!=l&&null!=d,p=o._getDateByString,u=p(n),m=p(s);u<this.min.toDate()&&(u=this.min.toDate()),m<this.min.toDate()&&(m=this.min.toDate()),u>this.max.toDate()&&(u=this.max.toDate()),m>this.max.toDate()&&(m=this.max.toDate());var f=Math.min(u,m),g=Math.max(u,m),v=o.rows,w=0,y=0;w>0&&o.rtl&&(w=0,y=1);var x=v.length;if(h&&(x=1,null==t.getAttribute("data-end-date"))){m.setHours(0,0,0,0);var b=new e.jqx.date(m,o.timeZone).toString();e(r).parent().index();e.each(v[0].cells,function(){if(this.getAttribute("data-date")===b){t=this,c=null!=i.getAttribute("data-end-date")&&null!=t.getAttribute("data-end-date");var e=i.getAttribute("data-date"),o=t.getAttribute("data-date"),r=p(e),a=p(o);return f=Math.min(r,a),g=Math.max(r,a),!1}})}for(var A=0;A<x;A++){var T=v[A];if(h&&this.tableRows>1){var _=parseInt(t.getAttribute("data-view")),S=v.length/o.tableRows,D=(-1+_)*S;j=v[D],T=v[D]}for(var j=T.cells,q=w;q<j.length-y;q++)if(j[q].getAttribute("data-view")===a&&(j[q].removeAttribute("data-selected"),c||!j[q].getAttribute("data-end-date"))){var C=j[q].getAttribute("data-date"),k=p(C).valueOf();f<=k&&k<=g&&j[q].setAttribute("data-selected","true")}}o._updateCellsSelection()}}}},findCell:function(e,t){var i=this,o=null;if(!i._tableOffset){var r=i.schedulercontent.coord();i._tableOffset=r}var a=i._tableOffset,n=a.top,s=a.left;if(t<n)return null;if(e<s)return null;if(t>n+i._hostHeight)return null;if(e>s+i._hostWidth)return null;for(var l=!1,d=i.rows,h=i._views[i._view],c=h.type,p=i.vScrollInstance.value,u=i.hScrollInstance.value,m=0;m<d.length&&!l;m++){var f=d[m],g=f.cells,v=!1;(0==m&&"dayView"==c||"weekView"==c)&&(v=i.showAllDayRow,!h.timeRuler||"dayView"!==c&&"weekView"!==c||void 0!=h.timeRuler.showAllDayRow&&(v=h.timeRuler.showAllDayRow),v&&i._allDayRowFullHeight);for(var w=0;w<g.length;w++){var y=g[w];if(0!=w||!y.getAttribute("data-time-slot")){if(y._left)var x=y._left,b=y._top,A=y._width,T=y._height;else{var x=y.offsetLeft+s,b=y.offsetTop+n,A=y.offsetWidth,T=y.offsetHeight;y._left=x,y._top=b,y._width=A,y._height=T}if(y._left=x,y._top=b,y._width=A,y._height=T,0!==A&&0!==T){if(i.rtl?"hidden"!=i.hScrollInstance.element.style.visibility&&(x-=i.hScrollInstance.max-u):x-=u,b-=p,0==m&&v&&(b+=p),!(b<=t&&t<b+T))break;if(x<=e&&e<x+A){o=y,l=!0;break}}}}}return o},_removeFeedbackAndStopResize:function(){var t=this;if(t.feedback){if(t.feedback.remove(),t.feedback=null,t.pinnedfeedback.remove(),t.pinnedfeedback=null,t.feedbacks)for(var i=0;i<t.feedbacks.length;i++)t.feedbacks[i].remove();if(t._resizeDays=0,t._resizeStep=0,t._lastX=null,t.feedbacks=new Array,t.leftResize=!1,t.rightResize=!1,t.topResize=!1,t.bottomResize=!1,t.overlay.hide(),t.resizing=!1,t.resizeFrom=null,t._dragCell=null,t._dragStartCell=null,t.resizeTo=null,t.dragOrResize=!1,t.isMouseDown=!1,t.selectedJQXAppointment){e('[data-key="'+t.selectedJQXAppointment.id+'"]').removeClass(t.toTP("jqx-scheduler-feedback-appointment jqx-disableselect"))}t.openedMonthCellPopup&&t.openedMonthCellPopup.remove()}},_saveChangesAfterDragOrResize:function(t,i,o,r){var a=this;if(!1===t)if(i.isException()){for(var n=i.rootAppointment?i.rootAppointment.exceptions:i.exceptions,s=0;s<n.length;s++)if(n[s].occurrenceFrom.equals(i.occurrenceFrom)){n[s]=i;break}}else i.rootAppointment.recurrenceException||(i.rootAppointment.recurrenceException=new Array),null!=i.rootAppointment?(i.rootAppointment.exceptions.push(i),i.rootAppointment.recurrenceException.push(i.occurrenceFrom)):(i.exceptions.push(i),i.recurrenceException.push(i.occurrenceFrom));else if(!0===t){if(i.isException())for(var n=i.rootAppointment?i.rootAppointment.exceptions:i.exceptions,s=0;s<n.length;s++)if(n[s].occurrenceFrom.equals(i.occurrenceFrom)){for(var l=0;l<i.rootAppointment.recurrenceException.length;l++)if(i.rootAppointment.recurrenceException[l].equals(n[s].occurrenceFrom)){var d=(i.from,new e.jqx.date(n[s].occurrenceFrom.year(),n[s].occurrenceFrom.month(),n[s].occurrenceFrom.day(),i.from.hour(),i.from.minute(),i.from.second()));i.rootAppointment.recurrenceException[l]=d;break}n[s]=i;var d=(i.from,new e.jqx.date(n[s].occurrenceFrom.year(),n[s].occurrenceFrom.month(),n[s].occurrenceFrom.day(),i.from.hour(),i.from.minute(),i.from.second()));n[s].occurrenceFrom=d;break}if(null!=i.rootAppointment){i.rootAppointment.recurrencePattern=i.rootAppointment.recurrencePattern.createNewPattern();var h=i.rootAppointment.from,c=i.rootAppointment.duration(),p=i.rootAppointment.recurrencePattern.freq,d=null;switch(p){case"daily":case"weekly":case"monthly":case"yearly":d=new e.jqx.date(h.year(),h.month(),h.day(),i.from.hour(),i.from.minute(),i.from.second())}r?(i.rootAppointment.from=h,i.rootAppointment.to=h.add(i.duration())):(i.rootAppointment.from=d,i.rootAppointment.to=d.add(c)),i.rootAppointment.allDay=i.allDay,i.rootAppointment.resourceId=i.resourceId,i.rootAppointment.color=i.color,i.rootAppointment.borderColor=i.borderColor,i.rootAppointment.background=i.background,i.rootAppointment.timezone=i.timezone,i.rootAppointment.subject=i.subject,i.rootAppointment.description=i.description,i.rootAppointment.location=i.location,i.rootAppointment.category=i.category,i.rootAppointment.status=i.status,a.resizing?i.rootAppointment.recurrencePattern.setFrom(h):i.rootAppointment.recurrencePattern.setFrom(d)}else i.recurrencePattern=i.recurrencePattern.createNewPattern(),i.recurrencePattern.setFrom(i.from);var u=e(o).attr("data-view"),m=a._resources[parseInt(u)-1];null!=m&&(null!=i.rootAppointment?i.rootAppointment.resourceId=m:i.resourceId=m)}},_handleMouseUp:function(t,i,o){var r=this;clearInterval(r._verticalIntervalDragVelocity),clearInterval(r._horizontalIntervalDragVelocity),clearInterval(r._intervalDrag),clearInterval(r._horizontalIntervalDrag);var a=t,n=!1;if(o?r.resizeTo?a.to.equals(r.resizeTo)&&(n=!0):r.resizeFrom&&a.from.equals(r.resizeFrom)&&(n=!0):r._dragStartCell==i&&(n=!0),n){return e('[data-key="'+t.id+'"]').removeClass(r.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),void r._removeFeedbackAndStopResize()}var s=a.duration(),l=a.duration().days()>=1||a.allDay,d=function(t,a){if(a.allDay||l)var n=r.getMaxAllDayAppointments(r.appointmentsToRender);if(o)r.resizeTo?(r.resizeTo>r.max&&(r.resizeTo=r.max),r.resizeTo<r.min&&(r.resizeTo=r.min),a.to=r.resizeTo):r.resizeFrom&&(r.resizeFrom>r.max&&(r.resizeFrom=r.max),r.resizeFrom<r.min&&(r.resizeFrom=r.min),a.from=r.resizeFrom),0==a.from.hour()&&0==a.from.minute()&&23==a.to.hour()&&59==a.to.minute()&&(a.allDay=!0);else{var d=r._views[r._view].type,h=r._views[r._view],c=e(i).attr("data-date"),p=null!=e(i).attr("data-end-date"),u=new e.jqx.date(c,r.timeZone);if(u<r.min&&(u=r.min),u>r.max&&(u=r.max),r.rtl&&l&&p)a.to=e.jqx.scheduler.utilities.getEndOfDay(u);else if(!r.rtl||"monthView"!=d&&"timelineMonthView"!=d)if(!r.rtl||"timelineDayView"!=d&&"timelineWeekView"!=d)a.from=u;else{var m=r.getMinutesPerScale();a.to=u.addMinutes(m)}else a.to=e.jqx.scheduler.utilities.getEndOfDay(u);if("dayView"===d||"weekView"===d)if(l||p){if(!l&&p)a.to=e.jqx.scheduler.utilities.getEndOfDay(u),a.allDay=!0;else if(l&&p&&!r.rtl)a.to=u.add(s),0==a.from.hour()&&0==a.from.minute()&&23==a.to.hour()&&59==a.to.minute()&&(a.allDay=!0);else if(l&&p&&r.rtl)a.from=e.jqx.scheduler.utilities.getStartOfDay(a.to.add(new e.jqx.timeSpan(-s))),0==a.from.hour()&&0==a.from.minute()&&23==a.to.hour()&&59==a.to.minute()&&(a.allDay=!0);else if(l&&!p){var f=30,g=h.timeRuler&&h.timeRuler.scale;switch(g){case"sixtyMinutes":case"hour":f=60;break;case"fifteenMinutes":case"quarterHour":f=15;break;case"tenMinutes":f=10;break;case"fiveMinutes":f=5}a.to=u.addMinutes(f),a.allDay=!1}}else a.to=u.add(s),a.allDay=!1;else if("monthView"===d)r.rtl?a.from=e.jqx.scheduler.utilities.getStartOfDay(a.to.add(new e.jqx.timeSpan(-s))):a.to=u.add(s);else if("timelineDayView"===d||"timelineWeekView"===d||"timelineMonthView"===d)if(r.rtl)if("timelineMonthView"==d)a.from=e.jqx.scheduler.utilities.getStartOfDay(a.to.add(new e.jqx.timeSpan(-s)));else{var m=r.getMinutesPerScale();a.from=u.addMinutes(m).add(new e.jqx.timeSpan(-s))}else a.to=u.add(s)}r._saveChangesAfterDragOrResize(t,a,i,r.resizing);var d=e(i).attr("data-view"),v=r._resources[parseInt(d)-1];null!=v&&(a.resourceId=v),r.resizing=!1,r.resizeFrom=null,r._dragCell=null,r.resizeTo=null;var w={},y={};for(var x in r.appointmentDataFields){var b=r.appointmentDataFields[x],A=a[x];w[x]=A,"from"!=x&&"to"!=x||(A=A.toDate()),y[b]=A}if(w.originalData=y,a.boundAppointment=w,r._raiseEvent("appointmentChange",{appointment:a.boundAppointment}),r.changedAppointments[a.id]={type:"Update",appointment:a.boundAppointment},r.table.find(".jqx-icon-arrow-down").hide(),"monthView"==r._views[r._view].type&&r._views[r._view].monthRowAutoHeight)r._renderrows();else if("weekView"!=r._views[r._view].type&&"dayView"!=r._views[r._view].type||!a.allDay&&!l){var T=r.getViewStart(),_=e.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd());r._prepareAppointmentsInView(T,_),r._renderAppointments(T,_)}else if(r.tableRows>1)r._renderrows();else{var T=r.getViewStart(),_=e.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd());r._prepareAppointmentsInView(T,_),r._renderAppointments(T,_);var S=r.getMaxAllDayAppointments(r.appointmentsToRender);if(S!=n){var D=S*(r._defaultRowHeight-2);D=r.isTouchDevice()?Math.max(22+r._defaultRowHeight,17+D):Math.max(3*r._defaultRowHeight,17+D),1==r.tableRows?e(e(r.table[0].rows[0]).find("td")).css("height",D+"px"):e(e(r.table[0].rows[1]).find("td")).css("height",D+"px"),e(r.oldRow).find("td").css("height",D+"px"),e(r.pinnedTableRow).find("td").css("height",D+"px"),r.pinnedtable.height(D),r._updateScrollbars(r._hostHeight?r._hostHeight:r.host.height())}}r._removeFeedbackAndStopResize()};a.isRecurrentAppointment()?d(!1,a):d(null,a)},_handleDayWeekViewResize:function(t,i,o,r,a){var n=this,s=(n._views[n._view].type,n._views[n._view]);if(a.duration().days()>=1||a.allDay||o.getAttribute("data-end-date")){var l=function(e){return!(e<n.cellWidth-10)},d=s.appointmentsRenderMode&&"exactTime"==s.appointmentsRenderMode;if(a.allDay||!d){if(n.leftResize){if(n._lastResizeX||(n._lastResizeX=n.mouseDownPosition.left),t>n._lastResizeX+e(o).width()/2){var h=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-r.left-n.cellWidth;l(h)&&(n.feedback.css("left",5+r.left+n.cellWidth),n.feedback.width(h-5),n.feedback.hide(),n.pinnedfeedback.css("left",5+r.left+n.cellWidth),n.pinnedfeedback.width(h-5),n._lastResizeX=n.pinnedfeedback.coord().left,n.rtl?n.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(o.getAttribute("data-date"),n.timeZone)).addDays(-1):n.resizeFrom=new e.jqx.date(o.getAttribute("data-date"),n.timeZone).addDays(1))}else if(t<n._lastResizeX-e(o).width()/2){var h=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-r.left;l(h)&&(n.feedback.css("left",5+r.left),
n.feedback.width(h-5),n.feedback.hide(),n.pinnedfeedback.css("left",5+r.left),n.pinnedfeedback.width(h-5),n._lastResizeX=n.pinnedfeedback.coord().left,n.rtl?n.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(o.getAttribute("data-date"),n.timeZone)):n.resizeFrom=new e.jqx.date(o.getAttribute("data-date"),n.timeZone))}}else if(n.rightResize){n._lastResizeX||(n._lastResizeX=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left);var c=e(o).width()/2;if(t>n._lastResizeX+c){var p=e(o).width()+r.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left,h=n.selectedAppointmentTableBounds.width+p;l(h)&&(n.feedback.hide(),n.feedback.width(h-6),n.feedback.css("left",5+r.left),n.pinnedfeedback.width(h-6),n._lastResizeX=n.selectedAppointmentTableBounds.width+p+n.pinnedfeedback.coord().left,n.rtl?n.resizeFrom=new e.jqx.date(o.getAttribute("data-date"),n.timeZone):n.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(o.getAttribute("data-date"),n.timeZone)))}else if(t<n._lastResizeX-c){var p=r.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left,h=n.selectedAppointmentTableBounds.width+p;l(h)&&(n.feedback.hide(),n.feedback.css("left",5+r.left),n.feedback.width(h-6),n.pinnedfeedback.width(h-6),n._lastResizeX=n.selectedAppointmentTableBounds.width+p+n.pinnedfeedback.coord().left,n.rtl?n.resizeFrom=new e.jqx.date(o.getAttribute("data-date"),n.timeZone).addDays(1):n.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(o.getAttribute("data-date"),n.timeZone).addDays(-1)))}}}else{var u=new Array,m=new Array,f=-1,g=-1,v=this.host.coord().left,w=0,y=n.hScrollInstance.value;if(n.rtl)var y=n.hScrollInstance.max-n.hScrollInstance.value;"hidden"==n.hScrollBar[0].style.visibility&&(y=0);for(var x=t+y,b=0;b<this.columns.records.length;b++)this.columns.records[b].timeColumn&&(n.rtl||(v+=this.columns.records[b].width,w++));for(var A=n.getViewStart(),T=n.getViewEnd(),b=0;b<this._getColumnsLengthPerView();b++){var _=this.columns.records[b+w].width;n.leftResize?(n.rtl||(u.push(v),m.push(A.addDays(b)),(0!=a.from.hour()||0==a.from.hour()&&0!=a.from.minute())&&v<n.selectedAppointmentTableBounds.left&&v+_>n.selectedAppointmentTableBounds.left&&(u.push(n.selectedAppointmentTableBounds.left),m.push(a.from),f=u.length-1),(23!=a.to.hour()||23==a.to.hour()&&59!=a.to.minute())&&v<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&v+_>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(u.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width+8),m.push(a.to),g=u.length-1)),n.rtl&&(u.push(v),m.push(T.addDays(-b-1)),(0!=a.from.hour()||0==a.from.hour()&&0!=a.from.minute())&&v<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&v+_>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(u.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width+8),m.push(a.from),f=u.length-1),(23!=a.to.hour()||23==a.to.hour()&&59!=a.to.minute())&&v<n.selectedAppointmentTableBounds.left&&v+_>n.selectedAppointmentTableBounds.left&&(u.push(n.selectedAppointmentTableBounds.left),m.push(a.to),g=u.length-1)),v+=_):n.rtl?((0!=a.from.hour()||0==a.from.hour()&&0!=a.from.minute())&&v<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&v+_>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(u.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width+8),m.push(a.from),f=u.length-1),(23!=a.to.hour()||23==a.to.hour()&&59!=a.to.minute())&&v<n.selectedAppointmentTableBounds.left&&v+_>n.selectedAppointmentTableBounds.left&&(u.push(n.selectedAppointmentTableBounds.left),m.push(a.to),g=u.length-1),v+=_,u.push(v),m.push(T.addDays(-b-1))):((0!=a.from.hour()||0==a.from.hour()&&0!=a.from.minute())&&v<n.selectedAppointmentTableBounds.left&&v+_>n.selectedAppointmentTableBounds.left&&(u.push(n.selectedAppointmentTableBounds.left),m.push(a.from),f=u.length-1),(23!=a.to.hour()||23==a.to.hour()&&59!=a.to.minute())&&v<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&v+_>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(u.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width+8),m.push(a.to),g=u.length-1),v+=_,u.push(v),m.push(A.addDays(b)))}if(n.leftResize){for(var b=0;b<u.length;b++){var r=u[b],S=u[b+1];S||(S=r);var D=b<u.length-1?x>=r&&x<=S:x>=r;if(D){var _=-r+n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width,j=n.pinnedfeedback.width(),q=n.pinnedfeedback.css("left"),C=n.resizeTo,k=n.resizeFrom;_>0&&(n.pinnedfeedback.css("left",r),n.pinnedfeedback.width(_),b==f?n.rtl?n.resizeTo=a.from:n.resizeFrom=a.from:b==g?n.rtl?n.resizeTo=a.to:n.resizeFrom=a.to:n.rtl?n.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(m[b]):n.resizeFrom=m[b])}}var B=n.resizeFrom,R=n.resizeTo;n.rtl?B=a.from:R=a.to;var z=new e.jqx.timeSpan(1e4*(R-B));z.days()<1&&(n.pinnedfeedback.css("left",q),n.pinnedfeedback.width(j),n.resizeFrom=k,n.resizeTo=C)}else if(n.rightResize){for(var b=0;b<u.length;b++){var r=u[b],S=u[b+1];S||(S=r);var D=b<u.length-1?t>=r-this.cellWidth/3&&t<=S-this.cellWidth/3:t>=r-this.cellWidth/3;if(D){var _=r-n.selectedAppointmentTableBounds.left-15,j=n.pinnedfeedback.width();n.pinnedfeedback.width(_);var C=n.resizeTo,k=n.resizeFrom;if(b==f){n.rtl?n.resizeFrom=a.from:n.resizeTo=a.from;var _=r-n.selectedAppointmentTableBounds.left-9;n.pinnedfeedback.width(_);break}if(b==g){n.rtl?n.resizeFrom=a.to:n.resizeTo=a.to;var _=r-n.selectedAppointmentTableBounds.left-9;n.pinnedfeedback.width(_);break}n.rtl?n.resizeFrom=m[b]:n.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(m[b]);break}}var B=n.resizeFrom,R=n.resizeTo;n.rtl?R=a.to:B=a.from;var z=new e.jqx.timeSpan(1e4*(R-B));z.days()<1&&(n.pinnedfeedback.width(j),n.resizeFrom=k,n.resizeTo=C)}}}else{var H=function(e){return!(e<10)},P=n.findCell(n.feedback.coord().left,i);if(n.topResize){if(n._lastResizeY||(n._lastResizeY=n.mouseDownPosition.top),i>n._lastResizeY+e(o).height()/2){var M=n.selectedAppointmentTableBounds.height+n.selectedAppointmentTableBounds.top-r.top-e(o).height()-3;if(H(M)){n.feedback.css("top",2+r.top+e(o).height()),n.feedback.height(M),n._lastResizeY=n.feedback.coord().top;var V=new e.jqx.date(P.getAttribute("data-date"),n.timeZone);n.resizeFrom=V.addMinutes(n.getMinutesPerScale())}}else if(i<n._lastResizeY-e(o).height()/2){var M=n.selectedAppointmentTableBounds.height+n.selectedAppointmentTableBounds.top-r.top-3;H(M)&&(n.feedback.css("top",2+r.top),n.feedback.height(M),n._lastResizeY=n.feedback.coord().top,n.resizeFrom=new e.jqx.date(P.getAttribute("data-date"),n.timeZone))}}else if(n.bottomResize)if(n._lastResizeY||(n._lastResizeY=n.mouseDownPosition.top),i>n._lastResizeY+e(o).height()/2){var p=-5+e(o).height()+r.top-n.selectedAppointmentTableBounds.height-n.selectedAppointmentTableBounds.top,M=n.selectedAppointmentTableBounds.height+p;H(M)&&(n.feedback.height(M),n._lastResizeY=n.selectedAppointmentTableBounds.height+p+n.feedback.coord().top,n.resizeTo=new e.jqx.date(P.getAttribute("data-date"),n.timeZone).addMinutes(n.getMinutesPerScale()))}else if(i<n._lastResizeY-e(o).height()/2){var p=-5+r.top-n.selectedAppointmentTableBounds.height-n.selectedAppointmentTableBounds.top,M=n.selectedAppointmentTableBounds.height+p;H(M)&&(n.feedback.height(M),n._lastResizeY=n.selectedAppointmentTableBounds.height+p+n.feedback.coord().top,n.resizeTo=new e.jqx.date(P.getAttribute("data-date"),n.timeZone))}}},_handleTimelineMonthViewResize:function(t,i,o,r,a){var n=this,s=(n._views[n._view].type,n._views[n._view],function(e){return!(e<10)}),l=n.findCell(t,n.feedback.coord().top);if(a.allDay){if(n.leftResize){if(n._lastResizeX||(n._lastResizeX=n.mouseDownPosition.left),t>n._lastResizeX+e(o).width()/2){var d=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-r.left-e(o).width();s(d)&&(n.feedback.css("left",r.left+e(o).width()),n.feedback.width(d),n._lastResizeX=n.feedback.coord().left,n.rtl?n.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(l.getAttribute("data-date"),n.timeZone).addDays(-1)):n.resizeFrom=new e.jqx.date(l.getAttribute("data-date"),n.timeZone).addDays(1))}else if(t<n._lastResizeX-e(o).width()/2){var d=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-r.left;s(d)&&(n.feedback.css("left",r.left),n.feedback.width(d),n._lastResizeX=n.feedback.coord().left,n.rtl?n.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(l.getAttribute("data-date"),n.timeZone)):n.resizeFrom=new e.jqx.date(l.getAttribute("data-date"),n.timeZone))}}else if(n.rightResize)if(n._lastResizeX||(n._lastResizeX=n.mouseDownPosition.left),t>n._lastResizeX+e(o).width()/2){var h=e(o).width()+r.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left,d=n.selectedAppointmentTableBounds.width+h-5;s(d)&&(n.feedback.width(d),n._lastResizeX=n.selectedAppointmentTableBounds.width+h+n.feedback.coord().left,n.rtl?n.resizeFrom=new e.jqx.date(l.getAttribute("data-date"),n.timeZone):n.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(l.getAttribute("data-date"),n.timeZone)))}else if(t<n._lastResizeX-e(o).width()/2){var h=r.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left,d=n.selectedAppointmentTableBounds.width+h-5;s(d)&&(n.feedback.width(d),n._lastResizeX=n.selectedAppointmentTableBounds.width+h+n.feedback.coord().left,n.rtl?n.resizeFrom=new e.jqx.date(l.getAttribute("data-date"),n.timeZone).addDays(1):n.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(l.getAttribute("data-date"),n.timeZone).addDays(-1)))}}else{for(var c=new Array,p=new Array,u=-1,m=-1,f=this.host.coord().left,g=0,v=0;v<this.columns.records.length;v++)this.columns.records[v].timeColumn&&(f+=this.columns.records[v].width,g++);var w=n.hScrollInstance.value;if(n.rtl)var w=n.hScrollInstance.max-n.hScrollInstance.value;"hidden"==n.hScrollBar[0].style.visibility&&(w=0);for(var y=t+w,x=n.getViewStart(),b=n.getViewEnd(),v=(this._getColumnsLengthPerView(),0);v<this._getColumnsLengthPerView();v++){var A=this.columns.records[v+g].width;n.leftResize?(c.push(f),n.rtl?p.push(b.addDays(-v)):p.push(x.addDays(v)),(0!=a.from.hour()||0==a.from.hour()&&0!=a.from.minute())&&f<n.selectedAppointmentTableBounds.left&&f+A>n.selectedAppointmentTableBounds.left&&(c.push(n.selectedAppointmentTableBounds.left),p.push(a.from),u=c.length-1),(23!=a.to.hour()||23==a.to.hour()&&59!=a.to.minute())&&f<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&f+A>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(c.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width+8),p.push(a.to),m=c.length-1),f+=A):((0!=a.from.hour()||0==a.from.hour()&&0!=a.from.minute())&&f<n.selectedAppointmentTableBounds.left&&f+A>n.selectedAppointmentTableBounds.left&&(c.push(n.selectedAppointmentTableBounds.left),p.push(a.from),u=c.length-1),(23!=a.to.hour()||23==a.to.hour()&&59!=a.to.minute())&&f<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&f+A>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(c.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width),p.push(a.to),m=c.length-1),f+=A,c.push(f),n.rtl?p.push(b.addDays(-v-1)):p.push(x.addDays(v)))}if(n.leftResize){for(var v=0;v<c.length;v++){var T=c[v],_=c[v+1];_||(_=T);var S=v<c.length-1?y>=T&&y<=_:y>=T;if(S){var A=-T+n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width,D=n.feedback.width(),j=n.feedback.css("left"),q=n.resizeTo,C=n.resizeFrom;n.feedback.css("left",T),n.feedback.width(A),v==u?n.rtl?n.resizeTo=a.from:n.resizeFrom=a.from:v==m?n.rtl?n.resizeTo=a.to:n.resizeFrom=a.to:n.rtl?n.resizeTo=p[v]:n.resizeFrom=p[v]}}var k=n.resizeFrom,B=n.resizeTo;n.rtl?k=a.from:B=a.to;new e.jqx.timeSpan(1e4*(B-k));n.feedback.width()<20&&(n.feedback.css("left",j),n.feedback.width(D),n.resizeFrom=C,n.resizeTo=q)}else if(n.rightResize){for(var v=0;v<c.length;v++){var T=c[v],_=c[v+1];_||(_=T);var S=v<c.length-1?y>=T-this.cellWidth/3&&y<=_-this.cellWidth/3:y>=T-this.cellWidth/3;if(S){var A=T-n.selectedAppointmentTableBounds.left-12,D=n.feedback.width();n.feedback.width(A);var q=n.resizeTo,C=n.resizeFrom;if(v==u){n.rtl?n.resizeFrom=a.from:n.resizeTo=a.from;var A=T-n.selectedAppointmentTableBounds.left;n.feedback.width(A);break}if(v==m){n.rtl?n.resizeFrom=a.to:n.resizeTo=a.to;var A=T-n.selectedAppointmentTableBounds.left;n.feedback.width(A);break}n.rtl?n.resizeFrom=p[v]:n.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(p[v]);break}}var k=n.resizeFrom,B=n.resizeTo;n.rtl?B=a.to:k=a.from;new e.jqx.timeSpan(1e4*(B-k));n.feedback.width()<20&&(n.feedback.width(D),n.resizeFrom=C,n.resizeTo=q)}}},_handleMonthViewResize:function(t,i,o,r,a){var n=this;if(n.selectedJQXAppointment){var s=(n._views[n._view].type,n._views[n._view]),l=-5;n.tableColumns>1&&(l=parseInt(-5/n.tableColumns));for(var d=0;d<n.columns.records.length/n.tableColumns;d++)n.columns.records[d].timeColumn||(l+=n.columns.records[d].width);var h=n.selectedJQXAppointment.resourceId,c=n._resources.indexOf(h);n.resources&&"none"==n.resources.orientation&&(c=-1);var p="0px";-1!=c&&1==n.tableRows&&(p=l*c+"px"),s.showWeekNumbers&&(n.rtl||(p=parseInt(p)+n.columns.records[0].width+"px"));var u=o.offsetWidth,m=(o.offsetHeight,18);n.isTouchDevice()&&(m=2);for(var d=0;d<6;d++)n.feedbacks[d][0].style.left=p,n.feedbacks[d][0].style.width=l+"px",n.feedbacks[d][0].style.display="block",n.feedbacks[d][0].style.top=parseInt(n.rows[d].top)+m+"px",n.tableRows>1&&(n.feedbacks[d][0].style.top=parseInt(n.rows[6*c+d].top)+m+"px"),e(n.feedbacks[d][0]).find(".jqx-scheduler-appointment-resize-indicator").css("visibility","inherit");var f=n.selectedJQXAppointment.elements,g=(f[0].cells[0].cell,f[f.length-1]),v=g.lastCellY,w=g.lastCellX,y=f[0].cellY,x=f[0].cellX,b=parseInt(r.top),A=parseInt(r.left);if(n.rtl){if(n.leftResize){for(var T=!1,d=0;d<6;d++){var _=n.feedbacks[d],S=parseInt(_[0].style.top)-m;parseInt(_[0].style.left);if(S<b)_[0].style.width=l+"px";else for(var D=0;D<f.length;D++){var j=f[D].cellY;j==S&&(_[0].style.width=f[D].width+"px",_[0].style.top=f[D].y+"px")}var q=f[0],C=parseInt(q.x);if(S==y)if(_[0].style.left=C+"px",b==y){if(_[0].style.left=1+r.left+"px",_[0].style.width=-1+q.x+q.width-r.left+"px",r.left>q.x+q.width&&(_[0].style.width=q.width+"px",_[0].style.left=q.x+"px"),"exactTime"==s.appointmentsRenderMode&&!n.selectedJQXAppointment.allDay){var k=n.host.coord().left;t-k>=q.x-10&&t-k<=q.cellX+n.cellWidth&&(_[0].style.width=q.width+"px",_[0].style.left=q.x+"px",T=!0)}}else b<y?(_[0].style.left=C+"px",_[0].style.width=q.width+"px"):b>y&&(_[0].style.left=p,_[0].style.width=q.x+q.width-parseInt(p)+"px");else S==b&&(_[0].style.width=l-r.left+parseInt(p)+"px",_[0].style.left=r.left+"px");if(S<y&&(_[0].style.display="none"),S>b&&(_[0].style.display="none"),b<y)for(var D=0;D<f.length;D++){var j=f[D].cellY;j==S&&(_[0].style.display="block",_[0].style.width=f[D].width+"px",_[0].style.left=f[D].x+"px")}if(b==y)for(var D=0;D<f.length;D++){var j=f[D].cellY;(b<y||b==y)&&j==S&&y!=v&&(_[0].style.left=1+r.left+parseInt(p)+"px",1+r.left+parseInt(p)>q.x+q.width&&(_[0].style.left=q.x+"px"),_[0].style.width=-1+q.x+q.width-r.left+"px")}}var B=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(o.getAttribute("data-date"),n.timeZone));B>n.selectedJQXAppointment.from&&!T?n.resizeTo=B:n.resizeTo=n.selectedJQXAppointment.to}else if(n.rightResize){for(var R=!1,d=0;d<6;d++){var _=n.feedbacks[d],S=parseInt(_[0].style.top)-m;parseInt(_[0].style.left);S<b&&(_[0].style.width=l+"px");for(var D=0;D<f.length;D++){var j=f[D].cellY;j==S&&(_[0].style.top=f[D].y+"px")}var q=f[0],C=parseInt(q.x);if(S==y)if(_[0].style.left=C+"px",b==y)if(A>=x){if(_[0].style.width=A+u-C-5+"px","exactTime"==s.appointmentsRenderMode&&!n.selectedJQXAppointment.allDay){var k=n.host.coord().left;t-k>=q.lastCellX&&t-k<=q.x+q.width+15&&(_[0].style.width=q.width+"px",R=!0)}}else _[0].style.width=q.width+"px";else b>y?(_[0].style.left=C+"px",_[0].style.width=q.width+"px"):b<y&&(_[0].style.left=C+"px",_[0].style.width=l-C+parseInt(p)+"px");else S==b&&(_[0].style.width=A+u-5-parseInt(p)+"px");if(S>v&&(_[0].style.display="none"),S<b&&(_[0].style.display="none"),b>v)for(var D=0;D<f.length;D++){var j=f[D].cellY;j==S&&(_[0].style.display="block"),S==v&&(_[0].style.width=f[D].width+"px",_[0].style.left=f[D].x+"px")}if(b<=v&&S==v)for(var D=0;D<f.length;D++){var j=f[D].cellY;S!=b&&j==S&&y!=v?(_[0].style.width=f[D].width+"px",_[0].style.left=f[D].x+"px"):S==b&&j==S&&y!=v&&(_[0].style.left=f[D].x+"px",_[0].style.width=A+u-5-parseInt(p)-f[D].x+"px")}}var B=new e.jqx.date(o.getAttribute("data-date"),n.timeZone);B<n.selectedJQXAppointment.to&&!R?n.resizeFrom=B:n.resizeFrom=n.selectedJQXAppointment.from}}else if(n.leftResize){for(var R=!1,d=0;d<6;d++){var _=n.feedbacks[d],S=parseInt(_[0].style.top)-m;parseInt(_[0].style.left);if(S<b){_[0].style.width=l+"px";for(var D=0;D<f.length;D++){var j=f[D].cellY;j==S&&(_[0].style.top=f[D].y+"px")}}else for(var D=0;D<f.length;D++){var j=f[D].cellY;j==S&&(_[0].style.width=f[D].width+"px",_[0].style.top=f[D].y+"px")}var q=f[0],C=parseInt(q.x);if(S==y)if(_[0].style.left=C+"px",b==y){if(_[0].style.left=1+r.left+"px",_[0].style.width=-1+q.x+q.width-r.left+"px","exactTime"==s.appointmentsRenderMode&&!n.selectedJQXAppointment.allDay){var z=n.cellWidth-(q.x-x),k=n.host.coord().left;t-k>=q.x&&t-k<=q.x+z+2&&(_[0].style.left=C+"px",_[0].style.width=q.width+"px",R=!0)}}else b>y?(_[0].style.left=C+"px",_[0].style.width=q.width+"px"):b<y&&(_[0].style.left=p,_[0].style.width=q.x+q.width-parseInt(p)+"px");else S==b&&(_[0].style.width=l-r.left+parseInt(p)+"px",_[0].style.left=r.left+"px");if(S>v&&(_[0].style.display="none"),S<b&&(_[0].style.display="none"),b>=v)for(var D=0;D<f.length;D++){var j=f[D].cellY;b>v||b==v&&A>w?j==S&&(_[0].style.display="block",_[0].style.width=f[D].width+"px",_[0].style.left=f[D].x+"px"):b==v&&A<=w&&y!=v&&(_[0].style.width=f[D].width-r.left+parseInt(p)+"px")}}var B=new e.jqx.date(o.getAttribute("data-date"),n.timeZone);B<n.selectedJQXAppointment.to&&!R?n.resizeFrom=B:n.resizeFrom=n.selectedJQXAppointment.from}else if(n.rightResize){for(var T=!1,d=0;d<6;d++){var _=n.feedbacks[d],S=parseInt(_[0].style.top)-m;parseInt(_[0].style.left);S<b&&(_[0].style.width=l+"px");for(var D=0;D<f.length;D++){var j=f[D].cellY;j==S&&(_[0].style.top=f[D].y+"px")}var q=f[0],C=parseInt(q.x);if(S==y)if(_[0].style.left=C+"px",b==y)if(A>=x){if(_[0].style.width=A+u-C-5+"px","exactTime"==s.appointmentsRenderMode&&!n.selectedJQXAppointment.allDay){var k=n.host.coord().left;t-k>=w&&t-k<=q.x+q.width+15&&(_[0].style.width=q.width+"px",T=!0)}}else _[0].style.width=q.width+"px";else b<y?(_[0].style.left=C+"px",_[0].style.width=q.width+"px"):b>y&&(_[0].style.left=C+"px",_[0].style.width=l-C+parseInt(p)+"px");else S==b&&(_[0].style.width=A+u-5-parseInt(p)+"px");if(S<y&&(_[0].style.display="none"),S>b&&S>y&&(_[0].style.display="none"),b<=y)for(var D=0;D<f.length;D++){var j=f[D].cellY;(b<y||b==y&&A<x)&&j==S&&(_[0].style.display="block",_[0].style.width=f[D].width+"px")}}var B=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(o.getAttribute("data-date"),n.timeZone));B>n.selectedJQXAppointment.from&&!T?n.resizeTo=B:n.resizeTo=n.selectedJQXAppointment.to}for(var H=new Array,d=0;d<6;d++){var _=n.feedbacks[d];"block"==_[0].style.display&&H.push(_)}e.each(H,function(t){n.rtl?(t>0&&(e(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"),t<H.length-1&&(e(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden")):(t>0&&(e(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden"),t<H.length-1&&(e(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"))})}},_handleTimelineDayWeekViewResize:function(t,i,o,r,a){var n=this,s=(n._views[n._view].type,n._views[n._view],n.getMinutesPerScale()),l=function(e){return!(e<10)},d=n.findCell(t,n.feedback.coord().top);if(n.leftResize){if(n._lastResizeX||(n._lastResizeX=n.mouseDownPosition.left),t>n._lastResizeX+e(o).width()/2){var h=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-r.left-e(o).width();l(h)&&(n.feedback.css("left",2+r.left+e(o).width()),n.feedback.width(h),n._lastResizeX=n.feedback.coord().left,n.rtl?n.resizeTo=new e.jqx.date(d.getAttribute("data-date"),n.timeZone):n.resizeFrom=new e.jqx.date(d.getAttribute("data-date"),n.timeZone).addMinutes(s))}else if(t<n._lastResizeX-e(o).width()/2){var h=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-r.left;l(h)&&(n.feedback.css("left",2+r.left),n.feedback.width(h),n._lastResizeX=n.feedback.coord().left,n.rtl?n.resizeTo=new e.jqx.date(d.getAttribute("data-date"),n.timeZone).addMinutes(s):n.resizeFrom=new e.jqx.date(d.getAttribute("data-date"),n.timeZone))}}else if(n.rightResize)if(n._lastResizeX||(n._lastResizeX=n.mouseDownPosition.left),t>n._lastResizeX+e(o).width()/2){var c=e(o).width()+r.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left,h=n.selectedAppointmentTableBounds.width+c;l(h)&&(n.feedback.width(h),n._lastResizeX=n.selectedAppointmentTableBounds.width+c+n.feedback.coord().left,n.rtl?n.resizeFrom=new e.jqx.date(d.getAttribute("data-date"),n.timeZone):n.resizeTo=new e.jqx.date(d.getAttribute("data-date"),n.timeZone).addMinutes(s))}else if(t<n._lastResizeX-e(o).width()/2){var c=r.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left,h=n.selectedAppointmentTableBounds.width+c;l(h)&&(n.feedback.width(h),n._lastResizeX=n.selectedAppointmentTableBounds.width+c+n.feedback.coord().left,n.rtl?n.resizeFrom=new e.jqx.date(d.getAttribute("data-date"),n.timeZone).addMinutes(s):n.resizeTo=new e.jqx.date(d.getAttribute("data-date"),n.timeZone))}},_handleResize:function(t,i,o,r,a){var n=this,s=n._views[n._view].type,l=n._views[n._view];"dayView"===s||"weekView"===s?n._handleDayWeekViewResize(t,i,o,r,a):"timelineMonthView"===s?n._handleTimelineMonthViewResize(t,i,o,r,a):"monthView"===s?n._handleMonthViewResize(t,i,o,r,a):"timelineDayView"!==s&&"timelineWeekView"!==s||n._handleTimelineDayWeekViewResize(t,i,o,r,a),"timelineDayView"===s||"timelineMonthView"===s||"timelineWeekView"===s?(clearInterval(n._horizontalIntervalDrag),n._horizontalIntervalDrag=setInterval(function(){var e=n.host.width(),i=n.host.coord().left,o=i+25,r=e+o-45;n.rtl?t>r?n.hScrollInstance.setPosition(n.hScrollInstance.value-5):t<o&&n.hScrollInstance.setPosition(n.hScrollInstance.value+5):t<o?n.hScrollInstance.setPosition(n.hScrollInstance.value-5):t>r&&n.hScrollInstance.setPosition(n.hScrollInstance.value+5)},5)):"dayView"!==s&&"weekView"!==s||(clearInterval(n._intervalDrag),n._intervalDrag=setInterval(function(){var t=n.host.height(),o=0;n.columnGroups?o+=n.showHeader?n.columnsheader.height():0:o+=n.showHeader?n.columnsHeight:0,n.showToolbar&&(o+=n.toolbarHeight),t-=o;var r=n.legendHeight;0==n._resources.length&&(r=0),n.showLegend&&(t-=r);var d=o+n.host.coord().top,h=n.showAllDayRow;!l.timeRuler||"dayView"!==s&&"weekView"!==s||void 0!=l.timeRuler.showAllDayRow&&(h=l.timeRuler.showAllDayRow);var c=a.duration().days()>=1||a.allDay;h&&c?d-=20:h&&n.resizing&&(d+=e(n.table[0].rows[0]).height(),t-=e(n.table[0].rows[0]).height());var p=d+25,u=t+p-45;i<p?n.vScrollInstance.setPosition(n.vScrollInstance.value-5):i>u&&n.vScrollInstance.setPosition(n.vScrollInstance.value+5)},5)),n.resizing=!0},_startTimers:function(t,i,o){var r=this,a=r.host.coord(),n=0,s=0;"hidden"!=r.hScrollInstance.element.style.visibility&&(clearInterval(r._horizontalIntervalDragVelocity),r._horizontalIntervalDragVelocity=setInterval(function(){++n>40&&(n=40)},100),clearInterval(r._horizontalIntervalDrag),r._horizontalIntervalDrag=setInterval(function(){var e=r._hostWidth,i=a.left,o=i+30,s=e+o-60;r.rtl?t<o?r.hScrollInstance.setPosition(r.hScrollInstance.value+10+n):t>s?r.hScrollInstance.setPosition(r.hScrollInstance.value-10-n):n=0:t<o?r.hScrollInstance.setPosition(r.hScrollInstance.value-10-n):t>s?r.hScrollInstance.setPosition(r.hScrollInstance.value+10+n):n=0},10)),"hidden"!=r.vScrollInstance.element.style.visibility&&(clearInterval(r._verticalIntervalDragVelocity),r._verticalIntervalDragVelocity=setInterval(function(){++s>40&&(s=40)},100),clearInterval(r._intervalDrag),r._intervalDrag=setInterval(function(){var t=r._hostHeight,n=0;r.columnGroups?n+=r.showHeader?r.columnsheader.height():0:n+=r.showHeader?r.columnsHeight:0;var l=r._views[r._view].type,d=r._views[r._view];r.showToolbar&&(n+=r.toolbarHeight),t-=n,r.showLegend&&r._resources.length>0&&(t-=r.legendHeight);var h=a.top,c=n+h;if("dayView"==l||"weekView"==l){var p=r.showAllDayRow;!d.timeRuler||"dayView"!==l&&"weekView"!==l||void 0!=d.timeRuler.showAllDayRow&&(p=d.timeRuler.showAllDayRow);var u=o.duration().days()>=1||o.allDay;p&&u?c-=20:p&&r.resizing&&(c+=e(r.table[0].rows[0]).height())}var m=c+30,f=h+t+n-30;i<m?r.vScrollInstance.setPosition(r.vScrollInstance.value-10-s):i>f?r.vScrollInstance.setPosition(r.vScrollInstance.value+10+s):s=0},10))},_hoverCell:function(e){var t=this;return!t.enableHover||(t._resources.length>0&&e.className.indexOf("pinned")>=0||(e.className.indexOf("time-column")>=0||(e.className.indexOf("jqx-scheduler-disabled-cell")>=0||(!(!e||e!=t.hoveredCell)||(t.hoveredCell=e,!e||(t._removeHoveredCell(),t.hoveredCell=e,e.className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")+" "+t.toTP("jqx-scheduler-cell-hover"),void(e.jqxClassName=e.className)))))))},_removeHoveredCell:function(){var e=this;if(e.hoveredCell){var t=e.hoveredCell;!function(i){var o=t.className;o=o.replace(" "+e.toTP("jqx-fill-state-hover"),""),o=o.replace(" "+e.toTP("jqx-grid-cell-hover"),""),o=o.replace(" "+e.toTP("jqx-scheduler-cell-hover"),""),t.className=o,t.jqxClassName=o}()}e.hoveredCell=null},_addHandlers:function(){var t=this;this._mousewheelfunc=this._mousewheelfunc||function(e){return t.wheel(e,t),!1},this.focused=!1;var i=!1;this.addHandler(e(document),"keydown.scheduler"+t.element.id,function(e){i=!1,9===e.keyCode&&e.shiftKey&&!t.focused&&(i=!0)}),this.addHandler(this.host,"focus",function(o){if(!t.focusedCell||t.selectedAppointment||i||e(t.focusedCell).addClass(t.toThemeProperty("jqx-scheduler-cell-focus")),t.focused=!0,i)if(t.appointmentsToRender.length>0){var r=t.appointmentsToRender[t.appointmentsToRender.length-1];t._selectAppointment(r),t._lastSelectedAppointment=r}else if(t.focusedCell){if(t.focusedCell&&-1==t.focusedCell.className.indexOf("-focus"))return t._updateCellsSelection(),!1}else t._updateFocusedCell()}),this.addHandler(this.host,"blur",function(i){if(t.focusedCell){if(document.activeElement==t.element)return!0;if(e(document.activeElement).ischildof(t.host))return!0;e(t.focusedCell).removeClass(t.toThemeProperty("jqx-scheduler-cell-focus")),t.focused=!1}}),this.addHandler(this.host,"dragstart."+this.element.id,function(e){return!1}),this.addHandler(this.host,"selectstart."+this.element.id,function(i){return!!t.enableBrowserSelection||(!(!t.showToolBar||!e(i.target).ischildof(t.toolbar))||(!!(t.rowDetails&&e(i.target).parents("[data-role=details]").length>0)||void 0!=t.editKey&&void 0))}),this.addHandler(e(window),"jqxReady."+this.element.id,function(){}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var o=this.isTouchDevice();this.vScrollInstance.valueChanged=function(e){t._timer&&clearTimeout(t._timer),o?t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px"):t._timer=setTimeout(function(){t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px")},1)},this.hScrollInstance.valueChanged=function(e){t._htimer&&clearTimeout(t._htimer),o?t.table&&t._renderhorizontalscroll():t._htimer=setTimeout(function(){t.table&&t._renderhorizontalscroll()},1)};var r="mousedown";this.isTouchDevice()&&(r=e.jqx.mobile.getTouchEventName("touchstart"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(r="mousedown")),this.addHandler(this.table,"mouseleave",function(e){t._removeHoveredCell()}),t.isTouchDevice()&&(t.enableHover=!1);var a="mousemove.scheduler"+this.element.id,n="mouseup.scheduler"+this.element.id;this.isTouchDevice()&&!0!==this.touchMode&&(a=e.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+this.element.id,n=e.jqx.mobile.getTouchEventName("touchend")+".scheduler"+this.element.id),this.addHandler(e(document),a,function(i){var o=i.pageX,r=i.pageY;if(t.isTouchDevice()){var a=e.jqx.position(i);if(o=a.left,r=a.top,isNaN(o)||isNaN(r)){var a=e.jqx.position(i.originalEvent);o=a.left,r=a.top}}if(t.disabled||3===i.which)return!0;if(!t.isMouseDown)return!0;if(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling())return!0;if(t._hostWidth){var n=t.host.coord();if(n.left+t._hostWidth<o||o<n.left)return!0;if(n.top+t._hostHeight<r||r<n.top)return!0}if(t.mouseDownPosition&&(Math.abs(t.mouseDownPosition.left-o)>=3&&Math.abs(t.mouseDownPosition.left-o)<=10||Math.abs(t.mouseDownPosition.top-r)>=3&&Math.abs(t.mouseDownPosition.top-r)<=10)&&(t.dragOrResize=!0),t.selectedAppointment&&t.dragOrResize){var s=null;if(t._hasOpenedMenu)return!0;if(t.editRecurrenceDialog.jqxWindow("isOpen"))return!0;var l=t._views[t._view].type,d=t._views[t._view],h=!1;if("td"===i.target.nodeName.toLowerCase())var c=i.target;else var c=t.findCell(o,r);if(!c)return!0;if(void 0!=c.getAttribute("data-time-slot"))return!0;if(c.className.indexOf("jqx-grid-cell-pinned")>=0)return!0;if(!t.feedback){if(s=t.getJQXAppointmentByElement(t.selectedAppointment),!s.draggable&&!s.resizable)return s=null,!0;if(t.beginDrag){var p=t.beginDrag(s);if(!p)return!0}var u=e('[data-key="'+s.id+'"]'),m=t.selectedAppointment.position();t.feedback=t.selectedAppointment.clone(!0),t.pinnedfeedback=t.selectedAppointment.clone(!0);var f=!("row-resize"==t.selectedAppointment[0].style.cursor||"col-resize"==t.selectedAppointment[0].style.cursor||t.resizing),g=function(e){f&&e.find(".jqx-scheduler-appointment-resize-indicator").hide(),u.addClass(t.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),e.find(".jqx-scheduler-appointment-duration-status").hide(),e.addClass(t.toTP("jqx-scheduler-feedback-appointment")),e.addClass(t.toTP("jqx-scheduler-feedback-drag-appointment")),f?e.css("z-index",401):e.css("z-index",400)};if(g(t.feedback),g(t.pinnedfeedback),"monthView"!=t._views[t._view].type||f){if(t.table.append(t.feedback),1==t.tableRows?t.pinnedtable.append(t.pinnedfeedback):t.table.append(t.pinnedfeedback),t.feedback.css("left",m.left),t.feedback.css("top",m.top),t.pinnedfeedback.css("left",m.left),t.pinnedfeedback.css("top",m.top),"monthView"==t._views[t._view].type&&t.isTouchDevice()){t.feedbacks=new Array;for(var v=0;v<6;v++)t.feedbacks.push(t.feedback.clone(!0)),e(t.feedbacks[v]).hide(),t.table.append(e(t.feedbacks[v]))}}else{t.feedbacks=new Array;for(var v=0;v<6;v++)t.feedbacks.push(t.feedback.clone(!0)),e(t.feedbacks[v]).hide(),t.table.append(e(t.feedbacks[v]))}}if(t.dragging){var p=t.dragging(s,c,t.feedback);if(!1===p)return!0}var a=e(c).position();if(t.endDrag)var w=t.feedback.css("left"),y=t.feedback.css("top"),x=t.feedback.width(),b=t.feedback.height;s||(s=t.selectedJQXAppointment),s||(t.selectAppointment(t.uiappointments[0].id),s=t.selectedJQXAppointment);var A=s.resourceId,T=t._resources.indexOf(A);t.resources&&"none"==t.resources.orientation&&(T=-1);var _=!1,S=t.isTouchDevice();if(S&&!0!==t.touchMode&&null==t._dragCell&&!(t.leftResize||t.rightResize||t.topResize||t.bottomResize||t.resizing))switch(l){case"dayView":case"weekView":var h=s.duration().days()>=1||s.allDay;h?(o>=t.selectedAppointmentBounds.left-15&&o<=t.selectedAppointmentBounds.left+15&&(_=!0,t.leftResize=!0),
o>=t.selectedAppointmentBounds.left+t.selectedAppointmentBounds.width-15&&o<=t.selectedAppointmentBounds.left+t.selectedAppointmentBounds.width+15&&(_=!0,t.rightResize=!0)):(r>=t.selectedAppointmentBounds.top-15&&r<=t.selectedAppointmentBounds.top+15&&(_=!0,t.topResize=!0),r>=t.selectedAppointmentBounds.top-15+t.selectedAppointmentBounds.height&&r<=t.selectedAppointmentBounds.top+t.selectedAppointmentBounds.height+15&&(_=!0,t.bottomResize=!0));break;default:o>=t.selectedAppointmentBounds.left-15&&o<=t.selectedAppointmentBounds.left+15&&(_=!0,t.leftResize=!0),o>=t.selectedAppointmentBounds.left+t.selectedAppointmentBounds.width-15&&o<=t.selectedAppointmentBounds.left+t.selectedAppointmentBounds.width+15&&(_=!0,t.rightResize=!0)}if(S&&(t.leftResize||t.rightResize||t.topResize||t.bottomResize||t.resizing)||_){if(c.getAttribute("data-view")!=T+1&&t._resources.length>0&&"none"!=t.resources.orientation)return!0;var D=t._getDateByString(c.getAttribute("data-date"));if(D<t.min.toDate()||D>t.max.toDate())return;t._handleResize(o,r,c,a,s),t._oldResizeTD=c}else if(!S&&"row-resize"==t.selectedAppointment[0].style.cursor||"col-resize"==t.selectedAppointment[0].style.cursor||t.resizing){if(c.getAttribute("data-view")!=T+1&&t._resources.length>0&&t.resources&&"none"!=t.resources.orientation)return!0;var D=t._getDateByString(c.getAttribute("data-date"));if(D<t.min.toDate()||D>t.max.toDate())return;t._handleResize(o,r,c,a,s),t._oldResizeTD=c}else{if(!s.draggable)return t._removeFeedbackAndStopResize(),!0;if(t._dragCell==c)return t._startTimers(o,r,s),t.isTouchDevice()&&!0!==t.touchMode?(i.stopPropagation(),!1):void 0;var D=t._getDateByString(c.getAttribute("data-date"));if(D<t.min.toDate()||D>t.max.toDate())return;var j=s.duration();if(l.indexOf("month")>=0&&new e.jqx.date(D).add(j)>t.max)return;var q="hidden"==t.vScrollBar[0].style.visibility?0:6+t.vScrollBar.outerWidth();if(t._dragCell=c,t.feedback[0].style.left=2+a.left+"px",t.feedback[0].style.top=2+a.top+"px","dayView"===l||"weekView"===l){t.pinnedfeedback.css("left",2+a.left),t.pinnedfeedback.css("top",2+a.top);var C=0;if(c.getAttribute("data-end-date")){var k=t.appointmentsMinHeight;if(t.isTouchDevice()&&(k=t.touchAppointmentsMinHeight),d.appointmentHeight&&(k=d.appointmentHeight),h=s.duration().days()>=1||s.allDay,t.feedback.css("top",2+a.top+k),t.pinnedfeedback.css("top",2+a.top+18),"dayView"==l){var B=t.selectedAppointment.coord().left-9;t.feedback.css("left",B),t.pinnedfeedback.css("left",B)}if(h){if(t.pinnedfeedback.css("top",s.elements[0].y),C=t.selectedAppointment.width(),2+a.left+C>t.host.width()-q){var R=2+a.left+C-t.host.width()+q+6;C-=R}t.feedback.width(C),t.feedback.height(k),t.pinnedfeedback.width(C),t.pinnedfeedback.height(k)}else C=e(c).width()-4,t.feedback.width(C),t.feedback.height(k),t.pinnedfeedback.width(C),t.pinnedfeedback.height(k);t.feedback.hide(),t.pinnedfeedback.show()}else{t.feedback.show(),t.pinnedfeedback.hide();var z=d.timeRuler&&d.timeRuler.scale;switch(z){case"sixtyMinutes":case"hour":1;break;case"thirtyMinutes":case"halfHour":2;break;case"fifteenMinutes":case"quarterHour":4;break;case"tenMinutes":6;break;case"fiveMinutes":12}C=e(c).width()-4,t.feedback.width(C),h=s.duration().days()>=1||s.allDay,h?t.feedback.height(e(c).height()-6):t.feedback.height(t.selectedAppointment.height())}t._startTimers(o,r,s)}else if("monthView"===l){t.feedback.css("left",1+a.left);var H=t.selectedAppointmentTableBounds,P=parseInt(H.top);P>a.top&&P<a.top+c.offsetHeight?t.feedback.css("top",P+"px"):t.feedback.css("top",t.selectedAppointment.height()+a.top-2),t.isTouchDevice()&&t.feedback.css("top",a.top+2),C=t.selectedAppointment.width(),t.feedback.width(C),t.feedback.height(t.selectedAppointment.height()),t._startTimers(o,r,s)}else if("timelineDayView"===l||"timelineMonthView"===l||"timelineWeekView"===l){var H=t.selectedAppointmentTableBounds,P=parseInt(H.top);P>a.top&&P<a.top+c.offsetHeight&&t.feedback.css("top",P+"px"),t._startTimers(o,r,s)}}if(t.endDrag){var p=t.endDrag(s,c,t.feedback);return p||t.feedback.width(x),t.feedback.height(b),t.feedback.css("top",y),t.feedback.css("left",w),!0}if(t.isTouchDevice()&&!0!==t.touchMode)return i.stopPropagation(),!1}});var s=function(e){if(t.isMouseDown=!1,t.dragOrResize=!1,t.contextMenu&&t.menu&&3!==e.which&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1),3===e.which)return!0;if(t.selectedAppointment&&t.feedback){if(t.editRecurrenceDialog.jqxWindow("isOpen"))return;t._handleMouseUp(t.selectedJQXAppointment,t._dragCell,t.resizing)}};if(this.addHandler(e(document),n,function(e){return s(e)}),!this.isTouchDevice())try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var l=null;if(window.parent&&document.referrer&&(l=document.referrer),l&&-1!=l.indexOf(document.location.host)){var d=function(e){if(!t.disabled)return s(e)};t.addHandler(e(window.top.document),"mouseup.jqxscheduler"+t.element.id,d)}}}catch(e){}this.addHandler(this.host,a,function(i){var o=i.pageX,r=i.pageY;if(t.disabled||3===i.which)return!0;if(t.selectedAppointment&&t.isMouseDown)return!0;if(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling())return!0;if(t._hasOpenedMenu)return!0;if("none"!==t.overlay[0].style.display)return!0;var a=null;i.target.className.indexOf("jqx-scheduler-appointment")>=0&&-1==i.target.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-content")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(a=i.target);for(var n=i.target,s=0;s<4&&n.parentNode;s++)n.className.indexOf("jqx-scheduler-appointment")>=0&&-1==n.className.indexOf("jqx-scheduler-appointment-innter-content")&&-1==n.className.indexOf("jqx-scheduler-appointment-content")&&-1==n.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(a=n),n=n.parentNode;if(a){var l=t._views[t._view].type,d=(t._views[t._view],t.getJQXAppointmentByElement(a));if(d.resizable){var h=d.duration(),c=d.allDay||h.days()>=1||23==h.hours()&&59==h.minutes&&59==h.seconds,p=e(a).coord(),u=e(a).position();t.selectedAppointmentBounds={top:p.top,left:p.left,width:e(a).width(),height:e(a).height()},t.selectedAppointmentTableBounds={top:u.top,left:u.left,width:e(a).width(),height:e(a).height()};var m=t.selectedAppointmentBounds;if("weekView"==l||"dayView"==l)c?"dayView"!=l?o>=m.left-3&&o<=m.left+6?(a.style.cursor="col-resize",t.leftResize=!0,t.rightResize=!1):o>=m.left+m.width-6&&o<=m.left+m.width+3?(a.style.cursor="col-resize",t.leftResize=!1,t.rightResize=!0):a.style.cursor="pointer":a.style.cursor="pointer":r>=m.top-3&&r<=m.top+6?(a.style.cursor="row-resize",t.topResize=!0,t.bottomResize=!1):r>=m.top+m.height-6&&r<=m.top+m.height+3?(a.style.cursor="row-resize",t.topResize=!1,t.bottomResize=!0):a.style.cursor="pointer";else if("monthView"==l&&d.elements.length>1)for(var f=t.table.coord(),s=0;s<d.elements.length;s++){var g=d.elements[s],m={top:f.top+g.y,left:f.left+g.x,width:g.width,height:g.height};if(0==s&&!t.rtl||s==d.elements.length-1&&t.rtl)if(o>=m.left-3&&o<=m.left+6){if(r>=m.top&&r<=m.top+m.height){a.style.cursor="col-resize",t.leftResize=!0,t.rightResize=!1,t.selectedAppointment=e(a);break}a.style.cursor="pointer"}else a.style.cursor="pointer";else if(s==d.elements.length-1&&!t.rtl||0==s&&t.rtl)if(o>=m.left+m.width-6&&o<=m.left+m.width+3){if(r>=m.top&&r<=m.top+m.height){a.style.cursor="col-resize",t.leftResize=!1,t.rightResize=!0,t.selectedAppointment=e(a);break}a.style.cursor="pointer"}else a.style.cursor="pointer"}else o>=m.left-3&&o<=m.left+6?(a.style.cursor="col-resize",t.leftResize=!0,t.rightResize=!1):o>=m.left+m.width-6&&o<=m.left+m.width+3?(a.style.cursor="col-resize",t.leftResize=!1,t.rightResize=!0):a.style.cursor="pointer"}}if(!t.enableHover)return!0;if("td"===i.target.nodeName.toLowerCase())var v=i.target;else var v=t.findCell(o,r);if(!v)return!0;if(t._removeHoveredCell(),t.renderedRecords&&0===t.renderedRecords.length)return!0;if(t.isMouseDown){if(Math.abs(t.mousecaptureposition.left-o)>3||Math.abs(t.mousecaptureposition.top-r)>3){if(0===t.mousecaptureposition.clickedcell.length)return void(t.selectionarea[0].style.visibility="hidden");t.lastHoveredCell!=v&&(t._selectRangeTimer&&clearTimeout(t._selectRangeTimer),t._selectRangeTimer=setTimeout(function(){"agendaView"!=t._views[t._view].type&&t._selectRange(v,t.mousecaptureposition.clickedcell[0])},1)),t.lastHoveredCell=v}}else if(!a){if(1==t.rows.length&&1==t.rows[0].cells.length)return!0;t._hoverCell(v)}return!0}),this.addHandler(e(document),"keydown.jqxscheduler"+t.element.id,function(e){if(t.focused&&e.ctrlKey&&68==e.keyCode)return!1}),this.addHandler(this.host,"keydown",function(e){return t._handleKey(e)}),e.jqx.browser.msie&&e.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(e){t.table.trigger("mousedown",e)});var h=function(i){var o=(i.target,null);if(t.disabled)return!0;t.menu||3!=i.which||t._initMenu();var r=(t.table.coord(),i.pageX),a=i.pageY;if(e.jqx.browser.msie&&e.jqx.browser.version<9&&arguments&&2==arguments.length&&(r=arguments[1].pageX,a=arguments[1].pageY),t.isTouchDevice()){var n=e.jqx.position(i);if(r=n.left,a=n.top,isNaN(r)||isNaN(a)){var n=e.jqx.position(i.originalEvent);r=n.left,a=n.top}}t.mouseDown={top:a,left:r};var o=t.findCell(r,a);if("td"===i.target.nodeName.toLowerCase())var o=i.target;else var o=t.findCell(r,a);var s=t._views[t._view].type,l=t._views[t._view];if("monthView"===s&&l.weekViewNavigation&&o&&o.getAttribute("data-time-slot")){var d=t._getDateByString(o.getAttribute("data-date")),h=new e.jqx.date(d);t.date=h,t.setView("weekView")}if("monthView"===s&&l.dayViewNavigation){var c=e(o).coord().top;if(o&&a>=c&&c+16>=a){var d=t._getDateByString(o.getAttribute("data-date")),h=new e.jqx.date(d);t.date=h,t.setView("dayView")}}if("span"===i.target.nodeName.toLowerCase()&&(i.target.className.indexOf("jqx-icon-arrow-down")>=0||i.target.className.indexOf("jqx- md-cancel  ")>=0))return i.target.mousedown&&i.target.mousedown(),!0;var p=e(o).parent(),u=p.attr("data-key");t.mousecaptureposition={left:i.pageX,top:i.pageY,clickedrow:e(p).index(),clickedcell:e(o)},3!==i.which?(t.isMouseDown=!0,t.isMouseDownDate=new Date):t.isMouseDown=!1,t.contextMenu&&t.menu&&3!==i.which&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1);var m=function(e){if(3===i.which&&t.contextMenu&&t.menu){e?t.menu.find("li:first").show():t.menu.find("li:first").hide();var o=t.menu.coord();if("block"==t.menu.css("display")&&o.left==i.pageX&&o.top==i.pageY)return t._hasOpenedMenu=!0,i.preventDefault(),void i.stopPropagation();t.menuOpening=!0,t.menu.jqxMenu("open",i.pageX,i.pageY),t.menuOpening=!1,t._hasOpenedMenu=!0,i.preventDefault(),i.stopPropagation(),setTimeout(function(){t.menu.jqxMenu("focus")},50)}},f=function(){for(var e=0;e<T.length;e++)for(var t=T[e].cells,i=0;i<t.length;i++)t[i].removeAttribute("data-selected")},g=i.target.className.indexOf("jqx-scheduler-appointment")>=0&&-1==i.target.className.indexOf("jqx-scheduler-appointment-duration-status")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-status")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-content")?e(i.target):e(i.target).parents(".jqx-scheduler-appointment");if(0==g.length&&(g=null),g&&-1==g[0].className.indexOf("feedback")){if(g.parents(".jqx-scheduler-month-cell-popup").length>0)return!0;t.mouseDownPosition={top:a,left:r};var v=e(g).coord();t.selectedAppointmentBounds={top:v.top,left:v.left,width:e(g).width(),height:e(g).height()};var n=e(g).position();t.selectedAppointmentTableBounds={top:n.top,left:n.left,width:e(g).width(),height:e(g).height()},t._dragStartCell||(t._dragStartCell=t.findCell(v.left,v.top));var w=t.getJQXAppointmentByElement(g);t._selectAppointment(w,g,"mouse"),t._raiseEvent("appointmentClick",{appointment:w.boundAppointment}),t.clearSelection();var y=(new Date).getTime(),x=300;if(e.jqx.browser.msie&&e.jqx.browser.version<9&&(x=1e3),t.clickTime||(t.clickTime=new Date),y-t.clickTime.getTime()<x&&t._lastSelectedAppointment&&w.id==t._lastSelectedAppointment.id&&3!=i.which){if(!w.readOnly&&!t.editRecurrenceDialog.jqxWindow("isOpen")&&(!t._editDialog||t._editDialog&&!t._editDialog.jqxWindow("isOpen"))){var b=t._initDialog(w);!1!==b&&t._openDialog()}t.mouseDownPosition=null,t.isMouseDown=!1,i.preventDefault&&i.preventDefault(),t._raiseEvent("appointmentDoubleClick",{appointment:w.boundAppointment})}else w.readOnly||3!==i.which&&t.focus();return t._lastSelectedAppointment=w,i.preventDefault&&i.preventDefault(),i.stopPropagation(),t.clickTime=new Date,void(w.readOnly||3==i.which&&m(!0))}if(3===i.which){if(null!==t.getSelection())m(!1);else{t.clearAppointmentsSelection(),o.setAttribute("data-selected","true"),t._lastSelectedCell=o,t.focusedCell=o,t._updateCellsSelection(o),m(!1);var A=new e.jqx.date(o.getAttribute("data-date"),t.timeZone);t._raiseEvent("cellClick",{cell:o,date:A})}}else 3!=i.which&&t.clearAppointmentsSelection();if("agendaView"==t.view){var g=-1!=i.target.className.indexOf("jqx-scheduler-agenda-appointment");if(g){g=i.target;var w=t.getJQXAppointmentByElement(g);t._selectAppointment(w,g,"mouse"),t._raiseEvent("appointmentClick",{appointment:w.boundAppointment});var y=(new Date).getTime(),x=300;if(e.jqx.browser.msie&&e.jqx.browser.version<9&&(x=1e3),t.clickTime||(t.clickTime=new Date),y-t.clickTime.getTime()<x&&t._lastSelectedAppointment&&w.id==t._lastSelectedAppointment.id&&3!=i.which){if(!w.readOnly&&!t.editRecurrenceDialog.jqxWindow("isOpen")&&(!t._editDialog||t._editDialog&&!t._editDialog.jqxWindow("isOpen"))){var b=t._initDialog(w);!1!==b&&t._openDialog()}t.mouseDownPosition=null,t.isMouseDown=!1,i.preventDefault&&i.preventDefault(),t._raiseEvent("appointmentDoubleClick",{appointment:w.boundAppointment})}t._lastSelectedAppointment=w,i.preventDefault&&i.preventDefault(),i.stopPropagation(),t.clickTime=new Date,w.readOnly||3==i.which&&m(!0)}}if(void 0!==u&&3!=i.which){t.clickedTD=o;var A=new e.jqx.date(o.getAttribute("data-date"),t.timeZone);t._raiseEvent("cellClick",{cell:o,date:A});if(t.rowinfo[u]){var y=(new Date).getTime(),x=300;if(t.clickTime||(t.clickTime=new Date),t.focus(),t._lastSelectedCell&&"true"==t._lastSelectedCell.getAttribute("data-selected")&&"true"===o.getAttribute("data-selected")&&y-t.clickTime.getTime()<x){var A=new e.jqx.date(o.getAttribute("data-date"),t.timeZone);t._raiseEvent("cellDoubleClick",{cell:o,date:A}),!0,t._initDialog(),t._openDialog(),i.preventDefault&&i.preventDefault()}}var T=t.rows;if("true"!=o.getAttribute("data-selected")||i.shiftKey||y-t.clickTime.getTime()>x){if("true"==o.getAttribute("data-time-slot"))return;if(i.shiftKey||(t.shiftSelectedCell=null),i.shiftKey&&t._lastSelectedCell&&"agendaView"!=s&&(t.shiftSelectedCell||(t.shiftSelectedCell=t._lastSelectedCell),o.getAttribute("data-view")===t.shiftSelectedCell.getAttribute("data-view")&&f(),t._selectRange(o,t.shiftSelectedCell)),!i.shiftKey){f();var d=t._getDateByString(o.getAttribute("data-date"));d>=t.min.toDate()&&d<=t.max.toDate()?o.setAttribute("data-selected","true"):o.setAttribute("data-selected","false")}e('[data-key="'+u+'"]').removeClass(t.toTP("jqx-scheduler-selected-appointment")),t.selectedAppointment=null;var d=t._getDateByString(o.getAttribute("data-date"));d>=t.min.toDate()&&d<=t.max.toDate()&&(t._lastSelectedCell=o,t.focusedCell=o),t._updateCellsSelection(o),t.openedMonthCellPopup&&t.openedMonthCellPopup.remove()}t.clickTime=new Date,i.stopPropagation&&i.stopPropagation()}};this.addHandler(this.pinnedtable,r,function(e){var t=h(e);if(void 0!=t)return t}),this.addHandler(this.table,r,function(e){var t=h(e);if(void 0!=t)return t})},moveAppointment:function(t,i,o,r,a){var n=this,s=r.getAttribute("data-end-date");if(t){if(n.editRecurrenceDialog.jqxWindow("isOpen"))return;clearInterval(n._verticalIntervalDragVelocity),clearInterval(n._horizontalIntervalDragVelocity),clearInterval(n._intervalDrag),clearInterval(n._horizontalIntervalDrag);var l=t.duration(),d=t.duration().days()>=1||t.allDay,h=function(h){if(!a){var c=n._views[n._view].type,p=n._views[n._view],u=i;if(t.from=u,"dayView"===c||"weekView"===c)if(d||s){if(!d&&s)t.to=e.jqx.scheduler.utilities.getEndOfDay(u),t.allDay=!0;else if(d&&s)t.to=u.add(l);else if(d&&!s){var m=30,f=p.timeRuler&&p.timeRuler.scale;switch(f){case"sixtyMinutes":case"hour":m=60;break;case"fifteenMinutes":case"quarterHour":m=15;break;case"tenMinutes":m=10;break;case"fiveMinutes":m=5}t.to=u.addMinutes(m),t.allDay=!1}}else t.to=u.add(l),t.allDay=!1;else"monthView"===c?t.to=u.add(l):"timelineDayView"!==c&&"timelineWeekView"!==c&&"timelineMonthView"!==c||(t.to=u.add(l))}if(n._saveChangesAfterDragOrResize(h,t,r,a),null!=o&&(t.resourceId=o),n.table.find(".jqx-icon-arrow-down").hide(),t.allDay||d)n._renderrows();else{var g=n.getViewStart(),v=e.jqx.scheduler.utilities.getEndOfDay(n.getViewEnd());n._prepareAppointmentsInView(g,v),n._renderAppointments(g,v)}n._raiseEvent("appointmentChange",{appointment:t.boundAppointment}),n.changedAppointments[t.id]={type:"Update",appointment:t.boundAppointment},n._ensureAppointmentVisible(n.selectedJQXAppointment)};h(t.isRecurrentAppointment()?!1:null)}},getAppointmentProperty:function(e,t){var i=null;if(this.appointmentsByKey[e]&&(i=this.appointmentsByKey[e].jqxAppointment),i)return i[t]},setAppointmentProperty:function(t,i,o){var r=this,a=null;if(this.appointmentsByKey[t]&&(a=this.appointmentsByKey[t].jqxAppointment),a)switch(a[i]=o,r.changedAppointments[t]={type:i,appointment:a.boundAppointment},t){case"draggable":case"resizable":break;case"background":case"color":case"borderColor":case"status":case"tooltip":case"subject":case"location":case"description":case"style":var n=r.getViewStart(),s=e.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd());r._prepareAppointmentsInView(n,s),r._renderAppointments(n,s);break;case"hidden":case"timeZone":if(a.isAllDayAppointment())r._renderrows();else{var n=r.getViewStart(),s=e.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd());r._prepareAppointmentsInView(n,s),r._renderAppointments(n,s)}break;default:r._renderrows()}},deleteAppointment:function(e){this.appointmentsByKey[e]&&this._deleteAppointment(this.appointmentsByKey[e].jqxAppointment)},_deleteAppointment:function(e){var t=this;if(e.rootAppointment){if(e.isException()){for(var i=e.rootAppointment?e.rootAppointment.exceptions:e.exceptions,o=0;o<i.length;o++)if(i[o].occurrenceFrom.equals(t.editAppointment.occurrenceFrom)){i[o]=e;break}}else null!=e.rootAppointment?(e.rootAppointment.exceptions.push(t.editAppointment),e.rootAppointment.recurrenceException.push(t.editAppointment.occurrenceFrom)):(e.exceptions.push(t.editAppointment),e.recurrenceException.push(t.editAppointment.occurrenceFrom));return e.hidden=!0,void t._renderrows()}t._raiseEvent("appointmentDelete",{appointment:e.boundAppointment});var r=e.id;delete t.appointmentsByKey[r];for(var a=-1,o=0;o<t.appointments.length;o++)if(t.appointments[o]==e.boundAppointment||t.appointments[o].id==e.boundAppointment.id){a=o;break}-1!=a&&t.appointments.splice(a,1),a=-1;for(var o=0;o<t.uiappointments.length;o++)if(t.uiappointments[o]==e||t.uiappointments[o].id==e.id){a=o;break}-1!=a&&t.uiappointments.splice(a,1),t.selectedJQXAppointment==e&&(t.clearAppointmentsSelection(),t.uiappointments[a+1]?t.selectAppointment(t.uiappointments[a+1].id):t.uiappointments[a-1]?t.selectAppointment(t.uiappointments[a-1].id):t.uiappointments[0]&&t.selectAppointment(t.uiappointments[0].id)),t.changedAppointments[r]={type:"Delete",appointment:e.boundAppointment},t._renderrows()},addAppointment:function(t){var i=this;if(t.scheduler||(t.scheduler=this),!t.duration)if(t.from||t.to){var o=new e.jqx.scheduler.appointment;for(var r in t)o[r]=t[r];t=o}else{var a=t,n={},s=["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"];for(var r in i.appointmentDataFields){var l=i.appointmentDataFields[r],d=a[l];if("from"!=r&&"to"!=r||(d=new e.jqx.date(d)),"style"==r&&d){var h=i.getAppointmentColors(d);n.color=h.color,n.background=h.background,n.borderColor=h.border}if("recurrencePattern"==r&&d&&(d=new e.jqx.scheduler.recurrencePattern(d),d.timeZone=a.timeZone||i.timeZone),"recurrenceException"==r){var c=new Array;if(d){d.indexOf("EXDATE:")>=0&&(d=d.substring(d.indexOf("EXDATE:")+7));var p=new Array;d.indexOf(",")>=0?p=d.split(","):p.push(d);for(var u=0;u<p.length;u++){var m=p[u];if(m.indexOf(";")>=0){var f=m.split(";")[1];m=m.split(";")[0],f.toLowerCase().indexOf("display")>=0&&f.toLowerCase().indexOf("none")&&(n.hidden=!0)}try{var g=e.jqx.scheduler.utilities.untilStringToDate(m);"Invalid Date"!=g&&(g=n.timeZone?new e.jqx.date(g,n.timeZone):i.timeZone?g.toTimeZone(i.timeZone):new e.jqx.date(g))}catch(t){var g=new e.jqx.date(m,i.timeZone)}c.push(g)}}d=c}n[r]=d}for(var v in s){var r=s[v];if(void 0==n[r]){var d="";if("originalData"==r)continue;"ownerId"==r&&(d=null),"timeZone"==r&&(d=null),"recurrencePattern"==r&&(d=null),"recurrenceException"==r&&(d=null),"allDay"==r&&(d=!1),"draggable"==r&&(d=!0),"resizable"==r&&(d=!0),"hidden"==r&&(d=!1),"resourceId"==r&&(d=null),"from"==r&&(d=new e.jqx.date),"to"==r&&(d=(new e.jqx.date).addHours(1)),n[r]=d}}n.originalData=a;var t=new e.jqx.scheduler.appointment(n);n.timeZone&&(t.from=t.from.toTimeZone(n.timeZone),t.to=t.to.toTimeZone(n.timeZone)),i.timeZone?(n.timeZone||(t.timeZone=i.timeZone),t.from=t.from.toTimeZone(i.timeZone),t.to=t.to.toTimeZone(i.timeZone)):(t.from=t.from.toTimeZone(null),t.to=t.to.toTimeZone(null))}var r=i.dataview.generatekey();t.id=r,i.appointmentsByKey[r]=t,i.appointments.push(t);var w={},y={};for(var x in i.appointmentDataFields){var l=i.appointmentDataFields[x],d=t[x];w[x]=d,"from"!=x&&"to"!=x||(d=d.toDate()),y[l]=d}w.originalData=y,t.boundAppointment=w,w.jqxAppointment=t,t.jqxAppointment=t,i._raiseEvent("appointmentAdd",{appointment:t.boundAppointment}),i.uiappointments.push(t),i.changedAppointments[r]={type:"Add",appointment:t.boundAppointment},i.hiddenResources&&i.hiddenResources[t.resourceId]?i.hideAppointmentsByResource(t.resourceId):i._renderrows(),i._selectAppointment(t),i._lastSelectedAppointment=t},_updateCellsSelection:function(){var e=this,t=e.rows,i=0,o=0;i>0&&e.rtl&&(i=0,o=1);for(var r=0;r<t.length;r++)for(var a=t[r].cells,n=i;n<a.length-o;n++){var s=a[n];if("true"==s.getAttribute("data-selected")){var l=s.jqxClassName||s.className;if(l.indexOf("jqx-fill-state-pressed")>=0){s!=e.focusedCell?(l=l.replace(" jqx-scheduler-cell-focus",""),l=l.replace(" jqx-scheduler-cell-focus-"+e.theme,"")):s==e.focusedCell&&e.focused&&(l=l.replace(" jqx-scheduler-cell-focus",""),l=l.replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(l=l+=" "+e.toTP("jqx-scheduler-cell-focus"))),s.className!=l&&(s.className=l),s.jqxClassName=l;continue}l=l.replace(" jqx-fill-state-pressed",""),l=l.replace(" jqx-fill-state-pressed-"+e.theme,""),l=l.replace(" jqx-scheduler-cell-focus",""),l=l.replace(" jqx-scheduler-cell-focus-"+e.theme,""),l=l.replace(" jqx-grid-cell-selected",""),l=l.replace(" jqx-grid-cell-selected-"+e.theme,""),l=l.replace(" jqx-scheduler-cell-selected",""),l=l.replace(" jqx-scheduler-cell-selected-"+e.theme,""),l=l+=" "+e.toTP("jqx-fill-state-pressed jqx-grid-cell-selected jqx-scheduler-cell-selected"),s==e.focusedCell&&e.focused&&!e.selectedAppointment&&(l=l+=" "+e.toTP("jqx-scheduler-cell-focus")),s.className!=l&&(s.className=l),s.jqxClassName=l}else{var l=s.jqxClassName||s.className;if(-1==l.indexOf("jqx-fill-state-pressed")){s!=e.focusedCell?(l=l.replace(" jqx-scheduler-cell-focus",""),l=l.replace(" jqx-scheduler-cell-focus-"+e.theme,"")):s==e.focusedCell&&e.focused&&(l=l.replace(" jqx-scheduler-cell-focus",""),l=l.replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(l=l+=" "+e.toTP("jqx-scheduler-cell-focus"))),s.className!=l&&(s.className=l),s.jqxClassName=l;continue}s==e.focusedCell&&e.focused&&(l=l.replace(" jqx-scheduler-cell-focus",""),l=l.replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(l=l+=" "+e.toTP("jqx-scheduler-cell-focus")),s.className!=l&&(s.className=l),s.jqxClassName=l),l=l.replace(" jqx-fill-state-pressed",""),l=l.replace(" jqx-fill-state-pressed-"+e.theme,""),l=l.replace(" jqx-scheduler-cell-focus",""),l=l.replace(" jqx-scheduler-cell-focus-"+e.theme,""),l=l.replace(" jqx-grid-cell-selected",""),l=l.replace(" jqx-grid-cell-selected-"+e.theme,""),l=l.replace(" jqx-scheduler-cell-selected",""),l=l.replace(" jqx-scheduler-cell-selected-"+e.theme,""),s==e.focusedCell&&e.focused&&!e.selectedAppointment&&(l=l+=" "+e.toTP("jqx-scheduler-cell-focus")),s.className!=l&&(s.className=l),s.jqxClassName=l,s.removeAttribute("data-selected")}}},_getuikey:function(t,i){var o=null,r=this.table[0].rows;if(o=e(r[t]).attr("data-key"),e(r[t]).attr("data-role")){var a=e(r[t]);if("next"==i){for(;a;)if(a=a.next()){var n=a.attr("data-role");if(!n)return o=a.attr("data-key")}}else if("prev"==i)for(;a;)if(a=a.prev()){var n=a.attr("data-role");if(!n)return o=a.attr("data-key")}return null}return o},getRows:function(){var e=this._views[this._view].type,t=this._views[this._view],i="halfHour";t.timeRuler&&t.timeRuler.scale&&(i=t.timeRuler.scale);var o=24,r=this.showAllDayRow;if(t.timeRuler&&("dayView"===e||"weekView"===e)){var a=0,n=23;if(void 0!=t.timeRuler.scaleStartHour)var a=parseInt(t.timeRuler.scaleStartHour);if(void 0!=t.timeRuler.scaleEndHour)var n=parseInt(t.timeRuler.scaleEndHour);a<0&&(a=0),n<0&&(n=23),a>23&&(a=0),n>23&&(n=23),o=n-a+1,void 0!=t.timeRuler.showAllDayRow&&(r=t.timeRuler.showAllDayRow)}var s=new Array,l=0;switch(e){case"dayView":case"weekView":default:var l=2*o;if("hour"===i||"sixtyMinutes"===i)var l=o;else if("quarterHour"===i||"fifteenMinutes"===i)var l=4*o;else if("tenMinutes"===i)var l=6*o;else if("fiveMinutes"===i)var l=12*o;r&&l++;break;case"monthView":var l=6;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":var l=1;break;case"agendaView":var l=this.appointments?this.appointments.length:0}for(var d=0;d<l;d++)s.push({uid:d});return s},_getDateByString:function(e){var t=e.split(" "),i=t[0].split("-"),o=t[1].split(":"),r=parseInt(i[0],10),a=parseInt(i[1],10)-1,n=parseInt(i[2],10),s=parseInt(o[0],10),l=parseInt(o[1],10),d=parseInt(o[2],10),h=new Date(r,a,n,s,l,d);return r<1970&&h.setFullYear(r,a,n),h},_getCellByDate:function(e,t,i){var o=this.rows;void 0===t&&(t=!1),void 0===i&&this.focusedCell&&(i=this.focusedCell.getAttribute("data-view"));for(var r=0;r<o.length;r++){var a=o[r];if(!a.element.getAttribute("data-group-row"))for(var n=0;n<a.cells.length;n++){var s=a.cells[n];if(null==s.getAttribute("rowspan")&&(s.getAttribute("data-view")===i&&!(s.getAttribute("data-time-slot")||t&&null!=s.getAttribute("data-end-date")))){var l=s.getAttribute("data-date"),d=this._getDateByString(l);if(d.valueOf()==e.valueOf())return s}}}},_handleKey:function(t){if(this._loading)return!0;var i=t.shiftKey,o=t.ctrlKey||t.metaKey,r=this,a=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(r._hasOpenedMenu)return 27==a?r.closeMenu():r.menu.jqxMenu("focus"),!0;if(13===a||r.selectedAppointment&&46==a){if(r.editRecurrenceDialog&&r.editRecurrenceDialog.jqxWindow("isOpen"))return!0;if(r._editDialog&&r._editDialog.jqxWindow("isOpen"))return!0;if(r.selectedAppointment){var n=r.getJQXAppointmentByElement(r.selectedAppointment);if(!n.readOnly)if(46==a){var s=r._initDialog(n,"delete");!1!==s&&r._openDialog()}else{var s=r._initDialog(n);!1!==s&&r._openDialog()}}else r._initDialog(),r._openDialog()}if(27===a&&r.dragOrResize){r.table.find(".jqx-icon-arrow-down").hide();var l=r.getViewStart(),d=e.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd());return r._prepareAppointmentsInView(l,d),r._renderAppointments(l,d),r._removeFeedbackAndStopResize(),!1}var h=function(t){var a=r.selectedAppointment,n=r.getJQXAppointmentByElement(a),s=n.elements[0].cells[0].cell,l=n.elements[n.elements.length-1].cells[n.elements[n.elements.length-1].cells.length-1].cell,d=r.rows[r.rows.length-1].cells[r.rows[r.rows.length-1].cells.length-1];!i&&(i||o||"down"!=t&&"right"!=t)||(s=l);var h=r._views[r._view].type,c=(r._views[r._view],s);switch(t){case"left":var p=r.rowByCell[s.getAttribute("data-key")],u=p.indexOf(s);if(u>0&&!i)c=p.cells[u-1];else if("monthView"==h&&!i){var m=p.aboveRow;m&&(c=m.cells[m.cells.length-1])}break;case"right":var p=r.rowByCell[s.getAttribute("data-key")],u=p.indexOf(s);if(u<p.cells.length-1)c=p.cells[u+1];else if("monthView"==h){var f=p.belowRow;f&&(c=f.cells[0])}"monthView"==h&&!i&&o&&l==d&&(c=s);break;case"up":var p=r.rowByCell[s.getAttribute("data-key")],u=p.indexOf(s),m=p.aboveRow;m&&!i&&(c=m.cells[u]);break;case"down":var p=r.rowByCell[s.getAttribute("data-key")],u=p.indexOf(s),f=p.belowRow;f&&(c=f.cells[u])}var g=c.getAttribute("data-date"),v=new e.jqx.date(g,r.timeZone),h=e(c).attr("data-view"),w=r._resources[parseInt(h)-1];if(i){var h=r._views[r._view].type,y=(r._views[r._view],!1);"dayView"===h||"weekView"===h?s.getAttribute("data-end-date")?"left"==t&&(n.elements[0].cells.length>1||r.rtl)?(r.rtl?n.to=e.jqx.scheduler.utilities.getEndOfDay(v.addDays(1)):n.to=e.jqx.scheduler.utilities.getEndOfDay(v.addDays(-1)),y=!0):"right"==t&&((!r.rtl||r.rtl&&n.elements[0].cells.length>1)&&(n.to=e.jqx.scheduler.utilities.getEndOfDay(v)),y=!0):"up"==t&&n.elements[0].cells.length>1?(n.to=v,y=!0):"down"==t&&(n.to=v.addMinutes(r.getMinutesPerScale()),y=!0):h.indexOf("month")>=0?"left"==t&&(n.elements[0].cells.length>1||n.elements.length>1)?(n.to=e.jqx.scheduler.utilities.getEndOfDay(v.addDays(-1)),y=!0):"right"==t&&(n.to=e.jqx.scheduler.utilities.getEndOfDay(v),y=!0):!r.rtl&&"left"==t&&n.elements[0].cells.length>1||r.rtl&&"right"==t&&n.elements[0].cells.length>1?(n.to=v,r.rtl&&(n.to=v.addMinutes(r.getMinutesPerScale())),y=!0):(!r.rtl&&"right"==t||r.rtl&&"left"==t)&&(n.to=v.addMinutes(r.getMinutesPerScale()),r.rtl&&(n.to=n.to.addMinutes(r.getMinutesPerScale())),y=!0),y&&r.moveAppointment(n,v,w,c,!0)}else if(o)r.moveAppointment(n,v,w,c);else{r.clearAppointmentsSelection();var x=!0;"down"==t&&(x=!1),r.selectCell(v,x,h),r._ensureVisible(c)}if(r.selectedAppointment){r.selectedAppointment.removeClass(r.toTP("jqx-scheduler-selected-appointment"));var b=r.selectedAppointment.attr("data-key");e('[data-key="'+b+'"]').addClass(r.toTP("jqx-scheduler-selected-appointment")),r.clearSelection()}};if(t.altKey&&r._resourcesElements&&r._resources&&r._resources.length>0){var c=function(e){"on"==r._resourcesElements.bottom[e].attr("data-toggle")?r.hideAppointmentsByResource(e):r.showAppointmentsByResource(e)},p=a>=49&&a<=58?p=a-48:-1;if(p>=1)return e.each(r._resources,function(e,t){if(e==p-1)return c(t),!1}),!1}if(t.ctrlKey){if(!r.selectedAppointment){if(37==a)return r.toolbarLeftButton.trigger("click"),r._ensureVisible(r.focusedCell),!1;if(39==a)return r.toolbarRightButton.trigger("click"),r._ensureVisible(r.focusedCell),!1}if(49==a)return r._setView(0),!1;if(50==a)return r._setView(1),!1;if(51==a)return r._setView(2),!1;if(52==a)return r._setView(3),!1;if(53==a)return r._setView(4),!1;if(54==a)return r._setView(5),!1;if(68==a)return r.dateTimeInput.jqxDateTimeInput("open"),!1;if(77==a)return r.openMenu(),!1}if(9==a)if(t.shiftKey)if(r.selectedAppointment){r.clearSelection();var u=r.selectedAppointment,n=r.getJQXAppointmentByElement(u);if(n){var m=r.tabKeyAppointments.indexOf(n);return m>0?(n=r.tabKeyAppointments[m-1],r._selectAppointment(n),r._lastSelectedAppointment=n,r._ensureAppointmentVisible(n),!1):(r.clearAppointmentsSelection(),r.focusedCell?!r.focusedCell||-1!=r.focusedCell.className.indexOf("-focus")||(r._updateCellsSelection(),r._ensureVisible(r.focusedCell),!1):(r._updateFocusedCell(),r._ensureVisible(r.focusedCell),!1))}}else if(r.focusedCell){if(r.focusedCell&&-1==r.focusedCell.className.indexOf("-focus"))return r._updateCellsSelection(),
r._ensureVisible(r.focusedCell),!1}else r._updateFocusedCell(),r._ensureVisible(r.focusedCell);else{if(r.selectedAppointment){r.clearSelection();var u=r.selectedAppointment,n=r.getJQXAppointmentByElement(u),m=r.tabKeyAppointments.indexOf(n);return m<r.tabKeyAppointments.length-1?(n=r.tabKeyAppointments[m+1],r._selectAppointment(n),r._lastSelectedAppointment=n,r._ensureAppointmentVisible(n),!1):(r.clearAppointmentsSelection(),!0)}var n=r.tabKeyAppointments[0];if(n)return r._selectAppointment(n),r._lastSelectedAppointment=n,r._ensureAppointmentVisible(n),!1;if(!r.focusedCell)return r._updateFocusedCell(),r._ensureVisible(r.focusedCell),!1;if(r.focusedCell&&-1==r.focusedCell.className.indexOf("-focus"))return r._updateCellsSelection(),r._ensureVisible(r.focusedCell),!1}if(r.selectedAppointment){if(37==a?h("left"):38==a?h("up"):40==a?h("down"):39==a&&h("right"),a>=37&&a<=40)return!1}else{var f=this._lastSelectedCell;if(f){e(this._lastSelectedCell).parent()[0]||(this._lastSelectedCell=this.rows[0].cells[0],f=this._lastSelectedCell);var g=(this.rows,this._views[this._view].type),v=this._views[this._view],w="halfHour";v.timeRuler&&v.timeRuler.scale&&(w=v.timeRuler.scale);var y=function(i,o){switch(w){case"sixtyMinutes":case"hour":60;break;case"thirtyMinutes":case"halfHour":30;break;case"fifteenMinutes":case"quarterHour":15;break;case"tenMinutes":10;break;case"fiveMinutes":5}var a=i.getAttribute("data-date"),n=function(e,i,o){if(e&&(null==e.getAttribute("rowspan")||"agendaView"==g)&&null==e.getAttribute("data-time-slot")){if(o<r.min||o>r.max)return;var a=r.rows,n=r._lastSelectedCell;if(r._lastSelectedCell=e,t.shiftKey&&r._lastSelectedCell?r.shiftSelectedCell||(r.shiftSelectedCell=f):t.shiftKey||(r.shiftSelectedCell=null),r.shiftSelectedCell)e.getAttribute("data-end-date")&&r.shiftSelectedCell.getAttribute("data-end-date")?(r.focusedCell=e,r._selectRange(e,r.shiftSelectedCell)):e.getAttribute("data-end-date")||r.shiftSelectedCell.getAttribute("data-end-date")?(r.focusedCell=n,r._lastSelectedCell=n):(r.focusedCell=e,r._selectRange(e,r.shiftSelectedCell));else{for(var s=0;s<a.length;s++){var l=a[s];if(!l.element.getAttribute("data-group-row"))for(var d=0;d<l.cells.length;d++){var i=l.cells[d];i.removeAttribute("data-selected","false")}}e.setAttribute("data-selected","true"),r.focusedCell=e}r._ensureVisible(r.focusedCell)}};new e.jqx.date(a,r.timeZone),i.getAttribute("data-view");switch(o){case"left":var s=r.rowByCell[i.getAttribute("data-key")],l=s.indexOf(i);if(l>0)var d=s.cells[l-1],h=new e.jqx.date(d.getAttribute("data-date"),r.timeZone);n(d,i,h);break;case"right":var s=r.rowByCell[i.getAttribute("data-key")],l=s.indexOf(i);if(l<s.cells.length-1)var d=s.cells[l+1],h=new e.jqx.date(d.getAttribute("data-date"),r.timeZone);n(d,i,h);break;case"up":var s=r.rowByCell[i.getAttribute("data-key")],l=s.indexOf(i),c=s.aboveRow;if(c){var d=c.cells[l];if(0==l&&d.getAttribute("rowspan"))for(var p=-1+r.rows.indexOf(s),d=i;p>=0;){if(r.rows[p].cells[0]!=d){d=r.rows[p].cells[0];break}p--}var h=new e.jqx.date(d.getAttribute("data-date"),r.timeZone);n(d,i,h)}break;case"down":var s=r.rowByCell[i.getAttribute("data-key")],l=s.indexOf(i),u=s.belowRow;if(u){var d=u.cells[l];if(0==l&&d.getAttribute("rowspan"))for(var p=1+r.rows.indexOf(s),d=i;p<r.rows.length;){if(r.rows[p].cells[0]!=d){d=r.rows[p].cells[0];break}p++}var h=new e.jqx.date(d.getAttribute("data-date"),r.timeZone);n(d,i,h)}break;case"home":var s=r.rowByCell[i.getAttribute("data-key")],l=s.indexOf(i),m=r.rows[0],d=m.cells[l],h=new e.jqx.date(d.getAttribute("data-date"),r.timeZone);n(d,i,h);break;case"end":var s=r.rowByCell[i.getAttribute("data-key")],l=s.indexOf(i),v=r.rows[r.rows.length-1],d=v.cells[l],h=new e.jqx.date(d.getAttribute("data-date"),r.timeZone);n(d,i,h)}r._updateCellsSelection()};return 36==a||o&&38==a?(function(){y(f,"home")}(),!1):35==a||o&&40==a?(function(){y(f,"end")}(),!1):37==a?(r.selectedAppointment?h(f):y(f,"left"),!1):38==a?(r.selectedAppointment?h(f):y(f,"up"),!1):40==a?(r.selectedAppointment?h(f):y(f,"down"),!1):39==a?(r.selectedAppointment?h(f):y(f,"right"),!1):void 0}}},getSelectedCells:function(){for(var e=this,t=e.rows,i=t.length,o=new Array,r=0;r<i;r++)for(var a=t[r].cells,n=0;n<a.length;n++)a[n].getAttribute("data-selected")&&o.push(a[n]);return o.sort(function(t,i){return e._sortByDate(t,i)})},getSelection:function(){var t=this,i=t.getSelectedCells();if(0==i.length)return null;var o=i[0].getAttribute("data-date"),r=i[i.length-1].getAttribute("data-date"),a=t.getMinutesPerScale(),n=t._views[t._view].type;n.toLowerCase().indexOf("month")>=0&&(a=0),i[0].getAttribute("data-end-date")&&(a=0),r=new e.jqx.date(r,t.timeZone).addMinutes(a);var n=parseInt(i[0].getAttribute("data-view"))-1,s=t._resources[n];return t._views[t._view].type.toLowerCase().indexOf("month")>=0?{from:new e.jqx.date(o,t.timeZone),to:e.jqx.scheduler.utilities.getEndOfDay(r),resourceId:s}:{from:new e.jqx.date(o,t.timeZone),to:r,resourceId:s}},clearSelection:function(){for(var e=this,t=e.rows,i=t.length,o=0;o<i;o++)for(var r=t[o].cells,a=0;a<r.length;a++)r[a].removeAttribute("data-selected");e._updateCellsSelection()},_getvirtualcolumnsindexes:function(e,t,i,o,r){this.rtl&&(e=this.hScrollInstance.max-e);var a=0,n=-1,s=i+o;if(this.autorowheight)return{start:0,end:i+o};if(!r)for(var l=0;l<i+o;l++){if(this.columns.records[l].hidden||(a+=this.columns.records[l].width),a>=e&&-1==n&&(n=l),a>t+e){s=l;break}}return s++,s>i+o&&(s=i+o),-1==n&&(n=0),{start:n,end:s}},_renderhorizontalscroll:function(){var t=this,i=t.hScrollInstance,o=i.value;"hidden"===t.hScrollBar[0].style.visibility&&(i.value=0,o=0);var r=parseInt(o);if(null!=t.table){for(var a=function(e){return!(!e.parentNode||"#document-fragment"==e.parentNode.nodeName)},n=t._getvirtualcolumnsindexes(r,t._hostWidth,0,t.columns.records.length,!1),s=n.start,l=n.end,d=(t.rows,0);d<s;d++){var h=d,c=t.columns.records[h].element[0];a(c)&&c.parentNode.removeChild(c)}for(var d=l;d<t.columns.records.length;d++){var h=d,c=t.columns.records[h].element[0];a(c)&&c.parentNode.removeChild(c)}for(var d=s;d<l;d++){var h=d;c=t.columns.records[h].element[0],a(c)||t.columnsrow[0].appendChild(c)}var p=t.columnsrow;t.columns.records.length,t.columns.records,t.source.records.length;if(t.rtl&&"hidden"!=t.hScrollBar.css("visibility")&&(r=i.max-r),t.table[0].style.left=-r+"px","block"==t.pinnedtable[0].style.display&&(t.pinnedtable[0].style.left=-r+"px"),t._resources.length>0&&t.tableRows>0)for(var u=0;u<this.table[0].rows.length;u++){var m=this.table[0].rows[u];m.getAttribute("data-group-row")&&e(m).find("span").css("left",5+r)}p[0].style.marginLeft=-r+"px"}},_getDayName:function(e,t){e>=7&&(e-=7),t||(t=this.dayNameFormat,this.isTouchDevice()&&(t=this.touchDayNameFormat));var i=this.schedulerLocalization.days.names[e];switch(t){case"full":i=this.schedulerLocalization.days.names[e];break;case"abbr":i=this.schedulerLocalization.days.namesAbbr[e];break;case"shortest":i=this.schedulerLocalization.days.namesShort[e];break;case"firstTwoLetters":i=i.substring(0,2);break;case"firstLetter":i=i.substring(0,1)}return i},_initializeColumns:function(){if(0===this._views.length&&this._views.push({type:"dayView"}),!this._views[this._view])throw new Error("jqxScheduler: View is undefined. You need to define the View in the Views Array when you create jqxScheduler");var t=this._views[this._view].type,i=this._views[this._view];if(i.timeSlotWidth&&(i.timeSlotWidth=Math.max(i.timeSlotWidth,30),i.columnWidth=i.timeSlotWidth),i.columnWidth&&i.columnWidth<30&&(i.columnWidth=30),this.columns&&this.columns.records)for(var o=0;o<this.columns.records.length;o++)this._removecolumnhandlers(this.columns.records[o]);this.columns=new Array;for(var r=new Array,a=this,n=function(t,o){var r="halfHour";i.timeRuler&&i.timeRuler.scale&&(r=i.timeRuler.scale);var n=24,s=0,l=23;if(i.timeRuler){if(void 0!=i.timeRuler.scaleStartHour)var s=parseInt(i.timeRuler.scaleStartHour);if(void 0!=i.timeRuler.scaleEndHour)var l=parseInt(i.timeRuler.scaleEndHour);s<0&&(s=0),l<0&&(l=23),s>23&&(s=0),l>23&&(l=23),n=l-s+1}var d=2;if(r)switch(r){case"sixtyMinutes":case"hour":d=1;break;case"thirtyMinutes":case"halfHour":d=2;break;case"fifteenMinutes":case"quarterHour":d=4;break;case"tenMinutes":d=6;break;case"fiveMinutes":d=12}var h=(new Array,"auto");i.timeRuler&&i.timeRuler.formatString&&(h=i.timeRuler.formatString);var c=s,p=n,u=t.addHours(c),m="auto";m=i.columnWidth?d*i.columnWidth:80*d;for(var f=0;f<p;f++){var g=u.toDate();if("auto"===h)if(0==g.getHours()&&0==g.getMinutes()||12==g.getHours()&&0==g.getMinutes())var v="hh tt";else var v="hh:mm";else if(e.isFunction(h))var v=h(g);else v=h;e.jqx.dataFormat.isDate(g)&&(g=e.jqx.dataFormat.formatdate(g,v,a.schedulerLocalization)),u=u.addMinutes(60,!1),a.columns.push({columnGroup:o,text:g,minwidth:30,width:m})}},s=0;s<this.tableColumns;s++){if(this.tableColumns>1){var l=a._resources[s]?a._resources[s]:"Resource"+s;r.push({text:l,name:l})}var d="left";switch(this.rtl&&(d="right"),t){case"dayView":var h=this.getViewStart();!1===i.showWeekends&&(0!==h.dayOfWeek()&&6!==h.dayOfWeek()||(h=h.addDays(1)),0!==h.dayOfWeek()&&6!==h.dayOfWeek()||(h=h.addDays(1)));var c="auto";i&&i.columnWidth&&(c=i.columnWidth);var l=a._resources[s]?a._resources[s]:"Resource"+s;this.columns.push({align:d,width:c,columnGroup:l,text:this._getDayName(h.dayOfWeek())});break;case"weekView":case"monthView":for(var o=0;o<7;o++){var p=this.schedulerLocalization.firstDay+o;if(!1!==i.showWeekends||0!==o&&6!==o){var c="auto";i&&i.columnWidth&&(c=i.columnWidth);var l=a._resources[s]?a._resources[s]:"Resource"+s;this.columns.push({align:"weekView"==t?d:"center",width:c,columnGroup:l,text:this._getDayName(p)})}}break;case"timelineDayView":var l=a._resources[s]?a._resources[s]:"Resource"+s;n(a.getViewStart(),l);break;case"timelineWeekView":for(var o=0;o<7;o++){var p=this.schedulerLocalization.firstDay+o;if(!1!==i.showWeekends||0!==o&&6!==o){var l=a._resources[s]?a._resources[s]:"Resource"+s;r.push({align:a.rtl?"right":"left",parentGroup:l,name:this._getDayName(p)+s,text:this._getDayName(p)}),n(a.getViewStart().addDays(o),this._getDayName(p)+s)}}break;case"timelineMonthView":var u=a.getViewStart(),m="auto";i.timeRuler&&i.timeRuler.formatString&&(m=i.timeRuler.formatString);for(var o=0;o<41;o++){var p=u.dayOfWeek();if(!1!==i.showWeekends||0!==p&&6!==p){var c="auto";c=i.columnWidth?i.columnWidth:100;var f=u.toDate();if("auto"===m){var g="dd";f=u.toDate(),1===f.getDate()&&(g="MMM dd")}else if(e.isFunction(m))var g=m(f);else g=m;e.jqx.dataFormat.isDate(f)&&(f=e.jqx.dataFormat.formatdate(f,g,a.schedulerLocalization)),u=u.addDays(1);var l=a._resources[s]?a._resources[s]:"Resource"+s;a.columns.push({minwidth:30,columnGroup:l,text:f,width:c})}}break;case"agendaView":var v=i.dateColumnWidth,w=i.timeColumnWidth,y=i.appointmentColumnWidth;y||(y="70%"),w||(w="auto"),v||(v="auto"),a.columns.push({text:a.schedulerLocalization.agendaDateColumn,width:v}),a.columns.push({text:a.schedulerLocalization.agendaTimeColumn,width:w}),a.columns.push({text:a.schedulerLocalization.agendaAppointmentColumn,width:y})}}r.length>0&&(this.columnGroups=r);var a=this,x=new e.jqx.schedulerDataCollection(this.element),b=0;this._columns=this.columns;var A="left",T=new e.jqx.scheduler.column(a,this);T.visibleindex=b++,T.text="",T.width=a.timeRulerWidth,T.editable=!1,T.timeColumn=!0,A="left",T.text="",T.hidden=!1,T.width=a.timeRulerWidth;!i.timeRuler||"dayView"!==t&&"weekView"!==t?"dayView"!==t&&"weekView"!==t&&(T.hidden=!0):(T._text=i.timeRuler.text||"",A=i.timeRuler.position||"left",T.hidden=i.timeRuler.hidden||!1,T.width=i.timeRuler.width||a.timeRulerWidth,i.timeRuler.timeZones);var _=function(r){var n=new e.jqx.scheduler.column(a,a);n.visibleindex=b++,n.text="",n.width=a.timeRulerWidth,n.editable=!1,n.timeColumn=!0,A="left",n.text="",n.hidden=!1,n.timeZone=i.timeRuler.timeZones[r].id,n.width=a.timeRulerWidth,!i.timeRuler||"dayView"!==t&&"weekView"!==t||(n._text=i.timeRuler.timeZones[o].text||"",n.hidden=i.timeRuler.hidden||!1,n.width=i.timeRuler.width||a.timeRulerWidth,x.add(n))};if("left"===A&&("dayView"===t||"weekView"===t)){if(i.timeRuler&&i.timeRuler.timeZones)for(var o=0;o<i.timeRuler.timeZones.length;o++)_(o);x.add(T)}"left"===A&&"monthView"===t&&i.showWeekNumbers&&(T.hidden=!1,x.add(T));new Array;if(e.each(this.columns,function(t){if(void 0!=a.columns[t]){var i=new e.jqx.scheduler.column(a,this);i.visibleindex=b++,x.add(i)}}),"right"===A&&("dayView"===t||"weekView"===t)){if(i.timeRuler)for(var o=0;o<i.timeRuler.timeZones.length;o++)_(o);x.add(T)}"right"===A&&"monthView"===t&&i.showWeekNumbers&&(T.hidden=!1,x.add(T)),this.rtl&&x.records.reverse(),this.columns=x},_getColumnsLengthPerView:function(){var e=this._views[this._view].type,t=this._views[this._view],i=1;switch(e){case"dayView":i=1;break;case"weekView":case"monthView":i=!1!==t.showWeekends?7:5;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":case"agendaView":i=this.columns.records.length}return i},_renderagenda:function(){function t(){var e={};return e.cells=new Array,e.indexOf=function(t){for(var i=0;i<e.cells.length;i++)if(e.cells[i].getAttribute("data-key")==t.getAttribute("data-key"))return i;return-1},e}var i=this,o=(i._views[i._view].type,i._views[i._view]),r=i.getViewStart(),a=e.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd().addDays(-1));i._prepareAppointmentsInView(r,a);for(var n=i.appointmentsToRender.length,s=new Array,l=0,d=0;d<i.appointmentsToRender.length;d++)for(var h=i.appointmentsToRender[d],c=h.from.clearTime();c<e.jqx.scheduler.utilities.getEndOfDay(h.to);){var p=c.toString();s[p]?(s[p].appointments.push(h),l++):(s[p]={date:c,appointments:new Array},s[p].appointments.push(h),s[s.length]=s[p],l++),c=c.addDays(1).clearTime()}var u=0,m=0;i.rows=new Array;for(var f=e.jqx.browser.msie&&e.jqx.browser.version<8,g=0,v=i.rtl?" "+i.toTP("jqx-grid-table-rtl"):"",w=0,y="<table cellspacing='0' cellpadding='0' class='"+i.toTP("jqx-grid-table")+v+"' id='table"+i.element.id+"'><colgroup>",x=i.columns.records.length,b=0;b<x;b++){var A=i.columns.records[b];if(A.hidden)g++,nonHiddenColumns--;else{var T=A.width;if(T<A.minwidth&&(T=A.minwidth),T>A.maxwidth&&(T=A.maxwidth),T-=0,T<0&&(T=0),f){var _=T;b==g&&_++,y+="<col style='max-width: "+_+"px; width: "+_+"px;'>"}else y+="<col style='max-width: "+T+"px; width: "+T+"px;'>";w+=T}}if(y+="</colgroup>",0==n){var S='<tr role="row">',D=this.host.height(),j=0;i.columnGroups?j+=i.showHeader?i.columnsheader.height():0:j+=i.showHeader?i.columnsHeight:0,i.showToolbar&&(j+=i.toolbarHeight),i.showLegend&&i._resources.length>0&&(j+=i.legendHeight),D-=j;var q='<td data-date="'+r.toString()+'" colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+D+"px; height: "+D+"px; max-width:"+w+"px; width:"+w+"px;",C=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");C+=" "+this.toTP("jqx-center-align"),q+='" class="'+C+'">',q+=this.schedulerLocalization.emptyDataString,q+="</td>",S+=q,S+="</tr>",y+=S,this.table[0].style.width=w+2+"px",m=w}var k=i.rowsHeight;i.isTouchDevice()&&(rowsHeight=i.touchRowsHeight);for(var d=0;d<s.length;d++)for(var B=d,c=s[d],R=0;R<c.appointments.length;R++){var z=0,S='<tr data-key="'+B+'" role="row">';u=0;for(var H=c.appointments[R],b=0;b<x;b++){var P=i.columns.records[b],M=b;i.rtl&&(M=x-1-b);var T=P.width;T<P.minwidth&&(T=P.minwidth),T>P.maxwidth&&(T=P.maxwidth),T-=0,T<0&&(T=0);var C=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");i.rtl&&(C+=" "+i.toTP("jqx-cell-rtl"));var B=i.dataview.generatekey(),V=c.date,D=k+"px",q='<td data-key="'+B+'" data-view="'+-1+'" data-date="'+V.toString()+'" role="gridcell"  style="max-width:'+T+"px; width:"+T+"px; height: "+D+"; min-height: "+k+"px;";if(0==M&&0==R){var F=c.appointments.length,q='<td rowspan="'+F+'" data-key="'+B+'" data-view="'+-1+'" data-date="'+V.toString()+'" role="gridcell"  style="max-width:'+T+"px; width:"+T+"px;  min-height: "+k+"px;";C+=" "+i.toTP("jqx-center-align")}else if(0==M){u++;continue}i.rtl&&1==M&&(C+=" "+i.toTP("jqx-right-align")),P.hidden?(q+="display: none;",i._hiddencolumns=!0):(z+=0+T,0!=u||i.rtl?q+="border-left-width: 1px;":q+="border-left-width: 0px;",u++),q+='" class="'+C+'">';var I="";if(0==M&&0==R){var E=V.toString("dddd",i.schedulerLocalization),O=V.toString("MMMM, yyyy",i.schedulerLocalization),W=i.toTP("jqx-scheduler-agenda-date"),N=i.toTP("jqx-scheduler-agenda-day"),L=i.toTP("jqx-scheduler-agenda-week");I='<div class="'+W+'"><strong class="'+N+'">'+V.day()+'</strong><br/><em class="'+L+'">'+E+'</em><br/><span class="'+W+'">'+O+"</span></div>"}if(1==M){var Z="auto",o=this._views[this._view],U=H.from,X=H.to;o.timeRuler&&o.timeRuler.formatString&&(Z=o.timeRuler.formatString);var G=Z,J=Z;if("auto"===Z){if(0==U.hour()&&0==U.minute()||12==U.hour()&&0==U.minute())var G="hh tt";else var G="hh:mm";if(0==X.hour()&&0==X.minute()||12==X.hour()&&0==X.minute())var J="hh tt";else var J="hh:mm"}var W=i.toTP("jqx-scheduler-agenda-time");I=H.allDay?"<span class='"+W+"'>"+i.schedulerLocalization.agendaAllDayString+"</span>":i.rtl?"<span class='"+W+"'>"+X.toString(J,i.schedulerLocalization)+" - "+U.toString(G,i.schedulerLocalization)+"</span>":"<span class='"+W+"'>"+U.toString(G,i.schedulerLocalization)+" - "+X.toString(J,i.schedulerLocalization)+"</span>"}else if(2==M){H.resourceId&&e.each(i._resources,function(e,t){if(H.resourceId==t){var o=i.getColors(e),r=(this.toString(),i.toTP("jqx-scheduler-agenda-appointment-resource jqx-scheduler-legend"));if(i.rtl)var r=i.toTP("jqx-scheduler-agenda-appointment-resource-rtl jqx-scheduler-legend");var a="<div data-key='"+H.id+"' class='"+r+"' style='margin-right: 5px; border-color: "+o.border+"; background: "+o.background+";' class='"+i.toThemeProperty("jqx-scheduler-legend")+"'></div>";I=a}});var K=H.subject?H.subject:"(No Title)",Q=H.location,Y=H.description,$=H.status?i.schedulerLocalization.editDialogStatuses[H.status]:"",ee=H.isRecurrentAppointment(),te=(H.isException(),i.schedulerLocalization.editDialogSubjectString+": "+K);Q&&(te+="\n"+i.schedulerLocalization.editDialogLocationString+": "+Q),Y&&(te+="\n"+i.schedulerLocalization.editDialogDescriptionString+": "+Y),$&&(te+="\n"+i.schedulerLocalization.editDialogStatusString+": "+$),ee&&(te+="\n"+i.schedulerLocalization.editDialogRepeatString+": "+ee);var W=i.toTP("jqx-scheduler-agenda-appointment jqx-scheduler-legend-label");if(i.rtl)var W=i.toTP("jqx-scheduler-agenda-appointment-rtl jqx-scheduler-legend-label");I+="<span data-key='"+H.id+"' title='"+te+"' class='"+W+"'>"+K+"</span>"}q+=I,q+="</td>",S+=q}0==m&&(i.table[0].style.width=z+2+"px",i.pinnedtable[0].style.width=z+2+"px",m=z),S+="</tr>",y+=S}y+="</table>",i.table[0].innerHTML=y,i.pinnedtable[0].innerHTML=y,i.pinnedtable[0].style.display="none";var ie=e(i.table[0].firstChild),oe=e(i.pinnedtable[0].firstChild);i._table=ie,i._pinnedtable=oe,e.jqx.browser.msie&&e.jqx.browser.version<10&&(i._table[0].style.width=m+"px",i._pinnedtable[0].style.width=m+"px"),0===n&&(i._table[0].style.width=2+m+"px",i._pinnedtable[0].style.width=2+m+"px",i._pinnedtable[0].style.display="none"),i._pinnedtable[0].style.display="none",i._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),i.table[0].rows=i.table[0].firstChild.rows,i.rowByCell=new Array,i.columnCells=new Array,i.cellWidth=0,i.cellHeight=0;for(var re=i.table[0].rows.length,d=0;d<re;d++){var ae=i.table[0].rows[d];if(!ae.getAttribute("data-group-row")){var ne=new t;ne.aboveRow=null,ne.belowRow=null,i.rows.length>0&&(ne.aboveRow=i.rows[i.rows.length-1],i.rows[i.rows.length-1].belowRow=ne),ne.element=ae,i.rows.push(ne);for(var se=!1,b=0;b<ae.cells.length;b++){if(ae.cells.length<i.columns.records.length&&!se)for(var le=d;le>=0;){var de=i.table[0].rows[le];if(i.table[0].rows[le].cells.length==i.columns.records.length){var he=de.cells[0];i.columnCells[ne.cells.length]||(i.columnCells[ne.cells.length]=new Array),i.columnCells[ne.cells.length].push(he),0==i.cellWidth&&(i.cellWidth=he.clientWidth),0==i.cellHeight&&(1==re||d>1)&&(i.cellHeight=he.clientHeight),ne.cells.push(he),se=!0;break}le--}var he=ae.cells[b];"none"!==he.style.display&&(he.className.indexOf("jqx-grid-cell-pinned")>=0||(i.columnCells[ne.cells.length]||(i.columnCells[ne.cells.length]=new Array),i.columnCells[ne.cells.length].push(he),0==i.cellWidth&&(i.cellWidth=he.clientWidth),0==i.cellHeight&&(1==re||d>1)&&(i.cellHeight=he.clientHeight),ne.cells.push(he),i.rowByCell[he.getAttribute("data-key")]=ne))}}}0===n&&(i._table[0].style.tableLayout="auto"),i._updateScrollbars(i.host.height()),i._arrange(),i.rendered&&i.rendered(),i.renderedTime=new Date},_renderrows:function(){function t(){var e={};return e.cells=new Array,e.indexOf=function(t){for(var i=0;i<e.cells.length;i++)if(e.cells[i].getAttribute("data-key")==t.getAttribute("data-key"))return i;return-1},e}var i=this;if(!i._loading&&!i._updating&&!i._appupdating){i.rendering&&i.rendering();var i=this,o=i._views[i._view].type,r=i._views[i._view];if("agendaView"==o)return void i._renderagenda();var a=1,n=i.getViewStart(),s=e.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd());i._prepareAppointmentsInView(n,s);var l=new Array;if("weekView"===o||"dayView"===o)var a=i.getMaxAllDayAppointments(i.appointmentsToRender);else"monthView"===o&&r.monthRowAutoHeight&&i.rows&&6==i.rows.length&&(l=i._getMonthAppointmentsPerWeek());var d,h=(i.tableRows>1&&i.tableRows,"halfHour"),c=null;r.rowHeight&&(c=r.rowHeight),r&&r.allDayRowHeight&&(d=r.allDayRowHeight),r.timeRuler&&r.timeRuler.scale&&(h=r.timeRuler.scale);var p=0;i.table[0].rows=new Array,i.rows=new Array;var u=i.toTP("jqx-cell")+" "+i.toTP("jqx-widget-content");i.rtl&&(u+=" "+i.toTP("jqx-cell-rtl"));var m=i.columns.records.length,f=i._getColumnsLengthPerView(),g=e.jqx.browser.msie&&e.jqx.browser.version<8;g&&i.host.attr("hideFocus","true"),i._lastSelectedCell=null,i.focusedCell=null;var v=(new Array,i.source.records);v=i.dataview.evaluate(v),i.dataViewRecords=v,i.cells=new Array;i.dataViewRecords;i.renderedRecords=i.getRows();var w=(i.tableZIndex,i.getRows().length),y=0,x=0;if(g)for(var b=0;b<m;b++){var A=i.columns.records[b],T=A.width;T<A.minwidth&&(T=A.minwidth),T>A.maxwidth&&(T=A.maxwidth);var _=e('<table><tr><td role="gridcell" style="max-width: '+T+"px; width:"+T+'px;" class="'+u+'"></td></tr></table>');e(document.body).append(_);var S=_.find("td");y=1+parseInt(S.css("padding-left"))+parseInt(S.css("padding-right")),_.remove();break}var D=i.rtl?" "+i.toTP("jqx-grid-table-rtl"):"",j="<table cellspacing='0' cellpadding='0' class='"+i.toTP("jqx-grid-table")+D+"' id='table"+i.element.id+"'><colgroup>",q=0,C=m,k=2,B=30;switch(h){case"sixtyMinutes":case"hour":B=60,k=1;break;case"thirtyMinutes":case"halfHour":B=30,k=2;break;case"fifteenMinutes":case"quarterHour":B=15,k=4;break;case"tenMinutes":B=10,k=6;break;case"fiveMinutes":B=5,k=12}var R=1;"timelineDayView"===o||"timelineWeekView"===o?(m*=k,R=k,f=m/i.tableColumns):"timelineMonthView"===o?f=m/i.tableColumns:"monthView"===o&&(f=r.showWeekNumbers?(m-i.tableColumns)/i.tableColumns:m/i.tableColumns);for(var z=function(e){var t=i.columns.records[e];if(t)return t;for(;e>=i.columns.records.length;)e-=i.columns.records.length;var t=i.columns.records[e];return t},b=0;b<m;b++){var A=z(b);if(A.hidden)q++,C--;else{var T=A.width/R;if(T<A.minwidth&&(T=A.minwidth/R),T>A.maxwidth&&(T=A.maxwidth/R),T-=y,T<0&&(T=0),"monthView"==o&&i.rtl&&A.timeColumn&&T++,g){var H=T;b==q&&H++,j+="<col style='max-width: "+H+"px; width: "+H+"px;'>"}else j+="<col style='max-width: "+T+"px; width: "+T+"px;'>";x+=T}}if(j+="</colgroup>",i._hiddencolumns=!1,0===w){var P='<tr role="row">',M=i.host.height();i.pageable&&(M-=i.pagerHeight,"both"===i.pagerPosition&&(M-=i.pagerHeight)),M-=i.columnsHeight,i.showLegend&&i._resources.length>0&&(M-=i.legendHeight),M<25&&(M=25),"hidden"!=i.hScrollBar[0].style.visibility&&(M-=i.hScrollBar.outerHeight()),("auto"===i.height||null===i.height||i.autoheight)&&(M=300);var _='<td colspan="'+i.columns.records.length+'" role="gridcell" style="border: none; min-height: '+M+"px; height: "+M+"px; max-width:"+x+"px; width:"+x+"px;",u=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");i.rtl&&(u+=" "+i.toTP("jqx-cell-rtl")),u+=" "+i.toTP("jqx-center-align"),_+='" class="'+u+'">',_+=i.schedulerLocalization.emptyDataString,_+="</td>",P+=_,j+=P,i.table[0].style.width=x+2+"px",p=x}var V=i.getRows(),n=i.getViewStart(),M=i._hostHeight?i._hostHeight:i.host.height(),F=0;i.columnGroups?F+=i.showHeader?i.columnsheader.height():0:F+=i.showHeader?i.columnsHeight:0,i.showToolbar&&(F+=i.toolbarHeight),i.showLegend&&i._resources.length>0&&(F+=i.legendHeight);var I=i.showAllDayRow,E=23;r.resourceHeaderRowHeight&&(E=r.resourcesRowHeight),E+=2,void 0!=r.showAllDayRow&&(I=r.showAllDayRow);var O=i._columnswidth>i._hostWidth,W=O?3+i.scrollBarSize:0,N=i.tableRows>1?i.resources.unitsInView:1;if(void 0==N&&(N=i._resources.length),i.resources&&i.resources.resourceRowHeight&&(c=i.resources.resourceRowHeight),null==c||"auto"==c){var L=i.rowsHeight,Z=3*L;if(i.isTouchDevice()){L=i.touchRowsHeight;var Z=22+L}1==i.tableRows?(c=M>0?M-F:L,i.columns.records.length>10&&(c=M>0?M-i.scrollBarSize-5-F:L)):(c=M>0?(M-F-E)/w:L,i.columns.records.length>10&&(c=M>0?(M-i.scrollBarSize-5-F-N*E)/(N*w):L)),"dayView"===o||"weekView"===o?I&&(null==d||"auto"==d?(c=M>0?(M-F)/(i.tableRows*w):Z,d=c):c=M>0?(M-F-d-N*E)/(N*(w-1)):L):"monthView"===o&&("hidden"==i.hScrollBar[0].style.visibility&&(W=0),c=1==i.tableRows?M>0?(M-F-W)/w:L:M>0?(M-F-E-W)/w:L),c=Math.max(L,c),d||(d=Z),d=Math.max(Z,d),i._allDayRowHeight=d,i._defaultRowHeight=L,d=a*(L-2),d=Math.max(Z,17+d),i._allDayRowFullHeight=d,r.allDayRowHeight&&(i._allDayRowHeight=r.allDayRowHeight,d=a*(r.allDayRowHeight-2),i._allDayRowFullHeight=d)}var U=new Array;if(i.resources&&i.resources.colorScheme){for(var X=0;X<i.colorSchemes.length;X++)if(i.colorSchemes[X].name==i.resources.colorScheme){U=i.colorSchemes[X].colors;break}for(;i._resources.length>U.length-1;){var G=parseInt(i.resources.colorScheme.substring(6));G>=27&&(G=0),U=U.concat(i.colorSchemes[G].colors),G++}}for(var J=0;J<i.tableRows;J++){var K=0,Q=23;if(r.timeRuler&&void 0!=r.timeRuler.scaleStartHour)var K=parseInt(r.timeRuler.scaleStartHour);if(r.timeRuler&&void 0!=r.timeRuler.scaleEndHour)var Q=parseInt(r.timeRuler.scaleEndHour);var Y=n;!1===r.showWeekends&&(0!=Y.dayOfWeek()&&6!=Y.dayOfWeek()||(Y=Y.addDays(1)));var $=new Array,ee="monthView"!=o&&"timelineDayView"!=o&&"timelineWeekView"!=o&&"timelineMonthView"!=o&&I?1:0;if(i.tableRows>1){var P='<tr data-group-row="true" role="row">',u=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(i.rtl&&(u+=" "+i.toTP("jqx-cell-rtl")),g)u+=" "+i.toTP("jqx-grid-cell-pinned");else{u+=" "+i.toTP("jqx-grid-cell-pinned"),be+=' colspan="'+m+'"';for(var H=0,te=0;te<m;te++){var ie=z(te),oe=ie.width/R;oe<ie.minwidth&&(T=ie.minwidth/R),oe>ie.maxwidth&&(T=ie.maxwidth/R),oe-=y,oe<0&&(oe=0),ie.hidden||(H+=oe)}T=H}var _='<td style="height:'+E+"px;";if(b!=m-1||1!=m||i.rtl||(_+="border-right-color: transparent;"),i._resources.length>0&&i.resources.colorScheme&&"none"!=i.resources.orientation){var re="",ae="",ne="";re=U[J],re=i.hexToRgba(U[J],.7).toString(),ne=function(e){return 255-(.299*e.r+.587*e.g+.114*e.b)<105?"Black":"White"}(i.hexToRgba(U[J],.7)),ae=U[J],_+="background: "+re+";",_+="border-color: "+ae+";",_+="color: "+ne+";"}_+='" class="'+u+'" role="gridcell" '+be;_+="><span style='position: relative;'>"+i._resources[J]+"</span>",_+="</td>",P+=_,j+=P}for(var se=0;se<w;se++){var le={},de=se;le.uid=de;var P='<tr data-key="'+de+'" role="row">',he=0,ce=0;if($[0]&&se>ee){var B=30;if("monthView"!=o){switch(h){case"sixtyMinutes":case"hour":B=60;break;case"thirtyMinutes":case"halfHour":B=30;break;case"fifteenMinutes":case"quarterHour":B=15;break;case"tenMinutes":B=10;break;case"fiveMinutes":B=5}for(var pe=0;pe<m;pe++)$[pe]=$[pe].addMinutes(B,!1)}else for(var pe=0;pe<m;pe++)$[pe]=$[pe].addDays(7,!1)}var ue=0,me=1,fe=0;r.showWeekends||void 0==r.showWeekends?(fe=i.columns.records.length/(7*i.tableColumns),fe*=k):(fe=i.columns.records.length/(5*i.tableColumns),fe*=k);var ge=0;i.rtl&&(ge=1);for(var ve=0,b=0;b<m;b++){var we=z(b);if(ue>=f&&(ue=0,ve=0,ge=0,i.rtl&&(ge=1),me++),!$[b])if(i.rtl){if(o.toString().indexOf("timelineDayView")>=0){var ye=1+b;$[b]=Y.addHours(1+Q).addMinutes(-ye*B,!1)}else o.toString().indexOf("timelineWeekView")>=0?r.showWeekends||void 0==r.showWeekends?$[b]=Y.addDays(6-ve).addHours(1+Q,!1).addMinutes(-ge*B,!1):$[b]=Y.addDays(4-ve).addHours(1+Q,!1).addMinutes(-ge*B,!1):"dayView"==o||"monthView"==o||"weekView"==o?r.showWeekends||void 0==r.showWeekends?$[b]=Y.addDays(6-ue).addHours(K,!1):$[b]=Y.addDays(4-ue).addHours(K,!1):$[b]=Y.addDays(f-ue-1).addHours(K,!1);i.timeZone&&($[b].timeZone=i.timeZone)}else{if(o.toString().indexOf("timelineDayView")>=0){var ye=b;$[b]=Y.addHours(K).addMinutes(ye*B,!1)}else o.toString().indexOf("timelineWeekView")>=0?$[b]=Y.addDays(ve).addHours(K,!1).addMinutes(ge*B,!1):$[b]=Y.addDays(ue).addHours(K,!1);i.timeZone&&($[b].timeZone=i.timeZone)}ge++,ge>=fe&&(ge=0,ve++),we.timeColumn||"dayView"!==o&&"weekView"!==o?!we.timeColumn&&"monthView"===o&&r.showWeekNumbers?ue++:"monthView"===o&&!r.showWeekNumbers||"timelineMonthView"===o?ue++:"timelineDayView"!=o&&"timelineWeekView"!=o||ue++:ue++;var xe=$[b],T=we.width/R;T<we.minwidth&&(T=we.minwidth/R),T>we.maxwidth&&(T=we.maxwidth/R),T-=y,T<0&&(T=0);var u=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");we.pinned&&(u+=" "+i.toTP("jqx-grid-cell-pinned")),i.sortcolumn===we.displayfield&&(u+=" "+i.toTP("jqx-grid-cell-sort")),i.altRows&&se%2!=0&&(u+=" "+i.toTP("jqx-grid-cell-alt")),0!=se||!I||"dayView"!==o&&"weekView"!==o||(u+=" "+i.toTP("jqx-grid-cell-alt")),(xe>i.max||xe<i.min)&&(u+=" "+i.toTP("jqx-scheduler-disabled-cell")),i.rtl&&(u+=" "+i.toTP("jqx-cell-rtl"));var be="",de=i.dataview.generatekey(),Ae=J+me;i.resources&&"none"==i.resources.orientation&&(Ae=-1),0==i._resources.length&&(Ae=-1);var _='<td data-key="'+de+'" data-view="'+Ae+'" data-date="'+xe.toString()+'" role="gridcell" '+be+' style="max-width:'+T+"px; width:"+T+"px;  height:"+c+"px;";if(0==se&&I&&("dayView"===o||"weekView"===o))var _='<td  data-key="'+de+'" data-view="'+Ae+'" data-end-date="'+e.jqx.scheduler.utilities.getEndOfDay(xe).toString()+'" data-date="'+xe.clearTime().toString()+'" role="gridcell" '+be+' style="max-width:'+T+"px; width:"+T+"px; height:"+d+"px;";if("monthView"==o&&r.monthRowAutoHeight&&l.length>0&&l[se]&&"auto"!=l[se]&&c<l[se])var _='<td data-key="'+de+'" data-view="'+Ae+'" data-date="'+xe.toString()+'" role="gridcell" '+be+' style="max-width:'+T+"px; width:"+T+"px;  height:"+l[se]+"px;";if(i.resources&&i._resources.length>0&&i.resources.colorScheme&&"none"!==i.resources.orientation){var re="",ae="";if(re=U[J+me-1],re=0!=se||!I||"dayView"!==o&&"weekView"!==o?i.hexToRgba(U[J+me-1],.3).toString():i.shadeColor(U[J+me-1],.3).toString(),(0!=se||!I||"dayView"!==o&&"weekView"!==o)&&-1==o.indexOf("month")&&!we.timeColumn&&!1!==r.showWorkTime){var Te=1,_e=5,Se=8,De=18;if(r.workTime)var Te=r.workTime.fromDayOfWeek?r.workTime.fromDayOfWeek:0,_e=r.workTime.toDayOfWeek?r.workTime.toDayOfWeek:0,Se=r.workTime.fromHour?r.workTime.fromHour:8,De=r.workTime.toHour?r.workTime.toHour:8;xe.dayOfWeek()>=Te&&xe.dayOfWeek()<=_e&&xe.hour()>=Se&&xe.hour()<De&&(re=i.hexToRgba(U[J+me-1],.1).toString())}ae=U[me+J-1],_+="background: "+re+";",_+="border-color: "+ae+";"}if(b!=m-1||1!=m||i.rtl||(_+="border-right-color: transparent;"),we.timeColumn&&!we.hidden&&"monthView"===o){var u=i.toTP("jqx-scheduler-time-column")+" "+i.toTP("jqx-widget-header")+" "+i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(u+=" "+i.toTP("jqx-scheduler-week-number-column"),i.tableRows>1)var u=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(i.rtl&&(u+=" "+i.toTP("jqx-cell-rtl")),0!==xe.minute()){ce++;continue}
var _='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+xe.toString()+'" role="gridcell" style="max-width:'+T+"px; width:"+T+"px;";b!=m-1||1!=m||i.rtl?i.rtl&&0==b&&(_+="border-left-color: transparent;"):_+="border-right-color: transparent;",b==m-1&&i.rtl&&(_+="border-right-color: transparent;")}if(!we.timeColumn||we.hidden||"dayView"!==o&&"weekView"!==o){if(se>0){var je="border-left-width: 1px;";i.rtl&&0==b&&"monthView"==o&&r.showWeekNumbers&&(je="border-left-width: 0px;"),_+=je}}else{var u=i.toTP("jqx-scheduler-time-column")+" "+i.toTP("jqx-widget-header")+" "+i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(i.tableRows>1)var u=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(i.rtl&&(u+=" "+i.toTP("jqx-cell-rtl")),se>0){if(0!==xe.minute()){ce++;continue}var _='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+xe.toString()+'" rowspan='+k+' role="gridcell" '+be+' style="max-width:'+T+"px; width:"+T+"px;";b!=m-1||1!=m||i.rtl?i.rtl&&0==b&&(_+="border-left-color: transparent;"):_+="border-right-color: transparent;"}else{if(i.resources&&"none"==i.resources.orientation&&(Ae=-1),0==se&&I&&("dayView"===o||"weekView"===o))var _='<td data-view="'+Ae+'" data-time-slot="true" data-end-date="'+e.jqx.scheduler.utilities.getEndOfDay(xe).toString()+'" data-date="'+xe.toString()+'" role="gridcell" '+be+' style="max-width:'+T+"px; width:"+T+"px;";b!=m-1||1!=m||i.rtl?0==b&&1==m&&i.rtl&&(_+="border-right-color: transparent;"):_+="border-right-color: transparent;",i.rtl&&(_+="border-left-width: 1px;"),i.tableRows>1&&(_+="background: "+re+";",_+="border-color: "+ae+";")}}if("left"!=we.cellsalign&&("right"===we.cellsalign?u+=" "+i.toTP("jqx-right-align"):u+=" "+i.toTP("jqx-center-align")),we.timeColumn||i.rowinfo[le.uid]&&i.rowinfo[le.uid].selected&&i.editKey!==le.uid&&"none"!==i.selectionMode&&(u+=" "+i.toTP("jqx-grid-cell-selected"),u+=" "+i.toTP("jqx-fill-state-pressed"),u+=" "+i.toTP("jqx-scheduler-cell-selected")),we.hidden?(_+="display: none;",i._hiddencolumns=!0):(he+=y+T,0!=ce||i.rtl||(_+="border-left-width: 0px;"),ce++),(0!=se||!I||"dayView"!==o&&"weekView"!==o)&&-1==o.indexOf("month")&&(u+=" "+i.toTP("jqx-grid-cell-nowrap"),se%2!=1||we.timeColumn||(u+=" "+i.toTP("jqx-scheduler-middle-cell")),!we.timeColumn&&!1!==r.showWorkTime)){var Te=1,_e=5,Se=8,De=18;if(r.workTime)var Te=r.workTime.fromDayOfWeek?r.workTime.fromDayOfWeek:0,_e=r.workTime.toDayOfWeek?r.workTime.toDayOfWeek:0,Se=r.workTime.fromHour?r.workTime.fromHour:8,De=r.workTime.toHour?r.workTime.toHour:8;xe.dayOfWeek()>=Te&&xe.dayOfWeek()<=_e&&xe.hour()>=Se&&xe.hour()<De?u+=" "+i.toTP("jqx-scheduler-work-time-cell"):u+=" "+i.toTP("jqx-scheduler-not-work-time-cell")}var qe="";if("monthView"===o){i.touchDevice||we.timeColumn||(u+=" "+i.toTP("jqx-top-align"));var Ce="dd";qe=xe.toDate();var ke=i.toTP("jqx-scheduler-month-outer-cell")+" ",Be=i.toTP("jqx-scheduler-month-weekend-cell");i.date.month()==xe.month()&&(ke=""),xe.isWeekend()?u+=" "+Be:Be="",1===qe.getDate()&&(Ce="MMM dd"),qe=i.touchDevice?c>16?"<div class='"+ke+i.toTP("jqx-scheduler-month-cell-touch")+"'>"+e.jqx.dataFormat.formatdate(qe,Ce,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>":"<div class='"+ke+i.toTP("jqx-scheduler-month-cell-touch")+"'>"+e.jqx.dataFormat.formatdate(qe,Ce,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>":c>16?"<div class='"+ke+i.toTP("jqx-scheduler-month-cell")+"'>"+e.jqx.dataFormat.formatdate(qe,Ce,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>":"<div class='"+ke+i.toTP("jqx-scheduler-month-cell")+"'>"+e.jqx.dataFormat.formatdate(qe,Ce,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>"}else"timelineWeekView"!==o&&"timelineDayView"!==o&&"timelineMonthView"!==o||(u+=" "+i.toTP("jqx-right-align jqx-bottom-align"),qe="<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span>");0!=se||!I||"dayView"!==o&&"weekView"!==o||we.timeColumn||(u+=" "+i.toTP("jqx-top-align"),u+=" "+i.toTP("jqx-scheduler-all-day-cell"),i.rtl&&(u+=" "+i.toTP("jqx-rtl")),qe=xe.toDate(),qe="<span>"+e.jqx.dataFormat.formatdate(qe,"dd",i.schedulerLocalization)+"</span>");var Re=we.cellsFormat;if(we.timeColumn&&!we.hidden){qe=xe.toDate(),we.timeZone&&(qe=xe.clone().toTimeZone(we.timeZone),qe=qe.toDate());r.timeRuler&&r.timeRuler.formatString?Re=r.timeRuler.formatString:we.timeColumn.format||(Re=0==qe.getHours()||12==qe.getHours()?"hh tt":"hh:mm"),e.jqx.dataFormat.isDate(qe)&&(qe=e.jqx.dataFormat.formatdate(qe,Re,i.schedulerLocalization)),se<ee&&(i.rtl?u+=" "+i.toTP("jqx-scheduler-time-column-header-cell-rtl"):u+=" "+i.toTP("jqx-scheduler-time-column-header-cell"),qe=""),se<ee&&(we._text&&(u+=" "+i.toTP("jqx-bottom-align")),r.timeRuler&&r.timeRuler.timeZones&&r.timeRuler.timeZones.length>0&&b<r.timeRuler.timeZones.length&&(qe=we._text)),"monthView"==o&&(qe=xe.weekOfYear(i.schedulerLocalization.firstDay))}else""!=Re&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(qe)?qe=e.jqx.dataFormat.formatdate(qe,Re,i.schedulerLocalization):(e.jqx.dataFormat.isNumber(qe)||!isNaN(parseFloat(qe))&&isFinite(qe))&&(qe=e.jqx.dataFormat.formatnumber(qe,Re,i.schedulerLocalization)));if(""!=we.cellclassname&&we.cellclassname)if("string"==typeof we.cellclassname)u+=" "+we.cellclassname;else{var ze=we.cellclassname(se,we.datafield,qe,le);ze&&(u+=" "+ze)}if(""!=we.cellsRenderer&&we.cellsRenderer){var He=V.indexOf(le);qe=we.cellsRenderer(He,we.datafield,qe,le)}_+='" class="'+u+'">',_+=qe,_+="</td>",P+=_}0==p&&(i.table[0].style.width=he+2+"px",i.pinnedtable[0].style.width=he+2+"px",p=he),P+="</tr>",j+=P,i.rowinfo[le.uid]?"row"in i.rowinfo[le.uid]||(i.rowinfo[le.uid].row=le):i.rowinfo[le.uid]={row:le}}}j+="</table>",i.table[0].innerHTML=j,i.pinnedtable[0].innerHTML=j,i.table[0].rows=i.table[0].firstChild.rows;var Pe=e.jqx.browser.msie&&e.jqx.browser.version<9,Me=null;!I||"dayView"!==o&&"weekView"!==o||1!=i.tableRows?i.pinnedtable[0].style.display="none":(i.pinnedtable[0].style.display="block",i.pinnedtable[0].style.zIndex="400",i.pinnedtable[0].style.position="absolute",i.pinnedtable[0].style.top="0px",i.pinnedtable[0].style.height=d+"px",Pe||(1==i.tableRows?(i.oldRow=i.table[0].rows[0],i.table[0].rows[0]=i.pinnedtable.find("tr")[0],Me=i.pinnedtable.find("tr")[0],i.pinnedTableRow=Me):(i.oldRow=i.table[0].rows[1],i.table[0].rows[1]=i.pinnedtable.find("tr")[1],Me=i.pinnedtable.find("tr")[1],i.pinnedTableRow=Me)));var te=e(i.table[0].firstChild),Ve=e(i.pinnedtable[0].firstChild);i._table=te,i._pinnedtable=Ve,e.jqx.browser.msie&&e.jqx.browser.version<10&&(i._table[0].style.width=p+"px",i._pinnedtable[0].style.width=p+"px"),0===w&&(i._table[0].style.width=2+p+"px",i._pinnedtable[0].style.width=2+p+"px"),i._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),i._pinnedtable.addClass("jqx-grid-table-one-cell jqx-disableselect"),i.rowByCell=new Array,i.columnCells=new Array,i.cellWidth=0,i.cellHeight=0;for(var Fe=i.table[0].rows.length,se=0;se<Fe;se++){var Ie=i.table[0].rows[se];if(0==se&&Me&&(Ie=Me),!Ie.getAttribute("data-group-row")){var le=new t;le.aboveRow=null,le.belowRow=null,i.rows.length>0&&(le.aboveRow=i.rows[i.rows.length-1],i.rows[i.rows.length-1].belowRow=le),le.element=Ie,i.rows.push(le);for(var b=0;b<Ie.cells.length;b++){var Ee=Ie.cells[b];Ee.getAttribute("data-time-slot")||"none"!==Ee.style.display&&(Ee.className.indexOf("jqx-grid-cell-pinned")>=0||(i.columnCells[le.cells.length]||(i.columnCells[le.cells.length]=new Array),i.columnCells[le.cells.length].push(Ee),0==i.cellWidth&&(i.cellWidth=Ee.clientWidth),0==i.cellHeight&&(1==Fe||se>1)&&(i.cellHeight=Ee.clientHeight),"monthView"==i._views[i._view].type&&void 0==le.top&&(le.top=parseInt(e(Ee).position().top)),le.cells.push(Ee),i.rowByCell[Ee.getAttribute("data-key")]=le))}}}0===w&&(i._table[0].style.tableLayout="auto"),i._renderAppointments(n,s),("none"!=i.pinnedtable[0].style.display||("dayView"==o||"weekView"==o)&&i.tableRows>1)&&i._updateScrollbars(i.host.height()),"monthView"===o&&r.monthRowAutoHeight&&(0==l.length?i._renderrows():i._updateScrollbars(i.host.height())),i.rendered&&i.rendered(),i.renderedTime=new Date}},showAppointmentsByResource:function(e){for(var t=this,i=0;i<t.uiappointments.length;i++){var o=t.uiappointments[i];if(o.resourceId==e&&(o.hidden=!1,o.hiddenByResourceId=!1,o.exceptions))for(var r=0;r<o.exceptions.length;r++)o.exceptions[r].hiddenByResourceId=!1,o.exceptions[r].hidden=!1}if(t._resourcesElements){var a=t.getColors(t._resources.indexOf(e));t._resourcesElements.top[e].attr("data-toggle","on"),t._resourcesElements.top[e].css("background",a.background),t._resourcesElements.bottom[e].attr("data-toggle","on"),t._resourcesElements.bottom[e].css("background",a.background)}t.hiddenResources&&delete t.hiddenResources[e],t._renderrows()},hideAppointmentsByResource:function(e){for(var t=this,i=0;i<t.uiappointments.length;i++){var o=t.uiappointments[i];if(o.resourceId==e&&(o.hidden=!0,o.hiddenByResourceId=!0,o.exceptions))for(var r=0;r<o.exceptions.length;r++)o.exceptions[r].hiddenByResourceId=!0,o.exceptions[r].hidden=!0}t._resourcesElements&&(t._resourcesElements.top[e].attr("data-toggle","off"),t._resourcesElements.top[e].css("background","transparent"),t._resourcesElements.bottom[e].attr("data-toggle","off"),t._resourcesElements.bottom[e].css("background","transparent")),t.hiddenResources||(t.hiddenResources=new Array),t.hiddenResources[e]=!0,t._renderrows()},_prepareAppointmentsInView:function(t,i){var o=this;if(!o._appupdating){for(var r=new Array,a=0;a<this.uiappointments.length;a++){var n=this.uiappointments[a];if(!n.hidden||null!=n.recurrencePattern){e.jqx.scheduler.utilities.rangeIntersection(n.from,n.to,t,i)&&!n.recurrencePattern&&r.push(n),n.renderedAppointments=new Array;var s=!1;if(n.recurrencePattern){for(var l=n.getOccurrences(t,i),d=n.exceptions,h=0;h<l.length;h++){var c=l[h];if(!c.hidden){for(var p=!0,u=0;u<d.length;u++){var m=d[u],f=m.occurrenceFrom?m.occurrenceFrom:m;if(o.selectedJQXAppointment&&o.selectedJQXAppointment.rootAppointment&&!s&&o.selectedJQXAppointment.occurrenceFrom.clearTime().equals(f.clearTime())&&(o.selectedJQXAppointment=m,s=!0),f.clearTime().equals(c.from.clearTime())){p=!1;break}}p&&(o.selectedJQXAppointment&&o.selectedJQXAppointment.rootAppointment&&!s&&o.selectedJQXAppointment.occurrenceFrom.clearTime().equals(c.occurrenceFrom.clearTime())&&(o.selectedJQXAppointment=c,s=!0),n.renderedAppointments[c.id]=c,r.push(c))}}for(var u=0;u<d.length;u++){var m=d[u],f=m.occurrenceFrom?m.from:m,g=n.createOccurrence(f);m.occurrenceFrom&&(m.cloneAppointmentAttributes(g),m.hidden)||g!=n&&(r.push(m),n.renderedAppointments[m.id]=m)}}}}var v=new Array;this.tabKeyAppointments=new Array;for(var a=0;a<r.length;a++){var w=r[a];v.push(w),this.tabKeyAppointments.push(w)}v.sort(this._sortAppointmentsByFrom),this._resources.length>0?this.tabKeyAppointments.sort(function(e,t){return o._sortAppointmentsByResourceId(e,t,o)}):this.tabKeyAppointments.sort(this._sortAppointmentsByFrom),this.appointmentsToRender=v}},_renderDayWeekAppointments:function(){var t=this,i=(t._views[t._view].type,t._views[t._view]),o=new Array,r=new Array,a=this.rows,n=t.showAllDayRow,s=t.getMinutesPerScale();i.timeRuler&&void 0!=i.timeRuler.showAllDayRow&&(n=i.timeRuler.showAllDayRow);for(var l=0;l<this.appointmentsToRender.length;l++){var d=this.appointmentsToRender[l],h=d.from,c=d.to,p=e.jqx.scheduler.utilities.getEndOfDay(c),u=h.day(),m=(d.allDay,t._getDateByString),f=new Array,g=new Array,v=d.resourceId,w=t._resources.indexOf(v);t.resources&&"none"==t.resources.orientation&&(w=-1);var y=h.toDate().valueOf(),x=c.toDate().valueOf(),b=(p.toDate().valueOf(),function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0});if(!d.allDay&&d.duration().days()<1||!n){var A=c.toDate();0==A.getHours()&&0==A.getMinutes()&&!0;for(var T=0;T<t.columnCells.length;T++)if(t.columnCells[T]){var _=t.columnCells[T];t.rtl&&(_=t.columnCells[t.columnCells.length-1-T]);for(var S=0;S<_.length;S++)if(!_[S].getAttribute("data-end-date")){var D=_[S].getAttribute("data-date"),j=m(D),q=m(D);q.setMinutes(q.getMinutes()+s-1);var C=j.valueOf(),k=q.valueOf();if(!(C>c)&&(y<=C&&C<x||y<=k&&k<x||y>=C&&k>=x)){if(-1!=w&&1+w!=_[S].getAttribute("data-view"))continue;u!=j.getDate()&&(f.sort(b),g.push(f),f=new Array,u=h.addDays(1).day()),f.push({cell:_[S],date:j})}}}f.sort(b),g.push(f);for(var B=new Array,T=0;T<g.length;T++){var _=g[T];if(0!=_.length){var R=t.cellWidth,z=_[_.length-1].cell.offsetTop+t.cellHeight,H=_[0].cell.offsetLeft,P=_[0].cell.offsetTop,M=t.getMinutesPerScale(),A=new e.jqx.date(_[_.length-1].date,t.timeZone).addMinutes(M),V={cells:_,x:H,y:P,height:z-P,width:R,appointment:d,from:new e.jqx.date(_[0].date,t.timeZone),to:A};B.push(V),o.push(V)}}d.elements=B,d.rootAppointment&&(d.rootAppointment.elements=d.rootAppointment.elements.concat(d.elements))}else{var _=a[0].cells;if(this.tableRows>1){_=a[w*(a.length/t.tableRows)].cells}for(var S=0;S<_.length;S++){var D=_[S].getAttribute("data-date"),F=m(D),j=new e.jqx.date(F,t.timeZone);j=e.jqx.scheduler.utilities.getEndOfDay(j);var C=j.toDate().valueOf();if(!(C>p)&&(h<=j&&j<=p)){if(-1!=w&&1+w!=_[S].getAttribute("data-view"))continue;0==f.length&&(j=e.jqx.scheduler.utilities.getStartOfDay(j)),f.push({cell:_[S],date:j})}}f.sort(b),g.push(f);for(var B=new Array,T=0;T<g.length;T++){var _=g[T];if(0==_.length)break;var I=e(_[0].cell).position(),R=e(_[_.length-1].cell).position().left+this.cellWidth-I.left,z=e(_[_.length-1].cell).position().top,H=I.left,P=I.top;if(this.rtl)var I=e(_[_.length-1].cell).position(),H=I.left,R=e(_[0].cell).position().left+this.cellWidth-I.left;var E=_[_.length-1].date;E=new e.jqx.date(e.jqx.scheduler.utilities.getEndOfDay(E),t.timeZone);var V={cells:_,x:H,y:P,height:z-P+this.cellHeight,width:R,appointment:d,from:e.jqx.scheduler.utilities.getStartOfDay(new e.jqx.date(_[0].date,t.timeZone)),to:E};B.push(V),r.push(V)}d.elements=B,d.rootAppointment&&(d.rootAppointment.elements=d.rootAppointment.elements.concat(d.elements))}}var O=this.getViewStart(),W=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var N=new Array,L=O,Z=0;L<W;){N[Z]=new Array;for(var T=0;T<o.length;T++){var U=o[T];U.from.day()==L.day()&&(U.column=-1,U.columnSpan=1,N[Z].push(U))}Z++,L=L.addDays(1)}for(var T=0;T<N.length;T++)this._renderAppointmentsInDay(N[T]);this._renderAllDayAppointments(r)}else for(var S=0;S<this._resources.length;S++){for(var X=this._resources[S],N=new Array,L=O,Z=0;L<W;){N[Z]=new Array;for(var T=0;T<o.length;T++){var U=o[T];U.from.day()==L.day()&&(U.column=-1,U.columnSpan=1,U.appointment.resourceId==X&&N[Z].push(U))}Z++,L=L.addDays(1)}for(var T=0;T<N.length;T++)this._renderAppointmentsInDay(N[T]);for(var G=new Array,T=0;T<r.length;T++)r[T].appointment.resourceId==X&&G.push(r[T]);this._renderAllDayAppointments(G)}},_renderAllDayAppointments:function(t){var i=this,o=this.showAllDayRow,r=this._views[this._view];if(r.timeRuler&&void 0!=r.timeRuler.showAllDayRow&&(o=r.timeRuler.showAllDayRow),o&&0!=t.length){var a=t,n=1;if(n=this.getMaxAllDayAppointments(t),1==this.tableRows){this.table[0].rows[0].clientHeight}else{this.table[0].rows[1].clientHeight}for(var s=0;s<t.length;s++){var l=t[s];l.row=-1;var d=this.getCollisionAppointments(l,t);d.sort(this._sortAppointmentsByFrom);var h=d.indexOf(l);if(h>=0)for(var c=h;c<d.length;c++)d[c].row=-1;for(var p=0;p<n;p++){var u=p;for(var m in d){if("indexOf"==m)break;var f=d[m];if(-1==f.row&&!this.isBusyRow(u,d)){f.row=u;var g=n,v=this.getMaxAllDayAppointments(d);g>v&&(g=v),f.rowsCount=g}}}}for(var p=0;p<a.length;p++){var l=a[p],d=this.getCollisionAppointments(l,a);d.sort(this._sortAppointmentsByFrom);var w=1;for(var m in d){if("indexOf"==m)break;var y=d[m];w=Math.max(w,y.rowsCount)}for(var m in d){if("indexOf"==m)break;var y=d[m];y.rowsCount=w}if(1==d.length)l.rowSpan=w;else{for(var x=0,b=!0,c=l.row;c<w;c++){for(var m in d){if("indexOf"==m)break;var f=d[m];f!=l&&(f.row==c&&(b=!1))}if(!b)break;x++}l.rowSpan=x}}var A=i.appointmentsMinHeight+2;if(i.isTouchDevice())var A=i.touchAppointmentsMinHeight+2;for(var T=0;T<a.length;T++){var _=A,l=a[T];l.height=A;var S=_*l.row;if(l.y=18+l.y+S+4*l.row,l.x+=3,l.width-=8,0!=l.appointment.from.hour()||23!=l.appointment.to.hour()){var D=this.getViewStart(),j=this.getViewEnd();if(i.rtl){var q=parseFloat(i.cellWidth/24)*l.appointment.to.hour()+parseFloat(i.cellWidth/48)*(l.appointment.to.minute()/30),C=parseFloat(i.cellWidth/24)*l.appointment.from.hour()+parseFloat(i.cellWidth/48)*(l.appointment.from.minute()/30);q>0&&(q=i.cellWidth-q),l.appointment.from<D&&(C=0),l.appointment.to>j&&(q=0),"exactTime"==r.appointmentsRenderMode&&(l.x+=q,l.width-=q,l.width-=C),l.appointment.duration().days()<1&&l.width<15&&(l.width=15),l.timewidth=l.width,"exactTimeStatus"==r.appointmentsRenderMode&&(l.timewidth-=q,l.timewidth-=C),l.timex=q}else{var q=parseFloat(i.cellWidth/24)*l.appointment.from.hour()+parseFloat(i.cellWidth/48)*(l.appointment.from.minute()/30);l.appointment.from<D&&(q=0),l.timewidth=l.width,l.timex=q;var C=parseFloat(i.cellWidth/24)*l.appointment.to.hour()+parseFloat(i.cellWidth/48)*(l.appointment.to.minute()/30);l.appointment.to>j&&(C=0),l.timewidth-=q,C>0&&(l.timewidth-=i.cellWidth,l.timewidth+=C),"exactTime"==r.appointmentsRenderMode&&(l.width=l.timewidth,l.x+=q)}}}for(var T=0;T<a.length;T++){var k=a[T],B="",R="auto",r=this._views[this._view],z=k.appointment.from,H=k.appointment.to;r.timeRuler&&r.timeRuler.formatString&&(R=r.timeRuler.formatString);var P=R;if("auto"===R){if(0==z.hour()&&0==z.minute()||12==z.hour()&&0==z.minute())var P="hh tt";else var P="hh:mm";if(0==H.hour()&&0==H.minute()||12==H.hour()&&0==H.minute())var M="hh tt";else var M="hh:mm"}var V=z.toString(P),F=H.toString(M),I=k.appointment.duration(),E=k.appointment.allDay||23===I.hours&&59===I.minutes&&59===I.seconds,O=k.appointment.background,W=k.appointment.subject?k.appointment.subject:"(No Title)",N=k.appointment.color,L=k.appointment.resourceId,Z=i.getColors(i._resources.indexOf(L)),U=" data-resourceId='"+L+"' ",X=k.appointment.borderColor,G=k.appointment.location;G.length>0&&(G=", "+G),O||(O=Z.background),X||(X=Z.border),N||(N=Z.color);var J=k.appointment.isRecurrentAppointment(),K=k.appointment.isException();E&&(V="",F="");var Q="",Y=i.toTP("jqx-scheduler-appointment-status"),$="",ee=i.statuses[k.appointment.status],te=!1;ee&&("transparent"==ee?te=!1:($="<div style='background: "+ee+"; border-right-color: "+X+"' class='"+Y+"'></div>","tentative"==ee&&(Y=i.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),$="<div style='background-color: "+X+"; border-right-color: "+X+"' class='"+Y+"'></div>"),te=!0));var ie=i.toTP("jqx-scheduler-appointment-duration-status"),oe="<div style='width: "+k.timewidth+"px; left: "+k.timex+"px;' class='"+ie+"'></div>";E&&(oe="");var re="";if("exactTimeStatus"!=r.appointmentsRenderMode&&(oe=""),i.rtl){var Y=i.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status");$="<div style='background: "+ee+"; border-left-color: "+X+"' class='"+Y+"'></div>","tentative"==ee&&(Y=i.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),$="<div style='background-color: "+X+"; border-left-color: "+X+"' class='"+Y+"'></div>"),re=$,$=""}var ae="",ne=W+G;if(E||(ne=W+G+oe),i.renderAppointment){var se=i.renderAppointment({appointment:k.appointment.boundAppointment,textColor:N,background:O,borderColor:X,html:ne,cssClass:"",style:"",width:k.width,height:k.height,view:i._views[i._view].type});if(se){var B=se.html;if(B!=ne&&(ne=B),N=se.textColor,O=se.background,X=se.borderColor,se.cssClass&&(ae=se.cssClass+" "),""!=se.style){var Z=i.getAppointmentColors(se.style);O=Z.background,X=Z.border,N=Z.color}}}if(""===Q)if(te)var Q="<div style='white-space:nowrap;' class='"+i.toTP("jqx-scheduler-appointment-content")+"'>"+$+"<div class='"+i.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ne+"</div>"+re+"</div>";else var Q="<div style='white-space:nowrap;' class='"+i.toTP("jqx-scheduler-appointment-content")+"'><div class='"+i.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ne+"</div></div>";var le="";if(i.rtl&&(le=i.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),K){var de="white"==N.toLowerCase()?i.toTP("jqx-icon-recurrence-exception-white"):i.toTP("jqx-icon-recurrence-exception");B="<div data-key='"+k.appointment.id+"'"+U+"class='"+le+ae+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+k.x+"px; top: "+k.y+"px; width: "+k.width+"px; line-height: "+k.height+"px; height: "+k.height+"px; border-color:"+X+"; color:"+N+"; background:"+O+";'><div class='"+de+"'></div>"+Q+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(J){var he="white"==N.toLowerCase()?i.toTP("jqx-icon-recurrence-white"):i.toTP("jqx-icon-recurrence");B="<div data-key='"+k.appointment.id+"'"+U+"class='"+le+ae+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+k.x+"px; top: "+k.y+"px; width: "+k.width+"px; line-height: "+k.height+"px; height: "+k.height+"px; border-color:"+X+"; color:"+N+"; background:"+O+";'><div class='"+he+"'></div>"+Q+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else B="<div data-key='"+k.appointment.id+"'"+U+"class='"+le+ae+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+k.x+"px; top: "+k.y+"px; width: "+k.width+"px; line-height: "+k.height+"px; height: "+k.height+"px; border-color:"+X+"; color:"+N+"; background:"+O+";'>"+Q+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";var ce=e(B);if(1==this.tableRows?ce.appendTo(this.pinnedtable):ce.appendTo(this.table),k.element=ce,this.appointmentTooltips)if(k.appointment.tooltip)ce[0].setAttribute("title",k.appointment.tooltip);else{var pe=k.appointment.subject;if(V&&(pe=V+" - "+F+" "+pe),pe){var G=k.appointment.location;G&&(pe+="\n"+G),ce[0].setAttribute("title",pe)}}}}},_renderAppointmentsInDay:function(t,i){if(0!=t.length){var o=this,r=this._views[this._view],a=t,n=(this.getViewStart(),this.getViewEnd(),1),s=0;r.timeRuler?(s=this.columns.records[1].width,r.timeRuler.timeZones&&(s=this.columns.records[1+r.timeRuler.timeZones.length].width)):s=this.columns.records[1].width,n=this.getMaxColumnsInADay(t);if(!(s/n<0)){for(var l=0;l<t.length;l++){var d=t[l];d.column=-1;var h=this.getCollisionAppointments(d,t);h.sort(this._sortAppointmentsByFrom);var c=h.indexOf(d);if(c>=0)for(var p=c;p<h.length;p++)h[p].column=-1;for(var u=0;u<n;u++){var m=u;for(var f in h){if("indexOf"==f)break;var g=h[f];if(-1==g.column&&!this.isBusyColumn(m,h)){g.column=m;var v=n,w=this.getMaxColumnsInADay(h);v>w&&(v=w),g.columnsCount=v}}}}for(var u=0;u<a.length;u++){var d=a[u],h=this.getCollisionAppointments(d,a);h.sort(this._sortAppointmentsByFrom);var y=1;for(var f in h){if("indexOf"==f)break;var x=h[f];void 0!=x.columnsCount&&(y=Math.max(y,x.columnsCount))}for(var f in h){if("indexOf"==f)break;var x=h[f];x.columnsCount=y}if(1==h.length)d.columnSpan=y;else{for(var b=0,A=!0,p=d.column;p<y;p++){for(var f in h){if("indexOf"==f)break;var g=h[f];void 0!=g.column&&(g!=d&&g.column==p&&(A=!1))}if(!A)break;b++}d.columnSpan=b}}for(var T=0;T<a.length;T++){var _=s/a[T].columnsCount,d=a[T];d.width=_*d.columnSpan-5;var S=_*d.column;if(d.x=2+d.x+S,d.height-=5,d.y+=1,"exactTime"==r.appointmentsRenderMode){var D=o.getMinutesPerScale();if(d.appointment.from.minute()%D!=0)var j=d.appointment.from.minute()%D,q=parseFloat(o.cellHeight/D)*j;else var q=0;if(d.appointment.to.minute()%D!=0)var j=d.appointment.to.minute()%D,C=o.cellHeight-parseFloat(o.cellHeight/D)*j;else C=0;d.y+=q,d.height-=q,d.height-=C}}for(var T=0;T<a.length;T++){var k=a[T],B="",R="auto",r=this._views[this._view],z=k.appointment.from,H=k.appointment.to;r.timeRuler&&r.timeRuler.formatString&&(R=r.timeRuler.formatString);var P=R;if("auto"===R){if(0==z.hour()&&0==z.minute()||12==z.hour()&&0==z.minute())var P="hh tt";else var P="hh:mm";if(0==H.hour()&&0==H.minute()||12==H.hour()&&0==H.minute())var M="hh tt";else var M="hh:mm"}var V=(z.toString(P),H.toString(M),k.appointment.background),F=k.appointment.subject?k.appointment.subject:"(No Title)",I=k.appointment.location?k.appointment.location:"",E=k.appointment.color,O=k.appointment.resourceId,W=o.getColors(o._resources.indexOf(O)),N=" data-resourceId='"+O+"' ",L=k.appointment.borderColor;V||(V=W.background),L||(L=W.border),E||(E=W.color);var Z=k.appointment.isRecurrentAppointment(),U=k.appointment.isException(),X="",G=o.toTP("jqx-scheduler-appointment-status"),J="",K=o.statuses[k.appointment.status],Q=!1;K&&("transparent"==K?Q=!1:(J="<div style='background: "+K+"; border-right-color: "+L+"' class='"+G+"'></div>","tentative"==K&&(G=o.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),J="<div style='background-color: "+L+"; border-right-color: "+L+"' class='"+G+"'></div>"),Q=!0));var Y="";if(o.rtl){var G=o.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status");J="<div style='background: "+K+"; border-left-color: "+L+"' class='"+G+"'></div>","tentative"==K&&(G=o.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),J="<div style='background-color: "+L+"; border-left-color: "+L+"' class='"+G+"'></div>"),Y=J,J=""}var $="",ee=F+"<br/>"+I;if(!I)var ee=F;if(o.renderAppointment){var te=o.renderAppointment({appointment:k.appointment.boundAppointment,textColor:E,background:V,borderColor:L,html:ee,cssClass:"",style:"",width:k.width,height:k.height,view:o._views[o._view].type});if(te){var B=te.html;if(B!=ee&&(ee=B),E=te.textColor,V=te.background,L=te.borderColor,te.cssClass&&($=te.cssClass+" "),""!=te.style){var W=o.getAppointmentColors(te.style);V=W.background,L=W.border,E=W.color}}}if(""===X)if(Q)var X="<div class='"+o.toTP("jqx-scheduler-appointment-content")+"'>"+J+"<div class='"+o.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ee+"</div>"+Y+"</div>";else var X="<div class='"+o.toTP("jqx-scheduler-appointment-content")+"'><div class='"+o.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ee+"</div></div>";var ie="";if(o.rtl&&(ie=o.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),U){var oe="white"==E.toLowerCase()?o.toTP("jqx-icon-recurrence-exception-white"):o.toTP("jqx-icon-recurrence-exception");B="<div data-key='"+k.appointment.id+"'"+N+"class='"+ie+$+o.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+k.x+"px; top: "+k.y+"px; width: "+k.width+"px; height: "+k.height+"px; border-color:"+L+"; color:"+E+"; background:"+V+";'><div class='"+oe+"'></div>"+X+"<div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"}else if(Z){var re="white"==E.toLowerCase()?o.toTP("jqx-icon-recurrence-white"):o.toTP("jqx-icon-recurrence");B="<div data-key='"+k.appointment.id+"'"+N+"class='"+ie+$+o.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+k.x+"px; top: "+k.y+"px; width: "+k.width+"px; height: "+k.height+"px; border-color:"+L+"; color:"+E+"; background:"+V+";'><div class='"+re+"'></div>"+X+"<div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"}else B="<div data-key='"+k.appointment.id+"'"+N+"class='"+ie+$+o.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+k.x+"px; top: "+k.y+"px; width: "+k.width+"px; height: "+k.height+"px; border-color:"+L+"; color:"+E+"; background:"+V+";'>"+X+"<div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>";var ae=e(B);if(ae.appendTo(this.table),k.element=ae,this.appointmentTooltips)if(k.appointment.tooltip)ae[0].setAttribute("title",k.appointment.tooltip);else{var ne=k.appointment.subject;if(ne){var I=k.appointment.location;I&&(ne+="\n"+I),ae[0].setAttribute("title",ne)}}}}}},getCollisionAppointments:function(t,i){for(var o=new Array,r=t.from,a=t.to,n=0;n<i.length;n++){var s=i[n],l=s.from,d=s.to;e.jqx.scheduler.utilities.rangeIntersection(r,a,l,d)&&o.push(s)}return o},getAllDayCollisionAppointments:function(t,i){for(var o=new Array,r=e.jqx.scheduler.utilities.getStartOfDay(t.from),a=e.jqx.scheduler.utilities.getEndOfDay(t.to),n=0;n<i.length;n++){var s=i[n],l=e.jqx.scheduler.utilities.getStartOfDay(s.from),d=e.jqx.scheduler.utilities.getEndOfDay(s.to);e.jqx.scheduler.utilities.rangeIntersection(r,a,l,d)&&o.push(s)}return o},_renderAppointments:function(e,t){var i=this;if(!i._appupdating){i.table.find(".jqx-scheduler-appointment").remove(),i.pinnedtable.find(".jqx-scheduler-appointment").remove();var o=i._views[i._view].type;"dayView"===o||"weekView"===o?i._renderDayWeekAppointments(e,t):"monthView"===o?i._renderMonthAppointments(e,t):"timelineWeekView"!==o&&"timelineDayView"!==o&&"timelineMonthView"!==o||i._renderTimelineAppointments(e,t),i.selectedJQXAppointment&&i._selectAppointment(i.selectedJQXAppointment)}},_renderTimelineAppointments:function(t,i){for(var o=this,r=o._views[o._view].type,a=o._views[o._view],n=new Array,s=(this.rows,this.cellHeight),l=this.cellWidth,d=o.getMinutesPerScale(),h=0;h<this.appointmentsToRender.length;h++){var c=this.appointmentsToRender[h],p=c.from,u=c.to,m=o._getDateByString,f=new Array,g=p.toDate().valueOf(),v=u.toDate().valueOf();"timelineMonthView"===r&&(g=p.clearTime().toDate().valueOf());var w=function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0},y=o.rows[0],x=c.resourceId,b=o._resources.indexOf(x);if(o._resources.length>0&&"horizontal"!==o.resources.orientation&&b>=1&&(y=o.rows[b]),o.resources&&"none"==o.resources.orientation){b=-1;var y=o.rows[0]}for(var A=y.cells,T=0;T<A.length;T++){var _=A[T].getAttribute("data-date");A[T].appointments=new Array;var S=m(_),D=S.valueOf(),j=m(_);j.setMinutes(j.getMinutes()+d-1);var q=j.valueOf();if(!(D>u)&&(g<=D&&D<v||g<=q&&q<v)){if(-1!=b&&1+b!=A[T].getAttribute("data-view"))continue;f.push({cell:A[T],date:S}),y=E}}f.sort(w);var C=new Array,A=f;if(0==A.length)break;var k=o.appointmentsMinHeight;o.isTouchDevice()&&(k=o.touchAppointmentsMinHeight),a.appointmentHeight&&(k=a.appointmentHeight);var B=e(A[0].cell).position(),R=k,z=e(A[A.length-1].cell).position().left-B.left+l,H=B.left,P=B.top;if(o.rtl)var B=e(A[A.length-1].cell).position(),z=e(A[0].cell).position().left-B.left+l,H=B.left,P=B.top
;var M=new e.jqx.date(A[A.length-1].date,o.timeZone).addMinutes(d);if("timelineMonthView"===r)var M=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(A[A.length-1].date,o.timeZone));var V={cellX:H,cellY:P,cellHeight:s,cells:A,x:H,y:P,height:R,width:z,appointment:c,from:new e.jqx.date(A[0].date,o.timeZone),to:M};C.push(V),n.push(V),c.elements=C,c.rootAppointment&&(c.rootAppointment.elements=c.rootAppointment.elements.concat(c.elements))}if(this._resources.length<2||"none"==this.resources.orientation)this._renderUITimelineAppointments(n,t,i);else for(var T=0;T<this._resources.length;T++){for(var F=this._resources[T],I=new Array,E=0;E<n.length;E++)n[E].appointment.resourceId==F&&I.push(n[E]);this._renderUITimelineAppointments(I,t,i)}},_renderUITimelineAppointments:function(t,i,o){var r=this,a=(r._views[r._view].type,r._views[r._view]),n=t,s=1,r=this,l=new Array;s=r.getMaxTimelineAppointments(t,l,i,o);var d=r.appointmentsMinHeight;r.isTouchDevice()&&(d=r.touchAppointmentsMinHeight),a.appointmentHeight&&(d=a.appointmentHeight);for(var h=0;h<t.length;h++){var c=t[h];c.row=-1;var p=r.getCollisionAppointments(c,t);p.sort(r._sortAppointmentsByFrom);var u=p.indexOf(c);if(u>=0)for(var m=u;m<p.length;m++)p[m].row=-1;for(var f=0;f<s;f++){var g=f;for(var v in p){if("indexOf"==v)break;var w=p[v];if(-1==w.row&&!r.isBusyRow(g,p)){w.row=g;var y=s,x=r.getMaxTimelineAppointments(p,l,i,o);y>x&&(y=x),w.rowsCount=y}}}}for(var f=0;f<n.length;f++){var c=n[f],p=r.getCollisionAppointments(c,n);p.sort(r._sortAppointmentsByFrom);var b=1;for(var v in p){if("indexOf"==v)break;var A=p[v];b=Math.max(b,A.rowsCount)}for(var v in p){if("indexOf"==v)break;var A=p[v];A.rowsCount=b}if(1==p.length)c.rowSpan=b;else{for(var T=0,_=!0,m=c.row;m<b;m++){for(var v in p){if("indexOf"==v)break;var w=p[v];w!=c&&(w.row==m&&(_=!1))}if(!_)break;T++}c.rowSpan=T}}for(var S=0;S<n.length;S++){var D=d,c=n[S];c.height=D;var j=2+(3+D)*c.row;c.y=c.y+j,c.x+=1,c.width-=5;var q=r._views[r._view].type,a=r._views[r._view];if("timelineMonthView"==q&&a.appointmentsRenderMode){if(0!=c.appointment.from.hour()||23!=c.appointment.to.hour())if(r.rtl){var C=parseFloat(r.cellWidth/24)*c.appointment.to.hour()+parseFloat(r.cellWidth/48)*(c.appointment.to.minute()/30),k=parseFloat(r.cellWidth/24)*c.appointment.from.hour()+parseFloat(r.cellWidth/48)*(c.appointment.from.minute()/30);C>0&&(C=r.cellWidth-C),"exactTime"==a.appointmentsRenderMode&&(c.x+=C,c.width-=C,c.width-=k),c.appointment.duration().days()<1&&c.width<15&&(c.width=15),c.timewidth=c.width,c.timex=C}else{var C=parseFloat(r.cellWidth/24)*c.appointment.from.hour()+parseFloat(r.cellWidth/48)*(c.appointment.from.minute()/30),k=parseFloat(r.cellWidth/24)*c.appointment.to.hour()+parseFloat(r.cellWidth/48)*(c.appointment.to.minute()/30);if(c.timewidth=c.width,c.timex=C,c.timewidth-=C,c.timewidth-=r.cellWidth,c.timewidth+=k,"exactTime"==a.appointmentsRenderMode&&(c.width=c.timewidth,c.x+=C,c.appointment.duration().days()<1&&c.width<15&&(c.width=15,C+15>r.cellWidth))){var B=r.cellWidth-C-15;c.x+=B}}}else if(a.appointmentsRenderMode&&"exactTime"==a.appointmentsRenderMode){var R=r.getMinutesPerScale();if(c.appointment.from.minute()%R!=0){var z=c.appointment.from.minute()%R,C=parseFloat(r.cellWidth/R)*z;if(r.rtl)var C=parseFloat(r.cellWidth/R)*z}else var C=0;if(c.appointment.to.minute()%R!=0){var z=c.appointment.to.minute()%R,k=r.cellWidth-parseFloat(r.cellWidth/R)*z;if(r.rtl)var k=r.cellWidth-parseFloat(r.cellWidth/R)*z}else k=0;r.rtl?(c.x+=k,c.width-=C,c.width-=k):(c.x+=C,c.width-=C,c.width-=k)}}for(var S=0;S<n.length;S++){var H=n[S],P="",a=r._views[r._view];H.appointment.from,H.appointment.to;a.timeRuler&&a.timeRuler.formatString&&a.timeRuler.formatString;var M=H.appointment.background,V=H.appointment.subject?H.appointment.subject:"(No Title)",F=H.appointment.location;F&&F.length>1&&(F=", "+F);var I=H.appointment.color,E=H.appointment.resourceId,O=r.getColors(r._resources.indexOf(E)),W=" data-resourceId='"+E+"' ",N=H.appointment.borderColor;M||(M=O.background),N||(N=O.border),I||(I=O.color);var L=H.appointment.isRecurrentAppointment(),Z=H.appointment.isException(),U="",X=r.toTP("jqx-scheduler-appointment-status"),G="",J=r.statuses[H.appointment.status],K=!1;J&&("transparent"==J?K=!1:(G="<div style='background: "+J+"; border-right-color: "+N+"' class='"+X+"'></div>","tentative"==J&&(X=r.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),G="<div style='background-color: "+N+"; border-right-color: "+N+"' class='"+X+"'></div>"),K=!0));var Q="";if(r.rtl){var X=r.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status");G="<div style='background: "+J+"; border-left-color: "+N+"' class='"+X+"'></div>","tentative"==J&&(X=r.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),G="<div style='background-color: "+N+"; border-left-color: "+N+"' class='"+X+"'></div>"),Q=G,G=""}var Y="",$=V+"<br/>"+F;if(r.renderAppointment){var ee=r.renderAppointment({appointment:H.appointment.boundAppointment,textColor:I,background:M,borderColor:N,html:$,cssClass:"",style:"",width:H.width,height:H.height,view:r._views[r._view].type});if(ee){var P=ee.html;if(P!=$&&($=P),I=ee.textColor,M=ee.background,N=ee.borderColor,ee.cssClass&&(Y=ee.cssClass+" "),""!=ee.style){var O=r.getAppointmentColors(ee.style);M=O.background,N=O.border,I=O.color}}}if(""===U)if(K)var U="<div style='white-space:nowrap;' class='"+r.toTP("jqx-scheduler-appointment-content")+"'>"+G+"<div class='"+r.toTP("jqx-scheduler-appointment-inner-content")+"'>"+$+"</div>"+Q+"</div>";else var U="<div style='white-space:nowrap;' class='"+r.toTP("jqx-scheduler-appointment-content")+"'><div class='"+r.toTP("jqx-scheduler-appointment-inner-content")+"'>"+$+"</div></div>";var te="";if(r.rtl&&(te=r.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),Z){var ie="white"==I.toLowerCase()?r.toTP("jqx-icon-recurrence-exception-white"):r.toTP("jqx-icon-recurrence-exception");P="<div data-key='"+H.appointment.id+"'"+W+"class='"+te+Y+r.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+H.x+"px; top: "+H.y+"px; width: "+H.width+"px; height: "+H.height+"px; line-height: "+H.height+"px; border-color:"+N+"; color:"+I+"; background:"+M+";'><div class='"+ie+"'></div>"+U+"<div class='"+r.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+r.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(L){var oe="white"==I.toLowerCase()?r.toTP("jqx-icon-recurrence-white"):r.toTP("jqx-icon-recurrence");P="<div data-key='"+H.appointment.id+"'"+W+"class='"+te+Y+r.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+H.x+"px; top: "+H.y+"px; width: "+H.width+"px; height: "+H.height+"px; line-height: "+H.height+"px; border-color:"+N+"; color:"+I+"; background:"+M+";'><div class='"+oe+"'></div>"+U+"<div class='"+r.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+r.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else P="<div data-key='"+H.appointment.id+"'"+W+"class='"+te+Y+r.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+H.x+"px; top: "+H.y+"px; width: "+H.width+"px; height: "+H.height+"px; line-height: "+H.height+"px; border-color:"+N+"; color:"+I+"; background:"+M+";'>"+U+"<div class='"+r.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+r.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";P;var re=e(P);if(re.appendTo(this.table),H.element=re,this.appointmentTooltips)if(H.appointment.tooltip)re[0].setAttribute("title",H.appointment.tooltip);else{var ae=H.appointment.subject;if(ae){var F=H.appointment.location;F&&(ae+="\n"+F),re[0].setAttribute("title",ae)}}}for(var ne=r.table.find(".jqx-scheduler-appointment"),S=0;S<n.length;S++){var H=n[S],re=e(function(e){for(var t=0;t<ne.length;t++){if(ne[t].getAttribute("data-key")==e)return ne[t]}}(H.appointment.id));e.each(H.cells,function(t){var i=e(this.cell),o=H.cellY,a=(H.cellX,H.cellHeight);if(i[0].appointments||(i[0].appointments=new Array),i[0].appointments.push({ui:re,appointment:H}),re=re,H.y+H.height>=o+a-12){re[0].style.visibility="hidden";var n=i.find(".jqx-icon-arrow-down");n.length>0&&(n[0].style.display="block",n[0].mousedown=function(){r.openedMonthCellPopup&&r.openedMonthCellPopup.remove();var t=e("<div></div>"),n=(new e.jqx.date(i.attr("data-date"),r.timeZone),e("<div class='"+r.toTP("jqx-scheduler-month-cell")+"'><span style='float: right; cursor: pointer; width:16px; height: 16px;' class='"+r.toTP("jqx- md-cancel  ")+"'></span></div>"));n.height(16),n.find("span")[0].mousedown=function(){t.remove()},n.addClass(r.toTP("jqx-widget-header")),t.addClass(r.toTP("jqx-widget")),t.addClass(r.toTP("jqx-window")),t.addClass(r.toTP("jqx-scheduler-month-cell-popup")),t.addClass(r.toTP("jqx-popup"));var s=e("<div></div>");t.append(n),t.append(s),s.addClass(r.toTP("jqx-widget-content"));for(var l=i.width(),d=21,h=0;h<i[0].appointments.length;h++){var c=i[0].appointments[h].ui.clone(!0);c.css("left","3px"),c.css("top","0px"),c.css("margin-top","2px"),c.css("position","relative"),c.css("visibility","visible"),c.width(l-6),c.click(function(e){var t=r.getJQXAppointmentByElement(r.getAppointmentElement(e.target));r._raiseEvent("appointmentClick",{appointment:t.boundAppointment})}),c.dblclick(function(e){var t=r.getJQXAppointmentByElement(r.getAppointmentElement(e.target));if(!t.readOnly&&!r.editRecurrenceDialog.jqxWindow("isOpen")&&(!r._editDialog||r._editDialog&&!r._editDialog.jqxWindow("isOpen"))){!1!==r._initDialog(t)&&r._openDialog()}r._raiseEvent("appointmentDoubleClick",{appointment:t.boundAppointment})}),d+=c.outerHeight()+4,s.append(c)}t.css("overflow","hidden"),t.css("position","absolute");var p=r.table.height()-o-25;p<a&&(p=a),t.css("max-height",p),t.height(d),t.width(l),t.css("z-index","9999");var u=i.position();t.css("top",u.top),t.css("left",u.left),r.table.append(t),r.openedMonthCellPopup=t})}})}},_renderMonthAppointments:function(){for(var t=this,i=(t._views[t._view].type,t._views[t._view]),o=new Array,r=(this.rows,e(".jqx-scheduler-month-cell:first").height()),a=0;a<this.appointmentsToRender.length;a++){var n=this.appointmentsToRender[a],s=e.jqx.scheduler.utilities.getStartOfDay(n.from),l=e.jqx.scheduler.utilities.getEndOfDay(n.to),d=(n.allDay,t._getDateByString),h=new Array,c=new Array,p=s.toDate().valueOf(),u=l.toDate().valueOf(),m=function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0},f=-1,g=n.resourceId,v=t._resources.indexOf(g);t.resources&&"none"==t.resources.orientation&&(v=-1);for(var w=0;w<t.rows.length;w++)for(var y=t.rows[w].cells,x=0;x<y.length;x++){var b=y[x].getAttribute("data-date"),A=d(b),T=A.valueOf();T>l||(y[x].appointments=new Array,-1!=v&&1+v!=y[x].getAttribute("data-view")||p<=T&&T<u&&(f!=w&&-1!=f&&(h.sort(m),c.push(h),h=new Array),h.push({cell:y[x],date:A}),f=w))}h.sort(m),c.push(h);for(var _=new Array,w=0;w<c.length;w++){var y=c[w];if(0==y.length)break;var S=t.appointmentsMinHeight;t.isTouchDevice()&&(S=t.touchAppointmentsMinHeight),i.appointmentHeight&&(S=i.appointmentHeight);var D=S,j=e(y[y.length-1].cell).position().left,q=j-e(y[0].cell).position().left+t.columns.records[0].width;if(i.showWeekNumbers)var q=j-e(y[0].cell).position().left+t.columns.records[1].width;var C=e(y[0].cell).position(),k=C.left,B=C.top+r,R=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(y[y.length-1].date,t.timeZone)),z=new e.jqx.date(y[0].date,t.timeZone);if(t.rtl){var R=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(y[0].date,t.timeZone)),z=new e.jqx.date(y[y.length-1].date,t.timeZone),C=e(y[y.length-1].cell).position(),k=C.left,B=C.top+r,j=e(y[0].cell).position().left,q=j-e(y[y.length-1].cell).position().left+t.columns.records[0].width;if(i.showWeekNumbers)var q=j-e(y[y.length-1].cell).position().left+t.columns.records[1].width}var H={cells:y,cellY:parseInt(C.top),cellX:parseInt(C.left),lastCellY:parseInt(C.top),lastCellX:j,x:k,y:B,height:D,width:q,appointment:n,from:z,to:R};_.push(H),o.push(H)}n.elements=_,n.rootAppointment&&(n.rootAppointment.elements=n.rootAppointment.elements.concat(n.elements))}var P=this.getViewStart(),M=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var V=new Array,F=P,I=0;F<M;){V[I]=new Array;for(var w=0;w<o.length;w++){var E=o[w];F<=E.from&&E.to<F.addDays(7)&&(E.row=-1,E.rowSpan=1,V[I].push(E))}I++,F=F.addDays(7)}for(var w=0;w<V.length;w++)V[w].length>0&&this._renderUIMonthAppointments(V[w])}else for(var x=0;x<this._resources.length;x++){for(var O=this._resources[x],V=(new Array,new Array),F=P,I=0;F<M;){V[I]=new Array;for(var w=0;w<o.length;w++){var E=o[w];F<=E.from&&E.to<F.addDays(7)&&(E.row=-1,E.rowSpan=1,E.appointment.resourceId==O&&V[I].push(E))}I++,F=F.addDays(7)}for(var w=0;w<V.length;w++)V[w].length>0&&this._renderUIMonthAppointments(V[w])}},_getMonthAppointmentsPerWeek:function(){var t=this,i=(t._views[t._view].type,t._views[t._view]),o=new Array,r=(this.rows,e(".jqx-scheduler-month-cell:first").height());if(!t.rows)return new Array;for(var a=0;a<this.appointmentsToRender.length;a++){var n=this.appointmentsToRender[a],s=e.jqx.scheduler.utilities.getStartOfDay(n.from),l=e.jqx.scheduler.utilities.getEndOfDay(n.to),d=(n.allDay,t._getDateByString),h=new Array,c=new Array,p=s.toDate().valueOf(),u=l.toDate().valueOf(),m=function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0},f=-1,g=n.resourceId,v=t._resources.indexOf(g);t.resources&&"none"==t.resources.orientation&&(v=-1);for(var w=0;w<t.rows.length;w++)for(var y=t.rows[w].cells,x=0;x<y.length;x++){var b=y[x].getAttribute("data-date"),A=d(b),T=A.valueOf();T>l||(-1!=v&&1+v!=y[x].getAttribute("data-view")||p<=T&&T<u&&(f!=w&&-1!=f&&(h.sort(m),c.push(h),h=new Array),h.push({cell:y[x],date:A}),f=w))}h.sort(m),c.push(h);for(var _=new Array,w=0;w<c.length;w++){var y=c[w];if(0==y.length)break;var S=t.appointmentsMinHeight;t.isTouchDevice()&&(S=t.touchAppointmentsMinHeight),i.appointmentHeight&&(S=i.appointmentHeight);var D=S,j=e(y[y.length-1].cell).position().left,q=j-e(y[0].cell).position().left+t.columns.records[0].width;if(i.showWeekNumbers)var q=j-e(y[0].cell).position().left+t.columns.records[1].width;var C=e(y[0].cell).position(),k=C.left,B=C.top+r,R=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(y[y.length-1].date,t.timeZone)),z=new e.jqx.date(y[0].date,t.timeZone);if(t.rtl){var R=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(y[0].date,t.timeZone)),z=new e.jqx.date(y[y.length-1].date,t.timeZone),C=e(y[y.length-1].cell).position(),k=C.left,B=C.top+r,j=e(y[0].cell).position().left,q=j-e(y[y.length-1].cell).position().left+t.columns.records[0].width;if(i.showWeekNumbers)var q=j-e(y[y.length-1].cell).position().left+t.columns.records[1].width}var H={cells:y,cellY:parseInt(C.top),cellX:parseInt(C.left),lastCellY:parseInt(C.top),lastCellX:j,x:k,y:B,height:D,width:q,appointment:n,from:z,to:R};_.push(H),o.push(H)}}var P=this.getViewStart(),M=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var V=new Array,F=P,I=0;F<M;){V[I]=new Array;for(var w=0;w<o.length;w++){var E=o[w];F<=E.from&&E.to<F.addDays(7)&&(E.row=-1,E.rowSpan=1,V[I].push(E))}I++,F=F.addDays(7)}for(var O=new Array,w=0;w<V.length;w++)if(V[w].length>0){var W=this.getMaxMonthAppointments(V[w]),S=t.appointmentsMinHeight;t.isTouchDevice()&&(S=t.touchAppointmentsMinHeight),i.appointmentHeight&&(S=i.appointmentHeight),O.push(W*(S+3)+22)}else O.push("auto");return O}for(var O=new Array,x=0;x<this._resources.length;x++){for(var N=this._resources[x],V=(new Array,new Array),F=P,I=0;F<M;){V[I]=new Array;for(var w=0;w<o.length;w++){var E=o[w];F<=E.from&&E.to<F.addDays(7)&&(E.row=-1,E.rowSpan=1,E.appointment.resourceId==N&&V[I].push(E))}I++,F=F.addDays(7)}for(var w=0;w<V.length;w++)if(V[w].length>0){var W=this.getMaxMonthAppointments(V[w]);O.push(W*(S+3)+22)}else O.push("auto");return O}},_renderUIMonthAppointments:function(t){var i=this._views[this._view],o=t,r=(this.getViewStart(),this.getViewEnd(),1),a=this;r=this.getMaxMonthAppointments(t);var n=a.appointmentsMinHeight;a.isTouchDevice()&&(n=a.touchAppointmentsMinHeight),i.appointmentHeight&&(n=i.appointmentHeight);var s=this._sortAppointmentsByFrom;this.rtl&&(s=this._sortAppointmentsByTo);for(var l=0;l<t.length;l++){var d=t[l];d.row=-1;var h=this.getCollisionAppointments(d,t);h.sort(s);var c=h.indexOf(d);if(c>=0)for(var p=c;p<h.length;p++)h[p].row=-1;for(var u=0;u<r;u++){var m=u;for(var f in h){if("indexOf"==f)break;var g=h[f];if(-1==g.row&&!this.isBusyRow(m,h)){g.row=m;var v=r,w=this.getMaxMonthAppointments(h);v>w&&(v=w),g.rowsCount=v}}}}for(var u=0;u<o.length;u++){var d=o[u],h=this.getCollisionAppointments(d,o);h.sort(s);var y=1;for(var f in h){if("indexOf"==f)break;var x=h[f];y=Math.max(y,x.rowsCount)}for(var f in h){if("indexOf"==f)break;var x=h[f];x.rowsCount=y}if(1==h.length)d.rowSpan=y;else{for(var b=0,A=!0,p=d.row;p<y;p++){for(var f in h){if("indexOf"==f)break;var g=h[f];g!=d&&(g.row==p&&(A=!1))}if(!A)break;b++}d.rowSpan=b}}for(var T=0;T<o.length;T++){var _=n,d=o[T];d.height=_;var S=2+(3+_)*d.row;if(d.y=d.y+S,d.x+=1,d.width-=5,0!=d.appointment.from.hour()||23!=d.appointment.to.hour())if(a.rtl){var D=parseFloat(a.cellWidth/24)*d.appointment.to.hour()+parseFloat(a.cellWidth/48)*(d.appointment.to.minute()/30),j=parseFloat(a.cellWidth/24)*d.appointment.from.hour()+parseFloat(a.cellWidth/48)*(d.appointment.from.minute()/30);d.appointment.elements.length>1?d==d.appointment.elements[0]?j>0?"exactTime"==i.appointmentsRenderMode?(d.width-=a.cellWidth-D,d.width-=j):d.timewidth=d.width-a.cellWidth+D-j:(d.timewidth=d.width,d.timex=0):d==d.appointment.elements[d.appointment.elements.length-1]&&("exactTime"==i.appointmentsRenderMode&&(d.x+=a.cellWidth,d.x-=D,d.width+=D,d.width-=a.cellWidth),d.timewidth=d.width-a.cellWidth+D,d.timex=a.cellWidth-D):("exactTime"==i.appointmentsRenderMode&&(d.x+=a.cellWidth,d.x-=D,d.width-=a.cellWidth-D,d.width-=j),d.appointment.duration().days()<1&&d.width<15&&(d.width=15),d.timewidth=d.width-a.cellWidth+D-j,d.timex=a.cellWidth-D)}else{var D=parseFloat(a.cellWidth/24)*d.appointment.from.hour()+parseFloat(a.cellWidth/48)*(d.appointment.from.minute()/30);d.timewidth=d.width,d.from.clearTime().toString()==d.appointment.from.clearTime().toString()?d.timex=D:D=0,d.appointment.elements.length>1&&d.appointment.elements[0]!=d&&(D=0);var j=parseFloat(a.cellWidth/24)*d.appointment.to.hour()+parseFloat(a.cellWidth/48)*(d.appointment.to.minute()/30);if(d.appointment.elements.length>1&&d.appointment.elements[d.appointment.elements.length-1]!=d&&(j=0),d.timewidth-=D,j>0&&(d.timewidth-=a.cellWidth,d.timewidth+=j),"exactTime"==i.appointmentsRenderMode&&(d.from.clearTime().toString()==d.appointment.from.clearTime().toString()&&(d.x+=D),d.width=d.timewidth,d.appointment.duration().days()<1&&d.width<15&&(d.width=15,D+15>a.cellWidth))){var q=a.cellWidth-D-15;d.x+=q}}}for(var T=0;T<o.length;T++){var C=o[T],k="",B="auto",i=this._views[this._view],R=C.appointment.from,z=C.appointment.to,B="auto",i=this._views[this._view],R=C.appointment.from,z=C.appointment.to;i.timeRuler&&i.timeRuler.formatString&&(B=i.timeRuler.formatString);var H=B,P=B;if("auto"===B){if(0==R.hour()&&0==R.minute()||12==R.hour()&&0==R.minute())var H="hh tt";else var H="hh:mm";if(0==z.hour()&&0==z.minute()||12==z.hour()&&0==z.minute())var P="hh tt";else var P="hh:mm"}var M=R.toString(H),V=z.toString(P),F=C.appointment.duration(),I=C.appointment.allDay||23===F.hours&&59===F.minutes&&59===F.seconds,E=C.appointment.background,O=C.appointment.subject?C.appointment.subject:"(No Title)",W=C.appointment.color,N=C.appointment.resourceId,L=a.getColors(a._resources.indexOf(N)),Z=" data-resourceId='"+N+"' ",U=C.appointment.borderColor,X=C.appointment.location;X&&X.length>1&&(X=", "+X),E||(E=L.background),U||(U=L.border),W||(W=L.color);var G=C.appointment.isRecurrentAppointment(),J=C.appointment.isException(),K="",Q=a.toTP("jqx-scheduler-appointment-status"),Y="",$=a.statuses[C.appointment.status],ee=!1;$&&("transparent"==$?ee=!1:(Y="<div style='background: "+$+"; border-right-color: "+U+"' class='"+Q+"'></div>","tentative"==$&&(Q=a.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),Y="<div style='background-color: "+U+"; border-right-color: "+U+"' class='"+Q+"'></div>"),ee=!0));var te=a.toTP("jqx-scheduler-appointment-duration-status"),ie="<div style='width: "+C.timewidth+"px; left: "+C.timex+"px;' class='"+te+"'></div>";I&&(ie=""),"exactTimeStatus"!=i.appointmentsRenderMode&&(ie="");var oe="";if(a.rtl){var Q=a.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status");Y="<div style='background: "+$+"; border-left-color: "+U+"' class='"+Q+"'></div>","tentative"==$&&(Q=a.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),Y="<div style='background-color: "+U+"; border-left-color: "+U+"' class='"+Q+"'></div>"),oe=Y,Y=""}var re="",ae=O+X;if(I||(ae=O+X+ie),a.renderAppointment){var ne=a.renderAppointment({appointment:C.appointment.boundAppointment,textColor:W,background:E,borderColor:U,html:ae,cssClass:"",style:"",width:C.width,height:C.height,view:a._views[a._view].type});if(ne){var k=ne.html;if(k!=ae&&(ae=k),W=ne.textColor,E=ne.background,U=ne.borderColor,ne.cssClass&&(re=ne.cssClass+" "),""!=ne.style){var L=a.getAppointmentColors(ne.style);E=L.background,U=L.border,W=L.color}}}if(""===K)if(ee)var K="<div style='white-space:nowrap;' class='"+a.toTP("jqx-scheduler-appointment-content")+"'>"+Y+"<div class='"+a.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ae+"</div>"+oe+"</div>";else var K="<div style='white-space:nowrap;' class='"+a.toTP("jqx-scheduler-appointment-content")+"'><div class='"+a.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ae+"</div></div>";var se="";if(a.rtl&&(se=a.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),J){var le="white"==W.toLowerCase()?a.toTP("jqx-icon-recurrence-exception-white"):a.toTP("jqx-icon-recurrence-exception");k="<div data-key='"+C.appointment.id+"'"+Z+"class='"+se+re+a.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+C.x+"px; top: "+C.y+"px; width: "+C.width+"px; line-height: "+C.height+"px; height: "+C.height+"px; border-color:"+U+"; color:"+W+"; background:"+E+";'><div class='"+le+"'></div>"+K+"<div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(G){var de="white"==W.toLowerCase()?a.toTP("jqx-icon-recurrence-white"):a.toTP("jqx-icon-recurrence");k="<div data-key='"+C.appointment.id+"'"+Z+"class='"+se+re+a.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+C.x+"px; top: "+C.y+"px; width: "+C.width+"px; line-height: "+C.height+"px; height: "+C.height+"px; border-color:"+U+"; color:"+W+"; background:"+E+";'><div class='"+de+"'></div>"+K+"<div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else k="<div data-key='"+C.appointment.id+"'"+Z+"class='"+se+re+a.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+C.x+"px; top: "+C.y+"px; width: "+C.width+"px; line-height: "+C.height+"px; height: "+C.height+"px; border-color:"+U+"; color:"+W+"; background:"+E+";'>"+K+"<div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";var he=e(k);if(he.appendTo(this.table),C.element=he,this.appointmentTooltips)if(C.appointment.tooltip)he[0].setAttribute("title",C.appointment.tooltip);else{var ce=C.appointment.subject;if(M&&!I&&(ce=M+" - "+V+" "+ce),ce){var X=C.appointment.location;X&&(ce+="\n"+X),he[0].setAttribute("title",ce)}}e.each(C.cells,function(){var t=e(this.cell),i=t.position();if(t[0].appointments||(t[0].appointments=new Array),t[0].appointments.push({ui:he,appointment:C}),C.y+C.height+2>=i.top+t.height()){he.css("visibility","hidden");var o=t.find(".jqx-icon-arrow-down");o.show(),o[0]&&(o[0].mousedown=function(){a.openedMonthCellPopup&&a.openedMonthCellPopup.remove();var o=e("<div></div>"),r=t.find("div").clone(!0);r.find("span").removeClass().addClass(a.toTP("jqx- md-cancel  ")),r.find("span")[0].mousedown=function(){o.remove()},r.addClass(a.toTP("jqx-widget-header")),o.addClass(a.toTP("jqx-widget")),o.addClass(a.toTP("jqx-window")),o.addClass(a.toTP("jqx-scheduler-month-cell-popup")),o.addClass(a.toTP("jqx-popup"));var n=e("<div></div>");o.append(r),o.append(n),n.addClass(a.toTP("jqx-widget-content jqx-disableselect"));for(var s=t.width(),l=5+t.find("div").outerHeight(),d=0;d<t[0].appointments.length;d++){var h=t[0].appointments[d].ui.clone(!0);h.css("left","3px"),h.css("top","0px"),h.css("margin-top","2px"),h.css("position","relative"),h.css("visibility","visible"),h.width(s-6),l+=h.outerHeight()+4,n.append(h),h.click(function(e){var t=a.getJQXAppointmentByElement(a.getAppointmentElement(e.target));a._raiseEvent("appointmentClick",{appointment:t.boundAppointment})}),h.dblclick(function(e){var t=a.getJQXAppointmentByElement(a.getAppointmentElement(e.target));if(!t.readOnly&&!a.editRecurrenceDialog.jqxWindow("isOpen")&&(!a._editDialog||a._editDialog&&!a._editDialog.jqxWindow("isOpen"))){!1!==a._initDialog(t)&&a._openDialog()}a._raiseEvent("appointmentDoubleClick",{appointment:t.boundAppointment})})}o.css("overflow","hidden"),o.css("position","absolute"),o.height(l),o.width(s),o.css("z-index","9999"),o.css("top",i.top),o.css("left",i.left),a.table.append(o),a.openedMonthCellPopup=o})}})}},_sortByDate:function(e,t){var i=e.getAttribute("data-date");i=this._getDateByString(i);var o=t.getAttribute("data-date");return o=this._getDateByString(o),i<o?-1:i>o?1:i==o?0:void 0},_sortAppointmentsByFrom:function(e,t){if(e.from.equals(t.from)){var i=e.to-e.from,o=1e4*i,i=t.to-t.from;if(o>1e4*i)return-1}return e.from<t.from?-1:e.from>t.from?1:e.from==t.from?0:void 0},_sortAppointmentsByTo:function(e,t){if(e.to.equals(t.to)){var i=e.to-e.from,o=1e4*i,i=t.to-t.from;if(o>1e4*i)return-1}return e.to<t.to?-1:e.to>t.to?1:e.to==t.to?0:void 0},_sortAppointmentsByResourceId:function(e,t,i){var o=i._resources.indexOf(e.resourceId),r=i._resources.indexOf(t.resourceId);return o==r?0:o<r?-1:o>r?-1:void 0},isBusyRow:function(e,t){for(var i=0;i<t.length;i++){if(t[i].row==e)return!0}return!1},isBusyColumn:function(e,t){for(var i=0;i<t.length;i++){if(t[i].column==e)return!0}return!1},getMaxTimelineAppointments:function(t,i,o,r){if(0==t.length)return 1;var a=this,n=a._views[a._view].type,s=(a._views[a._view],1),l=o,d=this.getMinutesPerScale(),h=null,c=null,p="";for(var u in t){if("indexOf"==u)break;var m=t[u];h||(h=m.from),c||(c=m.to),h=Math.min(m.from,h),c=Math.max(m.to,c),p+=m.appointment.id}if(p+=h,p+=c,i[p])return i[p];h=new e.jqx.date(h,a.timeZone),c=new e.jqx.date(c,a.timeZone);for(var l=h;h<c;){var f=l;if("timelineMonthView"===n)var g=f.addDays(1);else var g=f.addMinutes(d);var v=0;for(var u in t){if("indexOf"==u)break;var m=t[u],w=m.from,y=m.to;e.jqx.scheduler.utilities.rangeIntersection(f,g,w,y)&&v++}s=Math.max(v,s),l="timelineMonthView"===n?l.addDays(1,!1):l.addMinutes(d,!1)}return i[p]=s,s},getMaxMonthAppointments:function(t){this._views[this._view].type,this._views[this._view];if(0==t.length)return 1;for(var i=1,o=this.getViewStart().clone(),r=this.getViewEnd();o<r;){var a=o,n=e.jqx.scheduler.utilities.getEndOfDay(a),s=0;for(var l in t){if("indexOf"==l)break;var d=t[l],h=d.from,c=d.to;e.jqx.scheduler.utilities.rangeIntersection(a,n,h,c)&&s++}i=Math.max(s,i),o=o.addDays(1,!1)}return i},getMaxAllDayAppointments:function(t){var i=(this._views[this._view].type,this._views[this._view],this);if(0==t.length)return 1;var o=function(t){for(var o=1,r=i.getViewStart(),a=i.getViewEnd();r<a;){var n=r,s=e.jqx.scheduler.utilities.getEndOfDay(n),l=0;for(var d in t){if("indexOf"==d)break;var h=t[d],c=h;if(h.appointment&&(c=h.appointment),1!=c.hidden&&c.duration&&(c.allDay||c.duration().days()>=1)){var p=h.from,u=h.to;e.jqx.scheduler.utilities.rangeIntersection(n,s,p,u)&&l++}}o=Math.max(l,o),r=r.addDays(1,!1)}return o};if(this._resources.length<2||!this.resources.orientation||"none"==this.resources.orientation)var r=o(t);else{for(var a=1,n=0;n<this._resources.length;n++){for(var s=this._resources[n],l=new Array,d=0;d<t.length;d++)t[d].appointment&&t[d].appointment.resourceId==s?l.push(t[d]):void 0!=t[d].resourceId&&t[d].resourceId==s&&l.push(t[d]);var r=o(l);a=Math.max(a,r)}r=a}return r},getMinutesPerScale:function(){var e=(this._views[this._view].type,this._views[this._view]),t=30,i="halfHour";switch(e.timeRuler&&e.timeRuler.scale&&(i=e.timeRuler.scale),i){case"sixtyMinutes":case"hour":t=60;break;case"thirtyMinutes":case"halfHour":t=30;break;case"fifteenMinutes":case"quarterHour":t=15;break;case"tenMinutes":t=10;break;case"fiveMinutes":t=5}return t},getMaxColumnsInADay:function(t){var i=(this._views[this._view].type,this._views[this._view]),o=30,r="halfHour";switch(i.timeRuler&&i.timeRuler.scale&&(r=i.timeRuler.scale),r){case"sixtyMinutes":case"hour":o=60;break;case"thirtyMinutes":case"halfHour":o=30;break;case"fifteenMinutes":case"quarterHour":o=15;break;case"tenMinutes":o=10;break;case"fiveMinutes":o=5}if(0==t.length)return 1;for(var a=1,n=t[0].from.clone(),s=n.addMinutes(o),l=e.jqx.scheduler.utilities.getEndOfDay(n);n<l;){var d=n,h=s,c=0;for(var p in t){if("indexOf"==p)break;var u=t[p];if(u.from||u.to){var m=u.from,f=u.to;e.jqx.scheduler.utilities.rangeIntersection(d,h,m,f)&&c++}}a=Math.max(c,a),n=n.addMinutes(o,!1),s=s.addMinutes(o,!1)}return a},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_updatecolumnwidths:function(){var t=this,i=this._hostWidth,o=i;"hidden"!==this.vScrollBar.css("visibility")&&this.scrollBarSize>0&&(i-=parseInt(this.scrollBarSize)+6,this.rtl&&(i+=3),o=i);var r="";if(void 0!=this.columns&&void 0!=this.columns.records){var t=this,a=!1,n=new Array;e.each(this.columns.records,function(e,a){if(!this.hidden){if(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth){var a=0;"hidden"==t.vScrollBar[0].style.visibility||t.scrollBarSize;0==t.scrollBarSize&&0,a=parseFloat(this.width)*o/100,void 0!=this._percentagewidth&&(a=parseFloat(this._percentagewidth)*o/100),a<this.minwidth&&"auto"!=this.minwidth&&(a=this.minwidth),a>this.maxwidth&&"auto"!=this.maxwidth&&(a=this.maxwidth),i-=Math.round(a)}else"auto"==this.width||this._width?r+=this.text:i-=this.width;"auto"==this._width&&(n[n.length]=this)}});var s=this.columnsheader.find("#columntable"+this.element.id);if(0!=s.length){var l=0,d=(s.find(".jqx-grid-column-header"),0);e.each(this.columns.records,function(r,s){var h=this.element,c=!1,p=this.width,u=this.width;if(-1==this.width.toString().indexOf("%")&&void 0==this._percentagewidth||(p=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*o/100:parseFloat(this.width)*o/100,p=Math.round(p),c=!0),"auto"==this.width||this._width||c)if(c)p<this.minwidth&&"auto"!=this.minwidth&&(p=this.minwidth,this.width=p),p>this.maxwidth&&"auto"!=this.maxwidth&&(p=this.maxwidth,this.width=p),parseInt(h[0].style.width)!=p&&(h.width(p),this.width=p);else{
var m=t.columns.records.length,f=t._views[t._view].type;if("dayView"===f||"weekView"===f){var g=t._views[t._view];g.timeRuler?(g.timeRuler.timeZones&&(m-=g.timeRuler.timeZones.length),m--):m--}else"monthView"===f&&t._views[t._view].showWeekNumbers&&m--;var v=Math.floor(i*(1/m));t.resources&&t.resources.resourceColumnWidth&&"auto"!=t.resources.resourceColumnWidth?v=t.resources.resourceColumnWidth:t.resources&&t.resources.resourceColumnWidth&&"auto"==t.resources.resourceColumnWidth&&"horizontal"==t.resources.orientation&&(v=Math.round((2+i)*(1/t._getColumnsLengthPerView())));var w=i*(1/m)-v;if(l+=w,l>=1&&(l-=1,v++),l>=.5&&r==t.columns.records.length-1&&v++,"agendaView"==f&&(v=i/n.length,v++),v<0){var y=e("<span>"+this.text+"</span>");e(document.body).append(y),v=10+y.width(),y.remove()}v<this.minwidth&&(v=this.minwidth),v>this.maxwidth&&(v=this.maxwidth),this._width="auto",this.width=parseInt(v),h.width(this.width)}else parseInt(h[0].style.width)!=this.width&&h.width(this.width);parseInt(h[0].style.left)!=d&&h.css("left",d),this.hidden||(d+=this.width),this._requirewidthupdate=!0,u!==this.width&&(a=!0)}),this.columnsheader.width(2+d),s.width(this.columnsheader.width()),this._resizecolumnGroups(),a&&(this._renderrows(),t._arrange())}}},_rendercolumnheaders:function(){var t=this;if(!this._updating){var i=this._views[this._view];this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var o=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');o[0].cells=new Array;var r=0,a="";this._hostWidth||(this._hostWidth=this.host.width());var n=this._hostWidth,s=n,l=this.getRows().length,d=this.rowsHeight;this.isTouchDevice()&&(d=this.touchRowsHeight),l*d>this.host.height()&&(this.vScrollBar[0].style.visibility="inherit"),"hidden"!==this.vScrollBar.css("visibility")&&this.scrollBarSize>0&&(n-=parseInt(this.scrollBarSize)+6,this.rtl&&(n+=3),s=n);var h=new Array,c=new Array;if(e.each(this.columns.records,function(e,t){if(!this.hidden)if("auto"==this.width||this._width)a+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)n-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)n-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){var t=0;t=parseFloat(this.width)*s/100,t<this.minwidth&&"auto"!=this.minwidth&&(t=this.minwidth),t>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),n-=t}else"string"==typeof this.width&&(this.width=parseInt(this.width)),n-=this.width;null!=this.width&&"auto"!=this.width||(c[c.length]=this),h[h.length]=this}),this.rtl)for(var p=0;p<h.length;p++)this.columns.replace(p,h[p]);var u=this.headerZIndex,m=t.columnsHeight,f=function(e,i){var o=t.columnGroupslevel*t.columnsHeight;return o-=i.level*t.columnsHeight},g=0,v=document.createDocumentFragment();e.each(this.columns.records,function(a,l){this.height=t.columnsHeight,t.columnGroups&&t.columnGroups.length&&(this.height=f(this.datafield,this),m=this.height);var d=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(d+=" "+t.toTP("jqx-grid-column-header-rtl")),t.enableBrowserSelection||(d+=" "+t.toTP("jqx-disableselect"));var h=t.rtl?u++:u--,p=document.createElement("div");p.setAttribute("role","columnheader"),p.style.position="absolute",p.style.zIndex=h,p.style.height="100%",p.className=d;var w=e(p);t.rtl&&0===a&&(w[0].style.borderLeftColor="transparent"),t.columnGroups?(w[0].style.height=m+"px",w[0].style.bottom="0px"):this.timeColumn||(w[0].style.height=-1+m+"px"),this.uielement=w,this.element=w,""!=this.classname&&this.classname&&w.addClass(this.classname);var y=this.width,x=!1;if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&void 0==this._percentagewidth||(y=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*s/100:parseFloat(this.width)*s/100,y=Math.round(y),x=!0),"auto"==this.width||this._width||x)if(x)y<this.minwidth&&"auto"!=this.minwidth&&(y=this.minwidth),y>this.maxwidth&&"auto"!=this.maxwidth&&(y=this.maxwidth),void 0!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),w.width(y),this.width=y;else{var b=t.columns.records.length,A=t._views[t._view].type;if("dayView"===A||"weekView"===A){var T=t._views[t._view];T.timeRuler?(T.timeRuler.timeZones&&(b-=T.timeRuler.timeZones.length),b--):b--}else"monthView"===A&&t._views[t._view].showWeekNumbers&&b--;var _=Math.floor(n*(1/b));t.resources&&t.resources.resourceColumnWidth&&"auto"!=t.resources.resourceColumnWidth?_=t.resources.resourceColumnWidth:t.resources&&t.resources.resourceColumnWidth&&"auto"==t.resources.resourceColumnWidth&&"horizontal"==t.resources.orientation&&(_=Math.round((2+n)*(1/t._getColumnsLengthPerView())));var S=n*(1/b)-_;g+=S,g>=1&&(g-=1,_++),g>=.5&&a==t.columns.records.length-1&&_++,isNaN(_)&&(_=this.minwidth),"agendaView"==A&&(_=n/c.length,_++),_<0&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),_=10+$element.width(),$element.remove()),_<this.minwidth&&(_=this.minwidth),_>this.maxwidth&&(_=this.maxwidth),this._width="auto",this.width=parseInt(_),y=this.width,w.width(this.width)}else y<this.minwidth&&"auto"!=this.minwidth&&(y=this.minwidth),y>this.maxwidth&&"auto"!=this.maxwidth&&(y=this.maxwidth),w[0].style.width=parseInt(y)+"px";this.timeColumn&&(w.css("border-bottom-color","transparent"),i.timeRuler&&i.timeRuler.timeZones&&a<i.timeRuler.timeZones.length&&w.css("border-right-color","transparent"),1==this.tableRows&&w.addClass(t.toTP("jqx-scheduler-time-column"))),this.hidden&&w.css("display","none");e(w.children()[0]);o[0].cells[a]=w[0];var D=t._rendercolumnheader(this.text,this.align,m,t);w[0].innerHTML=D,v.appendChild(w[0]);w[0].style.left=r+"px",this.hidden||(r+=y)}),o[0].appendChild(v),this.columnsheader[0].style.width=r>0?2+r+"px":r+"px",this._columnswidth=r,this.columnsrow=o,t.columnsheader.append(o),o[0].style.width=r+"px",this.columnGroups&&this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(this.columnGroups){var t=this.headerZIndex+this.columns.records.length,i=this,o=i.toTP("jqx-grid-column-header")+" "+i.toTP("jqx-grid-columngroup-header")+" "+i.toTP("jqx-widget-header");i.rtl&&(o+=" "+i.toTP("jqx-grid-columngroup-header-rtl"));var r=this.columnsheader.find("#columntable"+this.element.id);r.find("jqx-grid-columngroup-header").remove();for(var a=0;a<this.columnGroupslevel-1;a++)for(var n=0;n<this.columnGroups.length;n++){var s=this.columnGroups[n],l=s.level;if(l===a){var d=l*this.columnsHeight,h=99999;if(s.groups){var c=function(e){for(var t=0,i=0;i<e.groups.length;i++){var o=e.groups[i];o.groups?t+=c(o):o.hidden||(t+=o.width,h=Math.min(parseInt(o.element[0].style.left),h))}return t};s.width=c(s),s.left=h;var p=this.columnsHeight,u=t--,m=e('<div role="columnheader" style="z-index: '+u+';position: absolute;" class="'+o+'"></div>'),f=e(this._rendercolumnheader(s.text,s.align,this.columnsHeight,this));s.renderer&&s.renderer(m,s.text),m.append(f),m[0].style.left=h+"px",0===h&&(m[0].style.borderLeftColor="transparent"),m[0].style.top=d+"px",m[0].style.height=p+"px",m[0].style.width=-1+s.width+"px",r.append(m),s.element=m}}}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var e=0;e<this.columnGroups.length;e++){var t=this.columnGroups[e],i=t.level,o=i*this.columnsHeight,r=99999;if(t.groups){var a=function(e){for(var t=0,i=0;i<e.groups.length;i++){var o=e.groups[i];o.groups?t+=a(o):(t+=o.width,r=Math.min(parseInt(o.element[0].style.left),r))}return t};t.width=a(t),t.left=r;var n=this.columnsHeight,s=t.element;s[0].style.left=r+"px",s[0].style.top=o+"px",s[0].style.height=n+"px",s[0].style.width=-1+t.width+"px"}}},_removecolumnhandlers:function(t){var i=this,o=e(t.element);if(o.length>0){i.removeHandler(o,"mouseenter"),i.removeHandler(o,"mouseleave");var r=e(t.filtericon);i.removeHandler(r,"mousedown"),i.removeHandler(r,"click"),i.removeHandler(o,"click")}},destroy:function(){var t=this;t._removeHandlers(),t._editDialog&&t._editDialog.jqxWindow("destroy"),t.menu&&t.menu.jqxMenu("destroy"),t.editRecurrenceDialog&&t.editRecurrenceDialog.jqxWindow("destroy"),t.vScrollBar.jqxScrollBar("destroy"),t.hScrollBar.jqxScrollBar("destroy"),delete t.vScrollBar,delete t.hScrollBar,delete t._mousewheelfunc,e.jqx.utilities.resize(t.host,null,!0),t.host.remove()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.host.height(e.height),e.host.width(e.width),e._updatesize(!1,!0))},propertyChangedHandler:function(t,i,o,r){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&r!==o)if("filterable"==i)t._render();else if("view"==i)t.setView(r);else if("views"==i){t._columns=null,t._views=new Array,t._view=t.view;for(var a=0;a<t.views.length;a++)"string"===e.type(t.views[a])?t._views.push({type:t.views[a]}):t._views.push(t.views[a]);for(var a=0;a<t._views.length;a++)if(t._views[a].type==t.view){t._view=a;break}t._render()}else if("height"===i)t.host.height(t.height),t.host.width(t.width),t._updatesize(!1,!0);else if("width"===i)t.host.height(t.height),t.host.width(t.width),t._updatesize(!0,!1);else if("source"===i)t.updateBoundData();else if("resources"==i)t.updateBoundData();else if("columns"===i||"columnGroups"===i)t._columns=null,t._render();else if("selectionMode"===i)t.selectionMode=r.toLowerCase();else if("touchMode"==i)t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:r}),t.hScrollBar.jqxScrollBar({touchMode:r}),t.refresh(),t._addHandlers();else{if("enableHover"==i)return;"showLegend"==i?(t.legendbartop.show(),t.legendbarbottom.show(),t.refresh()):"disabled"==i?(r?t.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),t.host.find(".jqx-grid-group-collapse").css("cursor",r?"default":"pointer"),t.host.find(".jqx-grid-group-expand").css("cursor",r?"default":"pointer")):"columnsHeight"==i?t._render():"localization"==i?(t._render(),t.editRecurrenceDialog&&(t.editRecurrenceDialog.jqxWindow("destroy"),t.createEditRecurrenceDialog())):"theme"==i?(e.jqx.utilities.setTheme(o,r,t.host),t._editDialog&&e.jqx.utilities.setTheme(o,r,t._editDialog),t.editRecurrenceDialog&&e.jqx.utilities.setTheme(o,r,t.editRecurrenceDialog),t.menu&&t.menu.jqxMenu({theme:t.theme}),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.hScrollBar.jqxScrollBar({theme:t.theme}),t.refresh()):t.refresh()}},_rendercolumnheader:function(e,t,i,o){var r="4px";o.columnGroups?(r=i/2-this._columnheight/2,r<0&&(r=4),r+="px"):25!=this.columnsHeight&&(r=this.columnsHeight/2-this._columnheight/2,r<0&&(r=4),r+="px");var a='<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+r+"; margin-top: "+r+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>";if(this.columnRenderer){var n=this.columnRenderer(e,t,i,a);if(void 0!=n)return n}return a}})}(jqxBaseFramework);