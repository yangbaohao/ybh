!function(a){a.extend(a.jqx._jqxChart.prototype,{_moduleWaterfall:!0,_isSummary:function(a,e){for(var i=this.seriesGroups[a],t=0;t<i.series.length;t++)if(void 0!==i.series[t].summary&&(summaryValue=this._getDataValue(e,i.series[t].summary,a),void 0!==summaryValue))return!0;return!1},_applyWaterfall:function(a,e,i,t,r,s,u,f,l){var o=this.seriesGroups[i];if(0==a.length)return a;for(var v=t,N={},n=[],m=void 0,h=[],_=0;_<o.series.length;_++)h.push(this._isSerieVisible(i,_));for(var g={},y=0;y<e;y++)for(var D=t,p=0,d=this._isSummary(i,y),_=0;_<a.length;_++)if(h[_]){var x=0;if(d){x=D==t?r:0,a[_][y].value=N[_],a[_][y].summary=!0,m=a[_][y].value<x,f&&(m=!m);var O=0;O=isNaN(s)?this._getDataPointOffsetDiff(a[_][y].value,x,x,NaN,u,t,f):this._getDataPointOffsetDiff(a[_][y].value+p,0==p?r:p,x||r,s,u,t,f),a[_][y].to=D+(m?O:-O),a[_][y].from=D,l&&(p+=a[_][y].value,D=a[_][y].to)}else{var P=l?-1:_;if(!isNaN(a[_][y].value)){void 0===g[P]&&(x=r,g[P]=!0),m=a[_][y].value<x,f&&(m=!m);var V=NaN,O=NaN;V=l?v:0==y?t:a[_][n[_]].to;var O=0;O=isNaN(s)?this._getDataPointOffsetDiff(a[_][y].value,x,x,NaN,u,t,f):this._getDataPointOffsetDiff(a[_][y].value+(isNaN(N[P])?0:N[P]),isNaN(N[P])?r:N[P],x||r,s,u,V,f),a[_][y].to=v=V+(m?O:-O),a[_][y].from=V,isNaN(N[P])?N[P]=a[_][y].value:N[P]+=a[_][y].value,-1==P&&(isNaN(N[_])?N[_]=a[_][y].value:N[_]+=a[_][y].value),l||(n[_]=y)}}}return a}})}(jqxBaseFramework);