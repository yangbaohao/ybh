!function(e){function t(t){return function(r,a){"string"!=typeof r&&(a=r,r="*");var n,i,o,s=r.toLowerCase().split(y),d=0,l=s.length;if(e.isFunction(a))for(;d<l;d++)n=s[d],o=/^\+/.test(n),o&&(n=n.substr(1)||"*"),i=t[n]=t[n]||[],i[o?"unshift":"push"](a)}}function r(e,t,a,n,i,o){i=i||t.dataTypes[0],o=o||{},o[i]=!0;for(var s,d=e[i],l=0,c=d?d.length:0,u=e===b;l<c&&(u||!s);l++)"string"==typeof(s=d[l](t,a,n))&&(!u||o[s]?s=void 0:(t.dataTypes.unshift(s),s=r(e,t,a,n,s,o)));return!u&&s||o["*"]||(s=r(e,t,a,n,"*",o)),s}function a(t,r){var a,n,i=e.jqx.data.ajaxSettings.flatOptions||{};for(a in r)void 0!==r[a]&&((i[a]?t:n||(n={}))[a]=r[a]);n&&e.extend(!0,t,n)}function n(e,t,r){var a,n,i,o,s=e.contents,d=e.dataTypes,l=e.responseFields;for(n in l)n in r&&(t[l[n]]=r[n]);for(;"*"===d[0];)d.shift(),void 0===a&&(a=e.mimeType||t.getResponseHeader("content-type"));if(a)for(n in s)if(s[n]&&s[n].test(a)){d.unshift(n);break}if(d[0]in r)i=d[0];else{for(n in r){if(!d[0]||e.converters[n+" "+d[0]]){i=n;break}o||(o=n)}i=i||o}if(i)return i!==d[0]&&d.unshift(i),r[i]}function i(e,t){var r,a,n,i,o=e.dataTypes.slice(),s=o[0],d={},l=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),o[1])for(r in e.converters)d[r.toLowerCase()]=e.converters[r];for(;n=o[++l];)if("*"!==n){if("*"!==s&&s!==n){if(!(r=d[s+" "+n]||d["* "+n]))for(a in d)if(i=a.split(" "),i[1]===n&&(r=d[s+" "+i[0]]||d["* "+i[0]])){!0===r?r=d[a]:!0!==d[a]&&(n=i[0],o.splice(l--,0,n));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+s+" to "+n}}}s=n}return{state:"success",data:t}}function o(){try{return new window.XMLHttpRequest}catch(e){}}function s(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}e.jqx.observableArray=function(t,r){if("string"==typeof t&&(t=e.parseJSON(t)),!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var a=Object.defineProperty;Object.defineProperty=function(e,t,r){if(a)try{return a(e,t,r)}catch(e){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in r&&Object.prototype.__defineGetter__.call(e,t,r.get),Object.prototype.__defineSetter__&&"set"in r&&Object.prototype.__defineSetter__.call(e,t,r.set),"value"in r?e[t]=r.value:e[t]||(e[t]=r),e}}Array.prototype.forEach||(Array.prototype.forEach=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();var a,n=arguments[1];for(a=0;a<r;a++)a in t&&e.call(n,t[a],a,t)}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r});var n,i=this,o=[];i.notifier=null,i.name="observableArray",i.observing=!0,i.changes=new Array;var r=r;return i.observe=function(){i.observing=!0,1==arguments.length&&(r=arguments[0])},i.unobserve=function(){i.observing=!1},i.toArray=function(){return o.slice(0)},i.toJSON=function(e,t){function r(e){return'"'+e.replace(f,function(e){var t=h[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'}function a(e){return e<10?"0"+e:e}function n(e){return isFinite(e.valueOf())?e.getUTCFullYear()+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+'Z"':"null"}function i(e){var t,r=e.length,a=[];for(t=0;t<r;t++)a.push(c(t,e)||"null");return"["+a.join(",")+"]"}function s(t){var a,n,i=[];for(a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(""!=a&&e&&-1===e.indexOf(a))continue;n=c(a,t),n&&i.push(r(a)+":"+n)}return"{"+i.join(",")+"}"}function d(e){switch(Object.prototype.toString.call(e)){case"[object Date]":return n(e);case"[object Array]":return i(e)}return s(e)}function l(e,t){switch(t){case"string":return r(e);case"number":case"float":case"integer":case"int":return isFinite(e)?e:"null";case"boolean":return e}return"null"}function c(e,t){var r=t[e],a=typeof r;return r&&"object"==typeof r&&"function"==typeof r.toJSON&&(r=r.toJSON(e),a=typeof r),/(number|float|int|integer|string|boolean)/.test(a)||!r&&"object"===a?l(r,a):d(r)}var u=o;t&&(u=t);var f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return!e&&window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(u):c("",{"":u})},i.defineIndexProperty=function(t){if(!(t in i)){var r=function(t,r,a,s){var d=t[r],l=d,c=function(){return l},u=function(t){if(d=t,l!==d){var a=l;if(l=d,"function"==typeof n){var c=o.indexOf(s),u="",f=function(t,a){Object.getOwnPropertyNames(t).forEach(function(n){var i=e.type(t[n]);"array"==i||"object"==i?f(t[n],a+"."+n):r===n&&(u=a+"."+n)})};f(s,c),n({object:i,type:"update",path:u,index:c,name:r,newValue:d,oldValue:a})}}return l=d,d};void 0!=t[r]&&"length"!=r&&(Object.defineProperty?Object.defineProperty(t,r,{get:c,set:u}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(t,r,c),Object.prototype.__defineSetter__.call(t,r,u)))},a=function(t,n,i){/(number|float|int|integer|string|boolean)/.test(e.type(t))||void 0!==t&&Object.getOwnPropertyNames(t).forEach(function(o){var s=e.type(t[o]);"array"==s||"object"==s?(r(t,o,0,i),a(t[o],n+"."+o,i)):r(t,o,0,i)})};Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){return o[t]},set:function(e){var r=o[t];i.toJSON(null,r)!=i.toJSON(null,e)&&(o[t]=e,"function"==typeof n&&n({object:i,type:"update",path:t.toString(),index:t,name:"index",newValue:e,oldValue:r}),a(e,t,e))}}),a(i[t],t,i[t])}},i.push=function(){for(var e,t=0,r=arguments.length;t<r;t++)e=o.length,o.push(arguments[t]),i.defineIndexProperty(e),"function"==typeof n&&n({object:i,type:"add",name:"length",index:e,newValue:o.length,oldValue:e});return o.length},i.pop=function(){if(~o.length){var e=o.length-1,t=o.pop();return delete i[e],"function"==typeof n&&n({object:i,type:"delete",name:"length",index:e,newValue:o.length,oldValue:e}),t}},i.unshift=function(){for(var e=o.length,t=0,r=arguments.length;t<r;t++)o.splice(t,0,arguments[t]),i.defineIndexProperty(o.length-1);return"function"==typeof n&&n({object:i,type:"add",index:0,name:"length",newValue:o.length,oldValue:e}),o.length},i.shift=function(){var e=o.length;if(~o.length){var t=o.shift();return 0===o.length&&delete i[e],"function"==typeof n&&n({object:i,type:"delete",index:e,name:"length",newValue:o.length,oldValue:e}),t}},i.slice=function(t,r,a){var n=o.slice(t,r);return new e.jqx.observableArray(n,a)},i.splice=function(t,r,a){var s,d=[];for(t=~t?t:o.length-t,r=(null==r?o.length-t:r)||0;r--;)s=o.splice(t,1)[0],d.push(s),delete i[o.length],"function"==typeof n&&n({object:i,type:"delete",index:t,name:"length",newValue:-1,oldValue:t});for(var l=2,c=arguments.length;l<c;l++)o.splice(t,0,arguments[l]),defineIndexProperty(o.length-1),"function"==typeof n&&n({object:i,type:"add",index:t,name:"length",newValue:o.length-1,oldValue:t}),t++;return new e.jqx.observableArray(d,a)},Object.defineProperty(i,"length",{configurable:!1,enumerable:!0,get:function(){return o.length},set:function(e){var t=Number(e);if(!(t%1==0&&t>=0))throw new RangeError("Invalid array length");return t<o.length?i.splice(t):t>o.length&&i.push.apply(i,new Array(t-o.length)),e}}),e.jqx.observableArray.prototype.fromArray=function(t,r){return new e.jqx.observableArray(t,r)},e.jqx.observableArray.prototype.clone=function(){var t=new e.jqx.observableArray(o,r);return t.observing=i.observing,t.changes=i.changes,t.notifier=i.notifier,t},i.remove=function(e){if(e<0||e>=i.length)throw new Error("Invalid index : "+e);if(i.hasOwnProperty(e)){var t=i[e];return i[e]=void 0,o[e]=void 0,"function"==typeof n&&n({object:i,type:"delete",index:e,name:"index",newValue:void 0,oldValue:t}),!0}return!1},i.concat=function(t,r){var a=o.concat(t);return new e.jqx.observableArray(a,r)},Object.getOwnPropertyNames(Array.prototype).forEach(function(e){if(!(e in i)){var t=function(){var t=i.observing;i.observing=!1;var r=o[e],a=r.apply(o,arguments);return i.observing=t,a};Object.defineProperty(i,e,{configurable:!1,enumerable:!0,writeable:!1,value:t})}}),i.set=function(t,r){if("string"==e.type(t)&&t.split(".").length>1){for(var a=t.split("."),n=i,o=0;o<a.length;o++){if(0===o&&a[o]>=i.length)throw new Error("Invalid Index: "+t);o<a.length-1?n=n[a[o]]:n[a[o]]=r}return!0}return t>=i.length?i.push(r):i[t]=r,!0},i.get=function(e){return i[e]},t instanceof Array&&i.push.apply(i,t),n=function(){i.observing&&(arguments&&arguments[0]&&i.changes.push(arguments[0]),r&&r.apply(i,arguments),i.notifier&&i.notifier.apply(i,arguments))},i},e.jqx.formatDate=function(t,r,a){return e.jqx.dataFormat.formatdate(t,r,a)},e.jqx.formatNumber=function(t,r,a){return e.jqx.dataFormat.formatnumber(t,r,a)},e.jqx.dataAdapter=function(t,r){if(void 0!=t&&(void 0!==t.dataFields&&(t.datafields=t.dataFields),void 0!==t.dataType&&(t.datatype=t.dataType),void 0!==t.localData&&(t.localdata=t.localData),void 0!==t.sortColumn&&(t.sortcolumn=t.sortColumn),void 0!==t.sortDirection&&(t.sortdirection=t.sortDirection),void 0!==t.sortOrder&&(t.sortdirection=t.sortOrder),void 0!==t.formatData&&(t.formatdata=t.formatData),void 0!==t.processData&&(t.processdata=t.processData),void 0!==t.pageSize&&(t.pagesize=t.pageSize),void 0!==t.pageNum&&(t.pagenum=t.pageNum),void 0!==t.updateRow&&(t.updaterow=t.updateRow),void 0!==t.addRow&&(t.addrow=t.addRow),void 0!==t.deleteRow&&(t.deleterow=t.deleteRow),void 0!==t.contentType&&(t.contenttype=t.contentType),void 0!=t.totalRecords&&(t.totalrecords=t.totalRecords),void 0!=t.loadError&&(t.loadError=t.loadError),void 0!=t.sortComparer&&(t.sortcomparer=t.sortComparer)),this._source=t,this._options=r||{},void 0!=t.beforeLoadComplete&&(this._options.beforeLoadComplete=this._source.beforeLoadComplete),void 0!=t.downloadComplete&&(this._options.downloadComplete=this._source.downloadComplete),void 0!=t.loadComplete&&(this._options.loadComplete=this._source.loadComplete),void 0!=t.autoBind&&(this._options.downloadComplete=this._source.autoBind),void 0!=t.formatData&&(this._options.formatData=this._source.formatData),void 0!=t.loadError&&(this._options.loadError=this._source.loadError),void 0!=t.beforeSend&&(this._options.beforeSend=this._source.beforeSend),void 0!=t.contentType&&(this._options.contentType=this._source.contentType),void 0!=t.async&&(this._options.async=this._source.async),void 0!=t.loadServerData&&(this._options.loadServerData=this._source.loadServerData),void 0!=t.uniqueDataFields&&(this._options.uniqueDataFields=this._source.uniqueDataFields),this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,void 0!=t&&null!=t.localdata&&"function"==typeof t.localdata){var a=t.localdata();if(null!=a){t._localdata=t.localdata;var n=this;t._localdata.subscribe&&(n._oldlocaldata=[],t._localdata.subscribe(function(t){var r=function(t){return e.isArray(t)?e.makeArray(r(e(t))):e.extend(!0,{},t)};0!=n.suspendKO&&void 0!=n.suspendKO&&0!=n._oldlocaldata.length||(n._oldlocaldata=r(t))},t._localdata,"beforeChange"),t._localdata.subscribe(function(e){if(0==n.suspendKO||void 0==n.suspendKO){var r="";n._oldrecords=n.records,0==n._oldlocaldata.length&&(t.localdata=t._localdata()),0==n._oldlocaldata.length?r="change":e&&(n._oldlocaldata.length==e.length&&(r="update"),n._oldlocaldata.length>e.length&&(r="remove"),n._oldlocaldata.length<e.length&&(r="add")),n.dataBind(null,r)}},t._localdata,"change"),n._knockoutdatasource=!0),t.localdata=a}}1==this._options.autoBind&&this.dataBind()},e.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(e){this.isUpdating=!1,0!=e&&(this._changedrecords&&this._changedrecords.length>0?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(t,r,a){return e.jqx.dataFormat.formatdate(t,r,a)},formatNumber:function(t,r,a){return e.jqx.dataFormat.formatnumber(t,r,a)},dataBind:function(t,r){if(1!=this.isUpdating){var a=this._source;if(a){a.generatedfields&&(a.datafields=null,a.generatedfields=null),e.jqx.dataFormat.datescache=new Array,null!=a.dataFields&&(a.datafields=a.dataFields),void 0==a.recordstartindex&&(a.recordstartindex=0),void 0==a.recordendindex&&(a.recordendindex=0),void 0==a.loadallrecords&&(a.loadallrecords=!0),void 0==a.root&&(a.root=""),void 0==a.record&&(a.record=""),void 0!=a.sort&&(this.sort=a.sort),void 0!=a.filter?this.filter=a.filter:this.filter=null,void 0!=a.sortcolumn&&(this.sortcolumn=a.sortcolumn),void 0!=a.sortdirection&&(this.sortdirection=a.sortdirection),void 0!=a.sortcomparer&&(this.sortcomparer=a.sortcomparer),this.records=new Array;var n=this._options||{};if(this.virtualmode=void 0!=n.virtualmode&&n.virtualmode,this.totalrecords=void 0!=n.totalrecords?n.totalrecords:0,this.pageable=void 0!=n.pageable&&n.pageable,this.pagesize=void 0!=n.pagesize?n.pagesize:0,this.pagenum=void 0!=n.pagenum?n.pagenum:0,this.cachedrecords=void 0!=n.cachedrecords?n.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=void 0!=n.updaterow?n.updaterow:null,this.addrow=void 0!=n.addrow?n.addrow:null,this.deleterow=void 0!=n.deleterow?n.deleterow:null,this.cache=void 0!=n.cache&&n.cache,this.unboundmode=!1,void 0!=a.formatdata&&(n.formatData=a.formatdata),void 0!=a.data&&(void 0==n.data&&(n.data={}),e.extend(n.data,a.data)),void 0!=a.mapchar?this.mapChar=a.mapchar?a.mapchar:">":this.mapChar=n.mapChar?n.mapChar:">",(n.unboundmode||a.unboundmode)&&(this.unboundmode=n.unboundmode||a.unboundmode),void 0!=a.cache&&(this.cache=a.cache),this.koSubscriptions)for(var i=0;i<this.koSubscriptions.length;i++)this.koSubscriptions[i].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var o=this,s=a.datatype;"csv"!==a.datatype&&"tab"!==a.datatype&&"tsv"!==a.datatype&&"text"!=a.datatype||(s="text");var d=void 0==n.async||n.async;switch(void 0!=a.async&&(d=a.async),s){case"local":case"array":case"observablearray":case"observableArray":default:if(void 0==a.localdata&&a.length){a.localdata=new Array;for(var l=0;l<a.length;l++)a.localdata[a.localdata.length]=a[l],a[l].uid=l}a.beforeprocessing&&e.isFunction(a.beforeprocessing)&&a.beforeprocessing(a.localdata);var c=a.localdata.length;if(this.totalrecords=this.virtualmode?a.totalrecords||c:c,this.unboundmode){this.totalrecords=this.unboundmode?a.totalrecords||c:c;var u=a.datafields?a.datafields.length:0;if(u>0)for(var l=0;l<this.totalrecords;l++){for(var f={},h=0;h<u;h++)f[a.datafields[h].name]="";f.uid=l,a.localdata[a.localdata.length]=f}}void 0==this.totalrecords&&(this.totalrecords=0);var u=a.datafields?a.datafields.length:0,p=function(t,r){for(var n={},i=0;i<r;i++){var s=a.datafields?a.datafields[i]:{},d="";if(void 0!=s&&null!=s){if(s.map){if(e.isFunction(s.map))d=s.map(t);else{var l=s.map.split(o.mapChar);if(l.length>0){for(var c=t,u=0;u<l.length;u++)c&&(c=c[l[u]]);d=c}else d=t[s.map]}void 0!=d&&null!=d?d=d.toString():void 0==d&&null!=d&&(d="")}var f=!1;""==d&&(f=!0,void 0!=(d=t[s.name])&&null!=d&&(a._localdata&&d.subscribe?d=d():"array"!=s.type&&(d=d.toString()))),"[object Object]"==d&&s.map&&f&&(d=""),d=o.getvaluebytype(d,s),void 0!=s.displayname?n[s.displayname]=d:n[s.name]=d}}return n};if(a._localdata){this._changedrecords=[],this.records=new Array;var v=a._localdata();if(e.each(v,function(t,n){if("string"==typeof n)o.records.push(n);else{var i={},s=0,d=this;e.each(this,function(r,n){var l=null,c="string",f=r;if(u>0){for(var h=!1,p=!1,v=0;v<u;v++){var g=a.datafields[v];if(void 0!=g&&g.name==r){h=!0,l=g.map,c=g.type,f=g.name;break}if(void 0!=g&&g.map&&g.map.indexOf(r)>=0){h=!0,l=g.map,c=g.type,f=g.name,p=!0;var m=d[r];if(null!=l){var y=l.split(o.mapChar);if(y.length>0){for(var b=d,x=0;x<y.length;x++)b=b[y[x]];m=b}else m=d[l]}"string"!=c&&(m=o.getvaluebytype(m,{type:c})),i[f]=m,void 0!=i[f]&&(s+=i[f].toString().length+i[f].toString().substr(0,1))}}if(!h)return!0;if(p)return!0}if(e.isFunction(d[r])){var m=d[r]();if("string"!=c&&(m=o.getvaluebytype(m,{type:c})),i[r]=m,d[r].subscribe){var S=t;o.koSubscriptions[o.koSubscriptions.length]=d[r].subscribe(function(e){var t=S;i[r]=e;var a={index:t,oldrecord:i,record:i};if(o._changedrecords.push(a),!o.isUpdating)return o.callBindingUpdate("update"),o._changedrecords=[],!1})}}else{var m=d[r];if(null!=l){var y=l.split(o.mapChar);if(y.length>0){for(var b=d,x=0;x<y.length;x++)b=b[y[x]];m=b}else m=d[l]}"string"!=c&&(m=o.getvaluebytype(m,{type:c})),i[f]=m,void 0!=i[f]&&(s+=i[f].toString().length+i[f].toString().substr(0,1))}});var l=o.getid(a.id,d,t);if(i.uid=l,o.records.push(i),i._koindex=s,o._oldrecords){var c=o.records.length-1;if("update"==r&&o._oldrecords[c]._koindex!=s){var f={index:c,oldrecord:o._oldrecords[c],record:i};o._changedrecords.push(f)}}}}),"add"==r)for(var c=o.records.length,l=0;l<c;l++){for(var f=o.records[l],g=!1,m=0;m<o._oldrecords.length;m++)if(o._oldrecords[m]._koindex===f._koindex){g=!0;break}g||o._changedrecords.push({index:l,oldrecord:null,record:f,position:0!=l?"last":"first"})}else if("remove"==r)for(var c=o._oldrecords.length,l=0;l<c;l++){var y=o._oldrecords[l];o.records[l]?o.records[l]._koindex!=y._koindex&&o._changedrecords.push({index:l,oldrecord:y,record:null}):o._changedrecords.push({index:l,oldrecord:y,record:null})}}else if(e.isArray(a.localdata))if(0==u){var b=0,x=new Array;e.each(a.localdata,function(t,r){var n=new Object(this);if("string"==typeof r)return o.records=a.localdata,!1;var i=o.getid(a.id,n,t);if("object"==typeof i&&(i=t),n.uid=i,0==t){for(var s in this){b++;var d=e.type(this[s]);x.push({name:s,type:d})}u=b,a.datafields=x,a.generatedfields=x}if(u>0){var l=p(n,u);l.uid=i,o.records[o.records.length]=l}else o.records[o.records.length]=n})}else e.each(a.localdata,function(e){var t=this,r=p(t,u),n=o.getid(a.id,r,e);"object"==typeof n&&(n=e);var t=new Object(r);t.uid=n,o.records[o.records.length]=t});else{this.records=new Array;var b=0,x=new Array;e.each(a.localdata,function(t){var r=o.getid(a.id,this,t);if(0==u&&!("string"==typeof this||this instanceof String)){for(var n in this){b++;var i=e.type(this[n]);x.push({name:n,type:i})}u=b,a.datafields=x,a.generatedfields=x}if(u>0){var s=this,d=p(s,u);d.uid=r,o.records[o.records.length]=d}else this.uid=r,o.records[o.records.length]=this})}if(this.originaldata=a.localdata,this.cachedrecords=this.records,this.addForeignValues(a),n.uniqueDataFields){var S=this.getUniqueRecords(this.records,n.uniqueDataFields);this.records=S,this.cachedrecords=S}if(n.beforeLoadComplete){var O=n.beforeLoadComplete(o.records,this.originaldata);void 0!=O&&(o.records=O,o.cachedrecords=O)}if(n.autoSort&&n.autoSortField){var w=Object.prototype.toString;Object.prototype.toString="function"==typeof field?field:function(){return this[n.autoSortField]},o.records.sort(function(t,r){if(void 0===t&&(t=null),void 0===r&&(r=null),null===t&&null===r)return 0;if(null===t&&null!==r)return 1;if(null!==t&&null===r)return-1;if(t=t.toString(),r=r.toString(),null===t&&null===r)return 0;if(null===t&&null!==r)return 1;if(null!==t&&null===r)return-1;if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(r))return t<r?-1:t>r?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(r))return t<r?-1:t>r?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(r)||(t=String(t).toLowerCase(),r=String(r).toLowerCase());try{if(t<r)return-1;if(t>r)return 1}catch(e){}return 0}),Object.prototype.toString=w}o.loadedData=a.localdata,o.buildHierarchy(),e.isFunction(n.loadComplete)&&n.loadComplete(a.localdata,o.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"ics":if(null!=a.localdata&&!a.url){if(e.isFunction(a.beforeprocessing)&&a.beforeprocessing(a.localdata),"xml"===a.datatype?o.loadxml(a.localdata,a.localdata,a):"text"===s?o.loadtext(a.localdata,a):"ics"===s?o.loadics(a.localdata,a):o.loadjson(a.localdata,a.localdata,a),o.addForeignValues(a),n.uniqueDataFields){var S=o.getUniqueRecords(o.records,n.uniqueDataFields);o.records=S,o.cachedrecords=S}if(n.beforeLoadComplete){var O=n.beforeLoadComplete(o.records,this.originaldata);void 0!=O&&(o.records=O,o.cachedrecords=O)}return o.loadedData=a.localdata,o.buildHierarchy.call(o),e.isFunction(n.loadComplete)&&n.loadComplete(a.localdata,o.records),void o.callBindingUpdate(r)}var A=void 0!=n.data?n.data:{};if(a.processdata&&a.processdata(A),e.isFunction(n.processData)&&n.processData(A),e.isFunction(n.formatData)){var _=n.formatData(A);void 0!=_&&(A=_)}var T="application/x-www-form-urlencoded";n.contentType&&(T=n.contentType);var N="GET";a.type&&(N=a.type),n.type&&(N=n.type);var j=s;if("ics"==s&&(j="text"),a.url&&a.url.length>0)e.isFunction(n.loadServerData)?o._requestData(A,a,n):this.xhr=e.jqx.data.ajax({dataType:j,cache:this.cache,type:N,url:a.url,async:d,timeout:a.timeout,contentType:T,data:A,success:function(t,r,i){if(e.isFunction(a.beforeprocessing)){var d=a.beforeprocessing(t,r,i);void 0!=d&&(t=d)}if(e.isFunction(n.downloadComplete)){var d=n.downloadComplete(t,r,i);void 0!=d&&(t=d)}if(null==t)return o.records=new Array,o.cachedrecords=new Array,o.originaldata=new Array,o.callDownloadComplete(),void(e.isFunction(n.loadComplete)&&n.loadComplete(new Array));var l=t;if(t.records&&(l=t.records),void 0!=t.totalrecords?a.totalrecords=t.totalrecords:void 0!=t.totalRecords&&(a.totalrecords=t.totalRecords),"xml"===a.datatype?o.loadxml(null,l,a):"text"===s?o.loadtext(l,a):"ics"===s?o.loadics(l,a):o.loadjson(null,l,a),o.addForeignValues(a),n.uniqueDataFields){var c=o.getUniqueRecords(o.records,n.uniqueDataFields);o.records=c,o.cachedrecords=c}if(n.beforeLoadComplete){var u=n.beforeLoadComplete(o.records,t);void 0!=u&&(o.records=u,o.cachedrecords=u)}o.loadedData=t,o.buildHierarchy.call(o),o.callDownloadComplete(),e.isFunction(n.loadComplete)&&n.loadComplete(t,r,i,o.records)},error:function(t,r,i){e.isFunction(a.loaderror)&&a.loaderror(t,r,i),e.isFunction(n.loadError)&&n.loadError(t,r,i),t=null,o.callDownloadComplete()},beforeSend:function(t,r){e.isFunction(n.beforeSend)&&n.beforeSend(t,r),e.isFunction(a.beforesend)&&a.beforesend(t,r)}});else if(o.buildHierarchy(new Array),o.callDownloadComplete(),e.isFunction(n.loadComplete)){if(!E)var E={};n.loadComplete(E)}}this.callBindingUpdate(r)}}},buildHierarchy:function(e){var t=this._source,r=new Array;if(t.datafields){if(t.hierarchy&&!t.hierarchy.reservedNames)t.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};else if(t.hierarchy){var a=t.hierarchy.reservedNames;a.leaf||(a.leaf="leaf"),a.parent||(a.parent="parent"),a.expanded||(a.expanded="expanded"),a.checked||(a.checked="checked"),a.selected||(a.selected="selected"),a.level||(a.level="level"),a.data||(a.data="data")}if(t.hierarchy){var n=this,a=t.hierarchy.reservedNames;if(t.hierarchy.root){if("xml"==t.dataType){var r=this.getRecordsHierarchy("uid","parentuid","records",null,e);return this.hierarchy=r,r}this.hierarchy=this.records;for(var i=t.hierarchy.root,o=0;o<this.records.length;o++){var s=this.records[o];if(s){var d=function(e){if(t.hierarchy.record)e.records=e[i][t.hierarchy.record];else{var r=i.split(n.mapChar),o=null;if(r.length>1){for(var s=e,d=0;d<r.length;d++)void 0!=s&&(s=s[r[d]]);o=s}else o=e[i];e.records=o}(null==e.records||e.records&&0==e.records.length)&&(e[a.leaf]=!0)};d(s),s[a.level]=0;var l=this.getid(t.id,s,o);s.uid=l,s[a.parent]=null,s[a.data]=s,void 0===s[a.expanded]&&(s[a.expanded]=!1);var c=function(e,r){if(!r)return void(e.records=new Array);for(var i=0;i<r.length;i++){var o=r[i];if(o){d(o),o[a.level]=e[a.level]+1,o[a.parent]=e,o[a.data]=o;var s=n.getid(t.id,o,i);s==i&&null==t.id?o.uid=e.uid+"_"+s:o.uid=s,void 0===o[a.expanded]&&(o[a.expanded]=!1),c(o,o.records)}}};c(s,s.records)}}return this.hierarchy}if(t.hierarchy.keyDataField&&t.hierarchy.parentDataField){var r=this.getRecordsHierarchy(t.hierarchy.keyDataField.name,t.hierarchy.parentDataField.name,"records",null,e);return this.hierarchy=r,r}if(t.hierarchy.groupingDataFields){for(var u=new Array,o=0;o<t.hierarchy.groupingDataFields.length;o++)u.push(t.hierarchy.groupingDataFields[o].name);var r=this.getGroupedRecords(u,"records","label",null,"data",null,"parent",e);return this.hierarchy=r,r}}}},addRecord:function(e,t,r,a){var n=this,i=function(){return{leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}};if(void 0!=e){if(void 0==r){if(this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||a)){var o=n._source&&n._source.hierarchy?n._source.hierarchy.reservedNames:null;null==o&&(o=i()),e[o.level]=0,"last"==t?this.hierarchy.push(e):"number"==typeof t&&isFinite(t)?this.hierarchy.splice(t,0,e):this.hierarchy.splice(0,0,e)}else"last"==t?this.records.push(e):"number"==typeof t&&isFinite(t)?this.records.splice(t,0,e):this.records.splice(0,0,e);return!0}if(this.hierarchy.length>0){var s=function(a){if(a)for(var o=0;o<a.length;o++){var d=a[o];if(d.uid==r){var l=n._source&&n._source.hierarchy?n._source.hierarchy.reservedNames:null;return null==l&&(l=i()),e[l.parent]=d,e[l.level]=d[l.level]+1,d.records?d[l.leaf]=!1:(d.records=new Array,d[l.leaf]=!1),"last"==t?d.records.push(e):"number"==typeof t&&isFinite(t)?d.records.splice(t,0,e):d.records.splice(0,0,e),!0}d.records&&s(d.records)}};s(this.hierarchy)}}return!1},deleteRecord:function(e){var t=this;if(this.hierarchy.length>0){var r=function(a){if(a)for(var n=0;n<a.length;n++){var i=a[n];if(i.uid==e){a.splice(n,1),t.recordids[e]&&delete t.recordids[e];var o=function(e){for(var r=0;r<e.length;r++){for(var a=e[r].uid,n=0;n<t.records.length;n++){if(t.records[n].uid==a){t.records.splice(n,1);break}}e[r].records&&o(e[r].records)}};i.records&&o(i.records);for(var s=0;s<t.records.length;s++){var i=t.records[s];if(i.uid==e){t.records.splice(s,1);break}}return!0}i.records&&r(i.records)}};r(this.hierarchy)}else for(var a=0;a<this.records.length;a++){var n=this.records[a];if(n.uid==e)return this.records.splice(a,1),!0}return!1},addForeignValues:function(e){for(var t=this,r=e.datafields?e.datafields.length:0,a=0;a<r;a++){var n=e.datafields[a];if(void 0!=n)if(void 0!=n.values){void 0==n.value&&(n.value=n.name),void 0==n.values.value&&(n.values.value=n.value);var i,o,s=new Array;t.pageable&&t.virtualmode?(i=t.pagenum*t.pagesize,(o=i+t.pagesize)>t.totalrecords&&(o=t.totalrecords)):t.virtualmode?(i=e.recordstartindex,(o=e.recordendindex)>t.totalrecords&&(o=t.totalrecords)):(i=0,o=t.records.length);for(var d=i;d<o;d++){var l=t.records[d],c=n.name,u=l[n.value];if(void 0!=s[u])l[c]=s[u];else for(var f=0;f<n.values.source.length;f++){var h=n.values.source[f],p=h[n.values.value];if(void 0==p&&(p=h.uid),p==u){var v=h[n.values.name];l[c]=v,s[u]=v;break}}}}else if(void 0!=n.value)for(var d=0;d<t.records.length;d++){var l=t.records[d];l[n.name]=l[n.value]}}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),me.callDownloadComplete())},_requestData:function(t,r,a){var n=this,i=function(t){if(t.totalrecords&&(r.totalrecords=t.totalrecords,n.totalrecords=t.totalrecords),t.records&&(n.records=t.records,n.cachedrecords=t.records),n.addForeignValues(r),a.uniqueDataFields){var i=n.getUniqueRecords(n.records,a.uniqueDataFields);n.records=i,n.cachedrecords=i}if(a.beforeLoadComplete){var o=a.beforeLoadComplete(n.records,data);void 0!=o&&(n.records=o,n.cachedrecords=o)}for(var s=0;s<n.records.length;s++){var d=n.records[s];void 0!=d&&(void 0==d.uid&&(d.uid=n.getid(r.id,d,s)))}n.buildHierarchy.call(n),e.isFunction(a.loadComplete)&&a.loadComplete(t),n.callDownloadComplete()};a.loadServerData(t,r,i)},getUniqueRecords:function(e,t){if(e&&t)for(var r=e.length,a=t.length,n=new Array,i=new Array,o=0;o<r;o++){var s=e[o],d="";if(void 0!=s){for(var l=0;l<a;l++){var c=t[l];d+=s[c]+"_"}i[d]||(n[n.length]=s),i[d]=!0}}return n},getAggregatedData:function(t,r,a,n){var i=a;i||(i=this.records);var o={},s=new Array,d=i.length;if(0!=d&&void 0!=d){for(var l=0;l<d;l++)for(var c=i[l],u=0;u<t.length;u++){var f=t[u],h=c[f.name];if(f.aggregates){o[f.name]=o[f.name]||{},s[f.name]=s[f.name]||0,s[f.name]++;var p=function(t){for(obj in t){var r=o[f.name][obj];null==r&&(o[f.name][obj]=0,r=0),e.isFunction(t[obj])&&(r=t[obj](r,h,f.name,c,n)),o[f.name][obj]=r}},v=parseFloat(h);v=!isNaN(v),v&&(h=parseFloat(h)),"number"==typeof h&&isFinite(h)?e.each(f.aggregates,function(){var e=o[f.name][this];if(null==e&&(e=0,"min"==this&&(e=9999999999999),"max"==this&&(e=-9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)e+=parseFloat(h);else if("product"==this)0==l?e=parseFloat(h):e*=parseFloat(h);else if("min"==this)e=Math.min(e,parseFloat(h));else if("max"==this)e=Math.max(e,parseFloat(h));else if("count"==this)e++;else if("object"==typeof this)return void p(this);o[f.name][this]=e}):e.each(f.aggregates,function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){if(null===h)return!0;var e=o[f.name][this];return null==e&&(e=0),o[f.name][this]=e,!0}"object"==typeof this&&p(this)})}}for(var u=0;u<t.length;u++){var f=t[u];if(o[f.name]||(o[f.name]={},e.each(f.aggregates,function(e){o[f.name][this]=0})),void 0!=o[f.name].avg){var h=o[f.name].avg,g=s[f.name];o[f.name].avg=0===g||void 0==g?0:h/g}else void 0!=o[f.name].count&&(o[f.name].count=d);(o[f.name].stdev||o[f.name].stdevp||o[f.name].var||o[f.name].varp)&&e.each(f.aggregates,function(e){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var t=o[f.name][this],r=d,a=t/d,n=0,s=0;s<d;s++){var l=i[s],c=l[f.name];n+=(c-a)*(c-a)}var u="stdevp"==this||"varp"==this?r:r-1;0==u&&(u=1),"var"==this||"varp"==this?o[f.name][this]=n/u:"stdevp"!=this&&"stdev"!=this||(o[f.name][this]=Math.sqrt(n/u))}}),f.formatStrings&&e.each(f.aggregates,function(t){var a=f.formatStrings[t];if(a)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var n=o[f.name][this];o[f.name][this]=e.jqx.dataFormat.formatnumber(n,a,r)}else if("object"==typeof this)for(obj in this){var n=o[f.name][obj];o[f.name][obj]=e.jqx.dataFormat.formatnumber(n,a,r)}})}return o}},bindDownloadComplete:function(e,t){this._downloadComplete[this._downloadComplete.length]={id:e,func:t}},unbindDownloadComplete:function(e){for(var t=0;t<this._downloadComplete.length;t++)if(this._downloadComplete[t].id==e){this._downloadComplete[t].func=null,this._downloadComplete.splice(t,1);break}},callDownloadComplete:function(){for(var e=0;e<this._downloadComplete.length;e++){var t=this._downloadComplete[e];null!=t.func&&t.func()}},setSource:function(e){this._source=e},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getGroupedRecords:function(t,r,a,n,i,o,s,d,l){var c=this;l||(l=0);for(var u=new Array,f=0;f<t.length;f++)u[f]=c.generatekey();r||(r="items"),a||(a="group"),i||(i="record"),s||(s="parentItem"),void 0===o&&(o="value");var h=new Array,p=0,v=new Array,g=t.length;new Array;if(!d)var d=this.records;for(var m=d.length,y=0;y<m;y++){var b=function(t){var r=t;return n&&e.each(n,function(){this.name&&this.map&&(r[this.map]=r[this.name])}),r}(d[y]);id=b[c.uniqueId];var x=new Array,S=0;for(f=0;f<g;f++){var O=t[f],w=b[O];null!=w&&(x[S++]={value:w,hash:u[f]})}if(x.length!=g)break;for(var A=null,_="",T=-1,N=0;N<x.length;N++){T++;var j=x[N].value;if(_=_+"_"+x[N].hash+"_"+j,void 0==v[_]||null==v[_]){if(null==A){A={level:0},A[s]=null,A[a]=j,A[i]=b,void 0!==b.expanded?A.expanded=b.expanded:A.expanded=!1,o&&(A[o]=b[o]),A[r]=new Array
;var E=h.length+l;this._source.id&&"number"!=typeof b.uid&&!isFinite(b.uid)||(E="Row"+E),A.uid=E,h[p++]=A}else{var M={level:A.level+1};M[s]=A,M[a]=j,M[r]=new Array,M[i]=b,void 0!==b.expanded?M.expanded=b.expanded:M.expanded=!1,o&&(M[o]=b[o]),M.uid=A.uid+"_"+A[r].length,A[r][A[r].length]=M,A=M}v[_]=A}else A=v[_]}b&&(b.leaf=!0),null!=A?(null==this._source.id&&(void 0==b.uid?b.uid=A.uid+"_"+A[r].length:-1==b.uid.toString().indexOf(A.uid)&&(b.uid=A.uid+"_"+b.uid)),b[s]=A,b.level=A.level+1,A[r][A[r].length]=b):void 0==b.uid&&(b.uid=this.generatekey())}return h},getRecordsHierarchy:function(t,r,a,n,i){var o=new Array,s=this.records;if(i&&(s=i),0==this.records.length)return null;for(var d=null!=a?a:"items",l=[],c=s,u=c.length,f=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,h=function(t){var r=t;return n&&e.each(n,function(){this.name&&this.map&&(r[this.map]=r[this.name])}),r},p=0;p<u;p++){var v=e.extend({},c[p]),g=v[r],m=v[t];l[m]={parentid:g,item:v}}for(var p=0;p<u;p++){var v=e.extend({},c[p]),g=v[r],m=v[t];if(void 0!=l[g]){var v={parentid:g,item:l[m].item},y=l[g].item;y[d]||(y[d]=[]);var b=y[d].length,x=v.item;f?void 0==x[f.parent]&&(x[f.parent]=y):void 0==x.parent&&(x.parent=y);var S=h(x);y[d][b]=S,l[g].item=y,l[m]=v}else{var x=l[m].item;f?void 0==x[f.parent]&&(x[f.parent]=null):void 0==x.parent&&(x.parent=null);var S=h(x);f?S[f.level]=0:S.level=0,o[o.length]=S}}if(0!=o.length){var O=function(e,t){for(var r=0;r<t.length;r++){f?t[r][f.level]=e:t[r].level=e;var a=t[r][d];a&&a.length>0?O(e+1,a):f?t[r][f.leaf]=!0:t[r].leaf=!0}};O(0,o)}return o},bindBindingUpdate:function(e,t){this._bindingUpdate[this._bindingUpdate.length]={id:e,func:t}},unbindBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++)if(this._bindingUpdate[t].id==e){this._bindingUpdate[t].func=null,this._bindingUpdate.splice(t,1);break}},callBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++){var r=this._bindingUpdate[t];null!=r.func&&r.func(e)}},getid:function(t,r,a){if(null==t||void 0==t.name||!t.name){if(e(t,r).length>0)return e(t,r).text();if(t&&t.toString().length>0){var n=e(r).attr(t);if(null!=n&&n.toString().length>0)return e.trim(n).split(" ").join("").replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/@])/g,"");var i=t.split(this.mapChar);if(i.length>1){for(var o=r,s=0;s<i.length;s++)void 0!=o&&(o=o[i[s]]);if(void 0!=o)return o}else if(void 0!=r[t])return r[t]}return a}var n=e(r).attr(t.name);if(null!=n&&n.toString().length>0)return n;if(t.map)try{var n=e(r).attr(t.map);if(null!=n&&n.toString().length>0)return n;if(e(t.map,r).length>0)return e(t.map,r).text();if(e(t.name,r).length>0)return e(t.name,r).text()}catch(e){return a}},loadjson:function(t,r,a){"string"==typeof t&&(t=e.parseJSON(t)),void 0==a.root&&(a.root=""),void 0==a.record&&(a.record="");var t=t||r;t||(t=[]);var n=this;if(""!=a.root){var i=a.root.split(n.mapChar);if(i.length>1){for(var o=t,s=0;s<i.length;s++)void 0!=o&&(o=o[i[s]]);t=o}else if(void 0!==t[a.root]?t=t[a.root]:t[0]&&void 0!==t[0][a.root]?t=t[0][a.root]:e.each(t,function(e){if(this==a.root)return t=this,!1;void 0!=this[a.root]&&(t=this[a.root])}),!t){var i=a.root.split(n.mapChar);if(i.length>0){for(var o=t,s=0;s<i.length;s++)void 0!=o&&(o=o[i[s]]);t=o}}}else if(!t.length)for(obj in t)if(e.isArray(t[obj])){t=t[obj];break}if(null!=t&&void 0==t.length&&(t=e.makeArray(t)),null==t||void 0==t||"undefined"==t||void 0==t.length)throw new Error("jqxDataAdapter: JSON Parse error! Invalid JSON. Please, check your JSON or your jqxDataAdapter initialization!");if(0==t.length)return void(this.totalrecords=0);var d=t.length;this.totalrecords=this.virtualmode?a.totalrecords||d:d,this.records=new Array,this.originaldata=new Array;var l=this.records,c=this.pageable?this.pagesize*this.pagenum:a.recordstartindex;this.recordids=new Array,a.loadallrecords&&(c=0,d=this.totalrecords);var u=0;this.virtualmode&&(c=this.pageable?this.pagesize*this.pagenum:a.recordstartindex,u=c,c=0,d=this.totalrecords);var f=a.datafields?a.datafields.length:0;if(0==f){var h=t[0],p=new Array;for(obj in h){var v=obj;p[p.length]={name:v}}a.datafields=p,a.generatedfields=a.datafields,f=p.length}for(var g=c,m=c;m<d;m++){var y=t[m];if(void 0==y)break;if(!a.record||""==a.record||void 0!=(y=y[a.record])){var b=this.getid(a.id,y,m);if("object"==typeof b&&(b=m),!this.recordids[b]){this.recordids[b]=y;for(var x={},S=0;S<f;S++){var O=a.datafields[S],w="";if(void 0!=O&&null!=O){if(O.map){if(e.isFunction(O.map))w=O.map(y);else{var i=O.map.split(n.mapChar);if(i.length>0){for(var A=y,s=0;s<i.length;s++)void 0!=A&&(A=A[i[s]]);w=A}else w=y[O.map]}void 0!=w&&null!=w?w=this.getvaluebytype(w,O):void 0==w&&null!=w&&(w="")}if(""==w&&!O.map&&(w=y[O.name],void 0==w&&null!=w&&(w=""),void 0!=O.value&&void 0!=w)){var _=w[O.value];void 0!=_&&(w=_)}if(w=this.getvaluebytype(w,O),void 0!=O.displayname?x[O.displayname]=w:x[O.name]=w,"array"===O.type){var T=function(t){if(t)for(var r=0;r<t.length;r++){var i=t[r];if(i)for(var o=0;o<f;o++){var s=a.datafields[o],d="";if(void 0!=s&&null!=s){if(s.map){if(e.isFunction(s.map))d=s.map(i);else{var l=s.map.split(n.mapChar);if(l.length>0){for(var c=i,u=0;u<l.length;u++)void 0!=c&&(c=c[l[u]]);d=c}else d=i[s.map]}void 0!=d&&null!=d?d=this.getvaluebytype(d,s):void 0==d&&null!=d&&(d="")}if(""==d&&!s.map&&(d=i[s.name],void 0==d&&null!=d&&(d=""),void 0!=s.value&&void 0!=d)){var h=d[s.value];void 0!=h&&(d=h)}d=this.getvaluebytype(d,s),void 0!=s.displayname?i[s.displayname]=d:i[s.name]=d,"array"===s.type&&T.call(this,d)}}}};T.call(this,w)}}}(a.recordendindex<=0||c<a.recordendindex)&&(l[u+g]=new Object(x),l[u+g].uid=b,this.originaldata[u+g]=new Object(l[m]),g++)}}}this.records=l,this.cachedrecords=this.records},loadxml:function(t,r,a){"string"==typeof t&&(t=r=e(e.parseXML(t)),t=null),void 0==a.root&&(a.root=""),void 0==a.record&&(a.record="");var t;(t=e.jqx.browser.msie&&r&&void 0!=r.xml?e(a.root+" "+a.record,e.parseXML(r.xml)):t||e(a.root+" "+a.record,r))||(t=[]);var n=t.length;if(0!=t.length){this.totalrecords=this.virtualmode?a.totalrecords||n:n,this.records=new Array,this.originaldata=new Array;var i=this.records,o=this.pageable?this.pagesize*this.pagenum:a.recordstartindex;this.recordids=new Array,a.loadallrecords&&(o=0,n=this.totalrecords);var s=0;this.virtualmode&&(o=this.pageable?this.pagesize*this.pagenum:a.recordstartindex,s=o,o=0,n=this.totalrecords);var d=a.datafields?a.datafields.length:0;if(0==d){var l=t[0],c=new Array;for(obj in l){var u=obj;c[c.length]={name:u}}a.datafields=c,a.generatedfields=a.datafields,d=c.length}for(var f=o,h=o;h<n;h++){var p=t[h];if(void 0==p)break;var v=this.getid(a.id,p,h);if(!this.recordids[v]){this.recordids[v]=p;var g={},m=!1;a.hierarchy&&a.hierarchy.root&&(m=!0);for(var y=0;y<d;y++){var b=a.datafields[y],x="";if(void 0!=b&&null!=b){if(b.map)if(e.isFunction(b.map))x=b.map(p);else{var S=b.map.indexOf("[");if(S<0)if(x=e(b.map,p),1==x.length)x=x.text();else{!0;for(var O=new Array,w=0;w<x.length;w++)O.push(e(x[w]).text());x=O,m&&O.length>0&&(x=O[0])}else{var A=b.map.substring(0,S-1),_=b.map.indexOf("]"),T=b.map.substring(S+1,_);x=e(A,p).attr(T),void 0==x&&(x=e(p).attr(T)),void 0==x&&(x="")}""==x&&void 0==(x=e(p).attr(b.map))&&(x="")}if(""==x){if(x=e(b.name,p),1==x.length)x=x.text();else{for(var O=new Array,w=0;w<x.length;w++)O.push(e(x[w]).text());x=O,m&&O.length>0&&(x=O[0])}""==x&&void 0==(x=e(p).attr(b.name))&&(x=""),""==x&&p.nodeName&&p.nodeName==b.name&&p.firstChild&&(x=e(p.firstChild).text())}x=this.getvaluebytype(x,b),void 0!=b.displayname?g[b.displayname]=x:g[b.name]=x}}(a.recordendindex<=0||o<a.recordendindex)&&(i[s+f]=e.extend({},g),i[s+f].uid=v,this.originaldata[s+f]=e.extend({},i[h]),f++)}}if(a.hierarchy&&a.hierarchy.root)for(var h=o;h<n;h++){var p=t[h],N=i[h];if(e(p).parent().length>0){var v=this.getid(a.id,e(p).parents(a.hierarchy.record+":first"));N.parentuid=v}else N.parentuid=null}this.records=i,this.cachedrecords=this.records}},loadics:function(e,t){if(null!=e){var r=t.rowDelimiter||this.rowDelimiter||"\n",a=e.split(r),n=a.length,i=e.split("\r");1==n&&i.length>1&&(a=i,n=a.length),this.records=new Array,this.originaldata=new Array;var o=this.records;this.recordids=new Array;for(var s=function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/,r=t.exec(e);if(!r)throw new Error("Invalid UNTIL value: "+e);return new Date(Date.UTC(r[1],r[2]-1,r[3],r[5]||0,r[6]||0,r[7]||0))},d=0;d<n;d++){var l=a[d];if("BEGIN:VEVENT"!=l)if(l.indexOf("SUMMARY")>=0)u.SUMMARY=l.substring(l.indexOf("SUMMARY")+8);else if(l.indexOf("LOCATION")>=0)u.LOCATION=l.substring(l.indexOf("LOCATION")+9);else if(l.indexOf("DESCRIPTION")>=0)u.DESCRIPTION=l.substring(l.indexOf("DESCRIPTION")+12);else if(l.indexOf("RRULE")>=0)u.RRULE=l.substring(l.indexOf("RRULE")+6);else if(l.indexOf("EXDATE")>=0){var c=l.substring(l.indexOf("EXDATE")+7);u.EXDATE=c}else l.indexOf("DTEND")>=0?u.DTEND=s(l.substring(l.indexOf("DTEND")+6)):l.indexOf("DTSTART")>=0?u.DTSTART=s(l.substring(l.indexOf("DTSTART")+8)):l.indexOf("UID")>=0?u.uid=u.UID=l.substring(l.indexOf("UID")+4):l.indexOf("STATUS")>=0?u.STATUS=l.substring(l.indexOf("STATUS")+7):"END:VEVENT"!=l||o.push(u);else var u={}}this.records=o,this.cachedrecords=this.records}},loadtext:function(t,r){if(null!=t){var a=r.rowDelimiter||this.rowDelimiter||"\n",n=t.split(a),i=n.length,o=t.split("\r");1==i&&o.length>1&&(n=o,i=n.length),this.totalrecords=this.virtualmode?r.totalrecords||i:i,this.records=new Array,this.originaldata=new Array;var s=this.records,d=this.pageable?this.pagesize*this.pagenum:r.recordstartindex;this.recordids=new Array,r.loadallrecords&&(d=0,i=this.totalrecords);var l=0;this.virtualmode&&(d=this.pageable?this.pagesize*this.pagenum:r.recordstartindex,l=d,d=0,i=this.totalrecords);var c=r.datafields.length,u=r.columnDelimiter||this.columnDelimiter;u||(u="tab"===r.datatype||"tsv"===r.datatype?"\t":",");for(var f=d;f<i;f++){var h=n[f],p=null;if(!this.recordids[p]){null==r.id&&(p=f,this.recordids[p]=h);for(var v={},g=n[f].split(u),m=0;m<c;m++)if(!(m>=g.length)){var y=r.datafields[m],b=g[m];y.map&&e.isFunction(y.map)&&(b=y.map(h)),y.type&&(b=this.getvaluebytype(b,y));var x=y.map||y.name||m.toString();v[x]=b,null!=r.id&&r.id===y.name&&(p=b,this.recordids[p]=h)}null==p&&(p=f),s[l+f]=e.extend({},v),s[l+f].uid=p,this.originaldata[l+f]=e.extend({},s[f])}}this.records=s,this.cachedrecords=this.records}},getvaluebytype:function(t,r){var a=t;if(null==t)return t;if(e.isArray(t)&&"array"!=r.type){for(var n=0;n<t.length;n++)t[n]=this.getvaluebytype(t[n],r);return t}if("date"==r.type)if("NaN"==t)t="";else{var i=new Date(t);if("string"==typeof t&&r.format){var o=e.jqx.dataFormat.parsedate(t,r.format);null!=o&&(i=o)}t=("NaN"==i.toString()||"Invalid Date"==i.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):i,null==t&&(t=a)}else if("float"==r.type||"number"==r.type||"decimal"==r.type)if("NaN"==t)t="";else{var t=parseFloat(t);isNaN(t)&&(t=a)}else if("int"==r.type||"integer"==r.type){var t=parseInt(t);isNaN(t)&&(t=a)}else"bool"!=r.type&&"boolean"!=r.type||(null!=t&&void 0!=t.toLowerCase&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t||(0!=t||""===t)&&"");return t}},e.jqx.dataFormat={},e.extend(e.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(e){return"boolean"==typeof e},isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},isDate:function(e){return e instanceof Date},arrayIndexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,a=e.length;r<a;r++)if(e[r]===t)return r;return-1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNull:function(e){return null===e},isUndefined:function(e){return void 0===e},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(t){return!(!this.isString(t)&&this.isValue(t))&&(!this.isValue(t)||""===(t=e.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"")))},startsWith:function(e,t){return 0===e.indexOf(t)},endsWith:function(e,t){return e.substr(e.length-t.length)===t},trim:function(e){return(e+"").replace(this.regexTrim,"")},isArray:function(e){return"[object Array]"===this.toString.call(e)},defaultcalendar:function(){return{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","}},expandFormat:function(e,t){t=t||"F";var r,a=e.patterns,n=t.length;if(1===n){if(!(r=a[t]))throw"Invalid date format string '"+t+"'.";t=r}else 2===n&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},getEra:function(e,t){if(!t)return 0;if("string"==typeof e)return 0;for(var r,a=e.getTime(),n=0,i=t.length;n<i;n++)if(null===(r=t[n].start)||a>=r)return n;return 0},toUpper:function(e){return e.split("Â ").join(" ").toUpperCase()},toUpperArray:function(e){for(var t=[],r=0,a=e.length;r<a;r++)t[r]=this.toUpper(e[r]);return t},getEraYear:function(e,t,r,a){var n=e.getFullYear();return!a&&t.eras&&(n-=t.eras[r].offset),n},toUpper:function(e){return e?e.toUpperCase():""},getDayIndex:function(e,t,r){var a,n=e.days,i=e._upperDays;return i||(e._upperDays=i=[this.toUpperArray(n.names),this.toUpperArray(n.namesAbbr),this.toUpperArray(n.namesShort)]),t=t.toUpperCase(),r?-1===(a=this.arrayIndexOf(i[1],t))&&(a=this.arrayIndexOf(i[2],t)):a=this.arrayIndexOf(i[0],t),a},getMonthIndex:function(e,t,r){var a=e.months,n=e.monthsGenitive||e.months,i=e._upperMonths,o=e._upperMonthsGen;i||(e._upperMonths=i=[this.toUpperArray(a.names),this.toUpperArray(a.namesAbbr)],e._upperMonthsGen=o=[this.toUpperArray(n.names),this.toUpperArray(n.namesAbbr)]),t=this.toUpper(t);var s=this.arrayIndexOf(r?i[1]:i[0],t);return s<0&&(s=this.arrayIndexOf(r?o[1]:o[0],t)),s},appendPreOrPostMatch:function(e,t){for(var r=0,a=!1,n=0,i=e.length;n<i;n++){var o=e.charAt(n);switch(o){case"'":a?t.push("'"):r++,a=!1;break;case"\\":a&&t.push("\\"),a=!a;break;default:t.push(o),a=!1}}return r},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(e,t){var r="";return t&&t.target&&(r="target="+t.target),""!=r?"<a "+r+' href="'+e+'">'+e+"</a>":'<a href="'+e+'">'+e+"</a>"},formatemail:function(e){return'<a href="mailto:'+e+'">'+e+"</a>"},formatNumber:function(e,t,r){return this.formatnumber(e,t,r)},formatnumber:function(e,t,r){if(void 0!=r&&null!=r&&""!=r||(r=this.defaultcalendar()),""===t||null===t)return e;this.isNumber(e)||(e*=1);var a;t.length>1&&(a=parseInt(t.slice(1),10));var n={},i=t.charAt(0).toUpperCase();switch(n.thousandsSeparator=r.thousandsseparator,n.decimalSeparator=r.decimalseparator,i){case"D":case"d":case"F":case"f":n.decimalPlaces=a;break;case"N":case"n":n.decimalPlaces=0;break;case"C":case"c":n.decimalPlaces=a,"before"==r.currencysymbolposition?n.prefix=r.currencysymbol:n.suffix=r.currencysymbol;break;case"P":case"p":n.suffix=r.percentsymbol,n.decimalPlaces=a;break;default:throw"Bad number format specifier: "+i}if(this.isNumber(e)){var o,s=e<0,d=e+"",l=n.decimalSeparator?n.decimalSeparator:".";if(this.isNumber(n.decimalPlaces)){var c=n.decimalPlaces,u=Math.pow(10,c);if(d=(e*u).toFixed(0)/u+"",o=d.lastIndexOf("."),c>0)for(o<0?(d+=l,o=d.length-1):"."!==l&&(d=d.replace(".",l));d.length-1-o<c;)d+="0"}else{var d=e+"";o=d.lastIndexOf("."),o>0&&void 0==c&&"."!==l&&(d=d.replace(".",l))}if(n.thousandsSeparator){var f=n.thousandsSeparator;o=d.lastIndexOf(l),o=o>-1?o:d.length;for(var h=d.substring(o),p=-1,v=o;v>0;v--)p++,p%3==0&&v!==o&&(!s||v>1)&&(h=f+h),h=d.charAt(v-1)+h;d=h}return d=n.prefix?n.prefix+d:d,d=n.suffix?d+n.suffix:d}return e},tryparsedate:function(t,r){void 0!=r&&null!=r||(r=this.defaultcalendar());var a=this;if(""==t)return null;if(null==t||t.substring||(t=t.toString()),null!=t&&"/Date("==t.substring(0,6)){var n=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,i=new Date(+t.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"==i){var o=t.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/),i=null;o&&(i=new Date(1*o[1]+36e5*o[2]+6e4*o[3]))}if(null==i||"Invalid Date"==i||isNaN(i)){var s=n.exec(t);if(s){var d=new Date(parseInt(s[1]));if(s[2]){var l=parseInt(s[3]);"-"===s[2]&&(l=-l);var c=d.getUTCMinutes();d.setUTCMinutes(c-l)}if(!isNaN(d.valueOf()))return d}}return i}patterns=r.patterns;for(prop in patterns)if(i=a.parsedate(t,patterns[prop],r)){if("ISO"==prop){var u=a.parsedate(t,patterns.ISO2,r);if(u)return u}return i}if(null!=t){for(var u=null,f=[":","/","-"],h=!0,p=0;p<f.length;p++)-1!=t.indexOf(f[p])&&(h=!1);if(h){var v=new Number(t);if(!isNaN(v))return new Date(v)}}if("string"===e.type(t)){var g=a;t=g.trim(t);var m=[":","/","-"," ",","];t=function(e,t,r){return r.replace(new RegExp(e,"g"),t)}(", ",",",t);var y="",b=t;t.indexOf(":")>=0?(y=t.substring(t.indexOf(":")-2),y=g.trim(y),b=t.substring(0,t.indexOf(":")-2)):t.toUpperCase().indexOf("AM")>=0?(y=t.substring(t.toUpperCase().indexOf("AM")-2),y=g.trim(y),b=t.substring(0,t.toUpperCase().indexOf("AM")-2)):t.toUpperCase().indexOf("PM")>=0&&(y=t.substring(t.toUpperCase().indexOf("PM")-2),y=g.trim(y),b=t.substring(0,t.toUpperCase().indexOf("PM")-2));var x=new Date,S=!1;if(b){for(var O=0;O<m.length;O++)if(b.indexOf(m[O])>=0){f=b.split(m[O]);break}for(var w=new Array,A=new Array,_=new Array,T=null,N=null,O=0;O<f.length;O++){var p=f[O],j=g.parsedate(p,"d",r)||g.parsedate(p,"dd",r)||g.parsedate(p,"ddd",r)||g.parsedate(p,"dddd",r);if(j&&p.length<=2){T=O,w.push(j.getDate());break}}for(var O=0;O<f.length;O++){var p=f[O],E=g.parsedate(p,"M",r)||g.parsedate(p,"MM",r)||g.parsedate(p,"MMM",r)||g.parsedate(p,"MMMM",r);if(E){if(void 0!=T&&T==O)continue;if(A.push(E.getMonth()),p.length>2){N=O;break}}}for(var O=0;O<f.length;O++){var p=f[O],M=g.parsedate(p,"yyyy",r);if(M){if(void 0!=T&&T==O)continue;if(void 0!=N&&N==O)continue;_.push(M.getFullYear())}}for(var C=new Array,D=0;D<w.length;D++)for(var o=0;o<A.length;o++)for(var I=0;I<_.length;I++){var d=new Date(_[I],A[o],w[D]);_[I]<1970&&d.setFullYear(_[I]),NaN!=d.getTime()&&C.push(d)}C.length>0&&(x=C[0],S=!0)}if(y){var F=y.indexOf(":")>=0?y.split(":"):y,U=g.parsedate(y,"h:mm tt",r)||g.parsedate(y,"h:mm:ss tt",r)||g.parsedate(y,"HH:mm:ss.fff",r)||g.parsedate(y,"HH:mm:ss.ff",r)||g.parsedate(y,"HH:mm:ss.tttt",r)||g.parsedate(y,"HH:mm:ss",r)||g.parsedate(y,"HH:mm",r)||g.parsedate(y,"HH",r),q=0,R=0,L=0,k=0;U&&NaN!=U.getTime()?(q=U.getHours(),R=U.getMinutes(),L=U.getSeconds(),k=U.getMilliseconds()):(1==F.length&&(q=parseInt(F[0])),2==F.length&&(q=parseInt(F[0]),R=parseInt(F[1])),3==F.length&&(q=parseInt(F[0]),R=parseInt(F[1]),F[2].indexOf(".")>=0?(L=parseInt(F[2].toString().split(".")[0]),k=parseInt(F[2].toString().split(".")[1])):L=parseInt(F[2])),4==F.length&&(q=parseInt(F[0]),R=parseInt(F[1]),L=parseInt(F[2]),k=parseInt(F[3]))),!x||isNaN(q)||isNaN(R)||isNaN(L)||isNaN(k)||(x.setHours(q,R,L,k),S=!0)}if(S)return x}return null},getparseregexp:function(e,t){var r=e._parseRegExp;if(r){var a=r[t];if(a)return a}else e._parseRegExp=r={};for(var n,i=this.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),o=["^"],s=[],d=0,l=0,c=this.getTokenRegExp();null!==(n=c.exec(i));){var u=i.slice(d,n.index);if(d=c.lastIndex,(l+=this.appendPreOrPostMatch(u,o))%2)o.push(n[0]);else{var f,h=n[0],p=h.length;switch(h){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":f="(\\D+)";break;case"tt":case"t":f="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":f="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":f="(\\d\\d?)";break;case"zzz":f="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":f="([+-]?\\d\\d?)";break;case"/":f="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+h+"'."}f&&o.push(f),s.push(n[0])}}this.appendPreOrPostMatch(i.slice(d),o),o.push("$");var v=o.join("").replace(/\s+/g,"\\s+"),g={regExp:v,groups:s};return r[t]=g},outOfRange:function(e,t,r){return e<t||e>r},expandYear:function(e,t){var r=new Date,a=this.getEra(r);if(t<100){var n=e.twoDigitYearMax;n="string"==typeof n?(new Date).getFullYear()%100+parseInt(n,10):n;var i=this.getEraYear(r,e,a);t+=i-i%100,t>n&&(t-=100)}return t},parsedate:function(e,t,r){void 0!=r&&null!=r||(r=this.defaultcalendar()),e=this.trim(e);var a=r,n=this.getparseregexp(a,t),i=new RegExp(n.regExp).exec(e);if(null===i)return null;for(var o,s=n.groups,d=null,l=null,c=null,u=null,f=null,h=0,p=0,v=0,g=0,m=null,y=!1,b=0,x=s.length;b<x;b++){var S=i[b+1];if(S){var O=s[b],w=O.length,A=parseInt(S,10);switch(O){case"dd":case"d":if(u=A,this.outOfRange(u,1,31))return null;break;case"MMM":case"MMMM":if(c=this.getMonthIndex(a,S,3===w),this.outOfRange(c,0,11))return null;break;case"M":case"MM":if(c=A-1,this.outOfRange(c,0,11))return null;break;case"y":case"yy":case"yyyy":if(l=w<4?this.expandYear(a,A):A,this.outOfRange(l,0,9999))return null;break;case"h":case"hh":if(h=A,12===h&&(h=0),this.outOfRange(h,0,11))return null;break;case"H":case"HH":if(h=A,this.outOfRange(h,0,23))return null;break;case"m":case"mm":if(p=A,this.outOfRange(p,0,59))return null;break;case"s":case"ss":if(v=A,this.outOfRange(v,0,59))return null;break;case"tt":case"t":if(!(y=a.PM&&(S===a.PM[0]||S===a.PM[1]||S===a.PM[2]))&&(!a.AM||S!==a.AM[0]&&S!==a.AM[1]&&S!==a.AM[2]))return null;break;case"f":case"ff":case"fff":if(g=A*Math.pow(10,3-w),this.outOfRange(g,0,999))return null;break;case"ddd":case"dddd":if(f=this.getDayIndex(a,S,3===w),this.outOfRange(f,0,6))return null;break;case"zzz":var _=S.split(/:/);if(2!==_.length)return null;if(o=parseInt(_[0],10),this.outOfRange(o,-12,13))return null;var T=parseInt(_[1],10);if(this.outOfRange(T,0,59))return null;m=60*o+(this.startsWith(S,"-")?-T:T);break;case"z":case"zz":if(o=A,this.outOfRange(o,-12,13))return null;m=60*o;break;case"g":case"gg":var N=S;if(!N||!a.eras)return null;N=trim(N.toLowerCase());for(var j=0,E=a.eras.length;j<E;j++)if(N===a.eras[j].name.toLowerCase()){d=j;break}if(null===d)return null}}}var M,C=new Date,D=a.convert;if(M=C.getFullYear(),null===l?l=M:a.eras&&(l+=a.eras[d||0].offset),null===c&&(c=0),null===u&&(u=1),D){if(null===(C=D.toGregorian(l,c,u)))return null}else{if(C.setFullYear(l,c,u),C.getDate()!==u)return null;if(null!==f&&C.getDay()!==f)return null}if(y&&h<12&&(h+=12),C.setHours(h,p,v,g),null!==m){var I=C.getMinutes()-(m+C.getTimezoneOffset());C.setHours(C.getHours()+parseInt(I/60,10),I%60)}return C},cleardatescache:function(){this.datescache=new Array},formatDate:function(e,t,r){return this.formatdate(e,t,r)},formatdate:function(e,t,r){function a(e,t){var r,a=e+"";return t>1&&a.length<t?(r=u[t-2]+a,r.substr(r.length-t,t)):r=a}function n(e,t){if(c)return c[t];if(void 0!=e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}if(void 0!=r&&null!=r||(r=this.defaultcalendar()),"string"==typeof e)return e;var i=e.toString()+"_"+t;if(this.datescache&&this.datescache[i])return this.datescache[i];if(!t||!t.length||"i"===t){var o;return o=this.formatDate(e,r.patterns.F,r)}var s=r.eras,d="s"===t;t=this.expandFormat(r,t),o=[];for(var l,c,u=["0","00","000"],f=0,h=this.getTokenRegExp();;){var p=h.lastIndex,v=h.exec(t),g=t.slice(p,v?v.index:t.length);if(f+=this.appendPreOrPostMatch(g,o),!v)break;if(f%2)o.push(v[0]);else{var m=v[0],y=m.length;switch(m){case"ddd":case"dddd":var b=3===y?r.days.namesAbbr:r.days.names;o.push(b[e.getDay()]);break;case"d":case"dd":!0,o.push(a(n(e,2),y));break;case"MMM":case"MMMM":var x=n(e,1);o.push(r.months[3===y?"namesAbbr":"names"][x]);break;case"M":case"MM":o.push(a(n(e,1)+1,y));break;case"y":case"yy":case"yyyy":x=this.getEraYear(e,r,this.getEra(e,s),d),y<4&&(x%=100),o.push(a(x,y));break;case"h":case"hh":l=e.getHours()%12,0===l&&(l=12),o.push(a(l,y));break;case"H":case"HH":o.push(a(e.getHours(),y));break;case"m":case"mm":o.push(a(e.getMinutes(),y));break;case"s":case"ss":o.push(a(e.getSeconds(),y));break;case"t":case"tt":x=e.getHours()<12?r.AM?r.AM[0]:" ":r.PM?r.PM[0]:" ",o.push(1===y?x.charAt(0):x);break;case"f":case"ff":case"fff":o.push(a(e.getMilliseconds(),3).substr(0,y));break;case"z":case"zz":l=e.getTimezoneOffset()/60,o.push((l<=0?"+":"-")+a(Math.floor(Math.abs(l)),y));break;case"zzz":l=e.getTimezoneOffset()/60,o.push((l<=0?"+":"-")+a(Math.floor(Math.abs(l)),2)+":"+a(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":r.eras&&o.push(r.eras[this.getEra(e,s)].name);break;case"/":o.push(r["/"]);break;default:throw"Invalid date format pattern '"+m+"'."}}}var S=o.join("");return this.datescache||(this.datescache=new Array),this.datescache[i]=S,S}}),e.jqx.data={};var d,l,c=/#.*$/,u=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,f=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,h=/^(?:GET|HEAD)$/,p=/^\/\//,v=/\?/,g=/([?&])_=[^&]*/,m=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,y=/\s+/,b=(e.fn.load,{}),x={},S=["*/"]+["*"];try{l=location.href}catch(e){l=document.createElement("a"),l.href="",l=l.href}d=m.exec(l.toLowerCase())||[],e.extend(e.jqx.data,{ajaxSetup:function(t,r){return r?a(t,e.jqx.data.ajaxSettings):(r=t,t=e.jqx.data.ajaxSettings),a(t,r),t},ajaxSettings:{url:l,isLocal:f.test(d[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":S},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:t(b),ajaxTransport:t(x),ajax:function(t,a){function o(t,r,a,o){var d,c,u,f,h,p=r;2!==U&&(U=2,w&&clearTimeout(w),O=void 0,l=o||"",R.readyState=t>0?4:0,a&&(f=n(N,R,a)),t>=200&&t<300||304===t?(N.ifModified&&(h=R.getResponseHeader("Last-Modified"),h&&(e.lastModified[s]=h),(h=R.getResponseHeader("Etag"))&&(e.etag[s]=h)),304===t?(p="notmodified",d=!0):(d=i(N,f),p=d.state,c=d.data,u=d.error,d=!u)):(u=p,p&&!t||(p="error",t<0&&(t=0))),R.status=t,R.statusText=(r||p)+"",d?M.resolveWith(j,[c,p,R]):M.rejectWith(j,[R,p,u]),R.statusCode(D),D=void 0,_&&E.trigger("ajax"+(d?"Success":"Error"),[R,N,d?c:u]),C.fireWith(j,[R,p]),_&&(E.trigger("ajaxComplete",[R,N]),--e.active||e.event.trigger("ajaxStop")))}"object"==typeof t&&(a=t,t=void 0),a=a||{};var s,l,f,O,w,A,_,T,N=e.jqx.data.ajaxSetup({},a),j=N.context||N,E=j!==N&&(j.nodeType||j instanceof e)?e(j):e.event,M=e.Deferred(),C=e.Callbacks("once memory"),D=N.statusCode||{},I={},F={},U=0,q="canceled",R={readyState:0,setRequestHeader:function(e,t){if(!U){var r=e.toLowerCase();e=F[r]=F[r]||e,I[e]=t}return this},getAllResponseHeaders:function(){return 2===U?l:null},getResponseHeader:function(e){var t;if(2===U){if(!f)for(f={};t=u.exec(l);)f[t[1].toLowerCase()]=t[2];t=f[e.toLowerCase()]}return void 0===t?null:t},overrideMimeType:function(e){return U||(N.mimeType=e),this},abort:function(e){return e=e||q,O&&O.abort(e),o(0,e),this}};if(M.promise(R),R.success=R.done,R.error=R.fail,R.complete=C.add,R.statusCode=function(e){if(e){var t;if(U<2)for(t in e)D[t]=[D[t],e[t]];else t=e[R.status],R.always(t)}return this},N.url=((t||N.url)+"").replace(c,"").replace(p,d[1]+"//"),N.dataTypes=e.trim(N.dataType||"*").toLowerCase().split(y),null==N.crossDomain&&(A=m.exec(N.url.toLowerCase()),N.crossDomain=!(!A||A[1]===d[1]&&A[2]===d[2]&&(A[3]||("http:"===A[1]?80:443))==(d[3]||("http:"===d[1]?80:443)))),N.data&&N.processData&&"string"!=typeof N.data&&(N.data=e.param(N.data,N.traditional)),r(b,N,a,R),2===U)return R;if(_=N.global,N.type=N.type.toUpperCase(),N.hasContent=!h.test(N.type),_&&0==e.active++&&e.event.trigger("ajaxStart"),!N.hasContent&&(N.data&&(N.url+=(v.test(N.url)?"&":"?")+N.data,delete N.data),s=N.url,!1===N.cache)){var L=e.now(),k=N.url.replace(g,"$1_="+L);N.url=k+(k===N.url?(v.test(N.url)?"&":"?")+"_="+L:"")}(N.data&&N.hasContent&&!1!==N.contentType||a.contentType)&&R.setRequestHeader("Content-Type",N.contentType),N.ifModified&&(s=s||N.url,e.lastModified[s]&&R.setRequestHeader("If-Modified-Since",e.lastModified[s]),e.etag[s]&&R.setRequestHeader("If-None-Match",e.etag[s])),R.setRequestHeader("Accept",N.dataTypes[0]&&N.accepts[N.dataTypes[0]]?N.accepts[N.dataTypes[0]]+("*"!==N.dataTypes[0]?", "+S+"; q=0.01":""):N.accepts["*"]);for(T in N.headers)R.setRequestHeader(T,N.headers[T]);if(N.beforeSend&&(!1===N.beforeSend.call(j,R,N)||2===U))return R.abort();q="abort";for(T in{success:1,error:1,complete:1})R[T](N[T]);if(O=r(x,N,a,R)){R.readyState=1,_&&E.trigger("ajaxSend",[R,N]),N.async&&N.timeout>0&&(w=setTimeout(function(){R.abort("timeout")},N.timeout));try{U=1,O.send(I,o)}catch(e){if(!(U<2))throw e;o(-1,e)}}else o(-1,"No Transport");return R},active:0,lastModified:{},etag:{}});var O=[],w=/\?/,A=/(=)\?(?=&|$)|\?\?/,_=e.now();e.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=O.pop()||e.expando+"_"+_++;return this[t]=!0,t}}),e.jqx.data.ajaxPrefilter("json jsonp",function(t,r,a){var n,i,o,s=t.data,d=t.url,l=!1!==t.jsonp,c=l&&A.test(d),u=l&&!c&&"string"==typeof s&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&A.test(s);if("jsonp"===t.dataTypes[0]||c||u)return n=t.jsonpCallback=e.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,i=window[n],c?t.url=d.replace(A,"$1"+n):u?t.data=s.replace(A,"$1"+n):l&&(t.url+=(w.test(d)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return o||e.error(n+" was not called"),o[0]},t.dataTypes[0]="json",window[n]=function(){o=arguments},a.always(function(){window[n]=i,t[n]&&(t.jsonpCallback=r.jsonpCallback,O.push(n)),o&&e.isFunction(i)&&i(o[0]),o=i=void 0}),"script"}),e.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return e.globalEval(t),t}}}),e.jqx.data.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),e.jqx.data.ajaxTransport("script",function(e){if(e.crossDomain){var t,r=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(a,n){t=document.createElement("script"),t.async="async",e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,a){(a||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,r&&t.parentNode&&r.removeChild(t),t=void 0,a||n(200,"success"))},r.insertBefore(t,r.firstChild)},abort:function(){t&&t.onload(0,1)}}}});var T,N=!!window.ActiveXObject&&function(){for(var e in T)T[e](0,1)},j=0;e.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&o()||s()}:o,function(t){e.extend(e.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}(e.jqx.data.ajaxSettings.xhr()),e.support.ajax&&e.jqx.data.ajaxTransport(function(t){if(!t.crossDomain||e.support.cors){var r;return{send:function(a,n){var i,o,s=t.xhr()
;if(t.username?s.open(t.type,t.url,t.async,t.username,t.password):s.open(t.type,t.url,t.async),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest");try{for(o in a)s.setRequestHeader(o,a[o])}catch(e){}s.send(t.hasContent&&t.data||null),r=function(a,o){var d,l,c,u,f;try{if(r&&(o||4===s.readyState))if(r=void 0,i&&(s.onreadystatechange=e.noop,N&&delete T[i]),o)4!==s.readyState&&s.abort();else{d=s.status,c=s.getAllResponseHeaders(),u={},f=s.responseXML,f&&f.documentElement&&(u.xml=f);try{u.text=s.responseText}catch(e){}try{l=s.statusText}catch(e){l=""}d||!t.isLocal||t.crossDomain?1223===d&&(d=204):d=u.text?200:404}}catch(e){o||n(-1,e)}u&&n(d,l,u,c)},t.async?4===s.readyState?setTimeout(r,0):(i=++j,N&&(T||(T={},e(window).unload(N)),T[i]=r),s.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}}),e.jqx.filter=function(){this.operator="and";var t=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],r=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],a=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],n=["EQUAL","NOT_EQUAL"],i=new Array,o=new Array;this.evaluate=function(e){for(var t=!0,r=0;r<i.length;r++){var a=i[r].evaluate(e);t=0==r?a:1==o[r]||"or"==o[r]?t||a:t&&a}return t},this.getfilterscount=function(){return i.length},this.setoperatorsbyfiltertype=function(e,i){switch(e){case"numericfilter":r=i;break;case"stringfilter":t=i;break;case"datefilter":a=i;break;case"booleanfilter":n=i}},this.getoperatorsbyfiltertype=function(e){var i=new Array;switch(e){case"numericfilter":i=r.slice(0);break;case"stringfilter":i=t.slice(0);break;case"datefilter":i=a.slice(0);break;case"booleanfilter":i=n.slice(0)}return i};var s=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+"-"+e()+"-"+e()};this.createfilter=function(e,t,r,a,n,i){if(null==e||void 0==e)return null;switch(e){case"numericfilter":return new c(t,r.toUpperCase());case"stringfilter":return new d(t,r.toUpperCase());case"datefilter":return new u(t,r.toUpperCase(),n,i);case"booleanfilter":return new l(t,r.toUpperCase());case"custom":return new f(t,r.toUpperCase(),a)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var e=new Array,t=0;t<i.length;t++){var r={value:i[t].filtervalue,condition:i[t].comparisonoperator,operator:o[t],type:i[t].type};i[t].data&&(r.id=i[t].data),e[t]=r}return e},this.addfilter=function(e,t){i[i.length]=t,t.key=s(),o[o.length]=e},this.removefilter=function(e){for(var t=0;t<i.length;t++)if(i[t].key==e.key){i.splice(t,1),o.splice(t,1);break}},this.getoperatorat=function(e){return void 0==e||null==e?null:e<0||e>i.length?null:o[e]},this.setoperatorat=function(e,t){return void 0==e||null==e?null:e<0||e>i.length?null:void(o[t]=t)},this.getfilterat=function(e){return void 0==e||null==e?null:e<0||e>i.length?null:i[e]},this.setfilterat=function(e,t){return void 0==e||null==e?null:e<0||e>i.length?null:(t.key=s(),void(i[e]=t))},this.clear=function(){i=new Array,o=new Array};var d=function(t,r){this.filtervalue=t,this.comparisonoperator=r,this.type="stringfilter",this.evaluate=function(t){var r=this.filtervalue,a=this.comparisonoperator;if(null==t||void 0==t||""==t){if("NULL"==a)return!0;if("EQUAL"==a&&t==r)return!0;if("NOT_EQUAL"==a&&t!=r)return!0;if("EMPTY"!=a)return!1;if(""==t)return!0}var n="";try{n=t.toString()}catch(e){return!0}var i=function(t,r){switch(a){case"EQUAL":return e.jqx.string.equalsIgnoreCase(t,r);case"EQUAL_CASE_SENSITIVE":return e.jqx.string.equals(t,r);case"NOT_EQUAL":return!e.jqx.string.equalsIgnoreCase(t,r);case"NOT_EQUAL_CASE_SENSITIVE":return!e.jqx.string.equals(t,r);case"CONTAINS":return e.jqx.string.containsIgnoreCase(t,r);case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t,r);case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t,r);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t,r);case"EMPTY":return""==t;case"NOT_EMPTY":return""!=t;case"NOT_NULL":return null!=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t,r);case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t,r);case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t,r);case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t,r);default:return!1}},o=new Array;if(r&&r.indexOf&&(r.indexOf("|")>=0||r.indexOf(" AND ")>=0||r.indexOf(" OR ")>=0||r.indexOf(" and ")>=0||r.indexOf(" or ")>=0)){var s=i(n,r);if(s)return s;var d=r.indexOf(" AND ")>=0?r.split(" AND "):new Array,l=r.indexOf(" OR ")>=0?r.split(" OR "):new Array,c=r.indexOf(" and ")>=0?r.split(" and "):new Array,u=r.indexOf(" or ")>=0?r.split(" or "):new Array,f=r.indexOf("|")>=0?r.split("|"):new Array;if(f.length>0)for(var h=0;h<f.length;h++)f[h]=e.trim(f[h]);var p=r.indexOf(" ")>=0?r.split(" "):new Array;if(p.length>0)for(var h=0;h<p.length;h++)p[h]=e.trim(p[h]);if(d=d.concat(p),d=d.concat(c),l=l.concat(f),l=l.concat(u),d.length>0)for(var h=0;h<d.length;h++)!d[h].indexOf(" OR ")>=0&&o.push(d[h]);if(l.length>0)for(var h=0;h<l.length;h++)!l[h].indexOf(" AND ")>=0&&o.push(l[h]);for(var v=void 0,g=0;g<o.length;g++){var t=o[g],s=i(n,t),m=g<d.length?"and":"or";v=void 0==v?s:"or"==m?v||s:v&&s}return v}return i(n,r)}},l=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="booleanfilter",this.evaluate=function(e){var t=this.filtervalue,r=this.comparisonoperator;if(null==e||void 0==e)return"NULL"==r;var a=e;switch(r){case"EQUAL":return a==t||a.toString()==t.toString();case"NOT_EQUAL":return a!=t&&a.toString()!=t.toString();default:return!1}}},c=function(t,r){this.filtervalue=t,this.comparisonoperator=r,this.type="numericfilter",this.evaluate=function(t){var r=this.filtervalue,a=this.comparisonoperator;if(null===t||void 0===t||""===t){if("NOT_NULL"==a)return!1;if("NULL"==a)return!0;switch(a){case"EQUAL":return t==r;case"NOT_EQUAL":return t!=r}return!1}if("NULL"==a)return!1;if("NOT_NULL"==a)return!0;var n=t;try{n=parseFloat(n)}catch(e){if(""!=t.toString())return!1}var i=function(t,r){switch(a){case"EQUAL":return t==r;case"NOT_EQUAL":return t!=r;case"GREATER_THAN":return t>r;case"GREATER_THAN_OR_EQUAL":return t>=r;case"LESS_THAN":return t<r;case"LESS_THAN_OR_EQUAL":return t<=r;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),r.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),r.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),r.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),r.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),r.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),r.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),r.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),r.toString());default:return!0}},o=new Array;if(r&&r.indexOf&&(r.indexOf("|")>=0||r.indexOf(" AND ")>=0||r.indexOf(" OR ")>=0||r.indexOf(" and ")>=0||r.indexOf(" or ")>=0)){var s=i(n,r);if(s)return s;r=r.toString();var d=r.indexOf(" AND ")>=0?r.split(" AND "):new Array,l=r.indexOf(" OR ")>=0?r.split(" OR "):new Array,c=r.indexOf(" and ")>=0?r.split(" and "):new Array,u=r.indexOf(" or ")>=0?r.split(" or "):new Array;d=d.concat(c),l=l.concat(u);var f=r.indexOf("|")>=0?r.split("|"):new Array;if(f.length>0)for(var h=0;h<f.length;h++)f[h]=e.trim(f[h]);if(l=l.concat(f),d.length>0)for(var h=0;h<d.length;h++)!d[h].indexOf(" OR ")>=0&&o.push(d[h]);if(l.length>0)for(var h=0;h<l.length;h++)!l[h].indexOf(" AND ")>=0&&o.push(l[h]);for(var p=void 0,v=0;v<o.length;v++){var t=o[v];if(t&&t.indexOf&&t.indexOf("..")>=0){var g=t.toString().split("..");2==g.length&&(s=n>=g[0]&&n<=g[1])}else var s=i(n,t);var m=v<d.length?"and":"or";p=void 0==p?s:"or"==m?p||s:p&&s}return p}return r&&r.indexOf&&r.indexOf("..")>=0&&(o=r.toString().split(".."),2==o.length)?n>=o[0]&&n<=o[1]:i(n,r)}},u=function(t,r,a,n){this.filtervalue=t,this.type="datefilter";var i=this;if(void 0!=a&&void 0!=n){var o=e.jqx.dataFormat.parsedate(t,a,n);if(null!=o)this.filterdate=o;else{var s=e.jqx.dataFormat.tryparsedate(t,n);null!=s&&(this.filterdate=s)}}else{var d=new Date(t);"NaN"==d.toString()||"Invalid Date"==d.toString()?this.filterdate=e.jqx.dataFormat.tryparsedate(t):this.filterdate=d}if(!this.filterdate){var d=new Date(t);"NaN"==d.toString()||"Invalid Date"==d.toString()?this.filterdate=e.jqx.dataFormat.tryparsedate(t):this.filterdate=d}this.comparisonoperator=r,this.evaluate=function(t){var r=this.filtervalue,o=this.comparisonoperator;if(null==t||void 0==t||""==t){if("NOT_NULL"==o)return!1;if("NULL"==o)return!0;switch(o){case"EQUAL":return t==r;case"NOT_EQUAL":return t!=r}return!1}if("NULL"==o)return!1;if("NOT_NULL"==o)return!0;var s=new Date;s.setFullYear(1900,0,1),s.setHours(12,0,0,0);try{var d=new Date(t);t="NaN"==d.toString()||"Invalid Date"==d.toString()?e.jqx.dataFormat.tryparsedate(t):d,s=t;var l=!1;if(void 0!=a&&void 0!=n&&(a.indexOf("t")>=0||a.indexOf("T")>=0||a.indexOf(":")>=0||a.indexOf("f")>=0)&&(l=!0,r&&-1==r.toString().indexOf(":"))){var c=e.jqx.dataFormat.tryparsedate(r.toString()+":00",n);null!=c&&(i.filterdate=c)}l||(s.setHours(0),s.setMinutes(0),s.setSeconds(0))}catch(e){if(""!=t.toString())return!1}if(null!=i.filterdate)r=i.filterdate;else if(r&&r.indexOf&&(-1!=r.indexOf(":")||!isNaN(parseInt(r)))){var u=new Date(s);u.setHours(12,0,0,0);for(var f=r.split(":"),h=0;h<f.length;h++)0==h&&u.setHours(f[h]),1==h&&u.setMinutes(f[h]),2==h&&u.setSeconds(f[h]);r=u}l&&r&&r.setFullYear&&s&&s.getFullYear&&-1==a.indexOf("d")&&-1==a.indexOf("M")&&-1==a.indexOf("y")&&r.setFullYear(s.getFullYear(),s.getMonth(),s.getDate());var p=function(t,r){switch(null==t&&(t=""),o){case"EQUAL":return t.toString()==r.toString();case"NOT_EQUAL":return t.toString()!=r.toString();case"GREATER_THAN":return t>r;case"GREATER_THAN_OR_EQUAL":return t>=r;case"LESS_THAN":return t<r;case"LESS_THAN_OR_EQUAL":return t<=r;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),r.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),r.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),r.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),r.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),r.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),r.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),r.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),r.toString());default:return!0}},v=new Array;if(r&&r.indexOf&&(r.indexOf("|")>=0||r.indexOf(" AND ")>=0||r.indexOf(" OR ")>=0||r.indexOf(" and ")>=0||r.indexOf(" or ")>=0)){var c=p(s,r);if(c)return c;var g=r.indexOf(" AND ")>=0?r.split(" AND "):new Array,m=r.indexOf(" OR ")>=0?r.split(" OR "):new Array,y=r.indexOf(" and ")>=0?r.split(" and "):new Array,b=r.indexOf(" or ")>=0?r.split(" or "):new Array;g=g.concat(y),m=m.concat(b);var x=r.indexOf("|")>=0?r.split("|"):new Array;if(x.length>0)for(var h=0;h<x.length;h++)x[h]=e.trim(x[h]);if(m=m.concat(x),g.length>0)for(var h=0;h<g.length;h++)!g[h].indexOf(" OR ")>=0&&v.push(g[h]);if(m.length>0)for(var h=0;h<m.length;h++)!m[h].indexOf(" AND ")>=0&&v.push(m[h]);for(var S=void 0,O=0;O<v.length;O++){var t=v[O];if(t&&t.indexOf&&t.indexOf("..")>=0){var w=t.toString().split("..");2==w.length&&(c=s>=w[0]&&s<=w[1])}else var c=p(s,t);var A=O<g.length?"and":"or";S=void 0==S?c:"or"==A?S||c:S&&c}return S}return r&&r.indexOf&&r.indexOf("..")>=0&&(v=r.toString().split(".."),2==v.length)?s>=v[0]&&s<=v[1]:p(s,r)}},f=function(e,t,r){this.filtervalue=e,this.comparisonoperator=t,this.evaluate=function(e,t){return r(this.filtervalue,e,this.comparisonoperator)}}}}(jqxBaseFramework);