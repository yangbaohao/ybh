!function(e){function t(t,s){var o=t.nodeName.toLowerCase();if("area"===o){var n,r=t.parentNode,h=r.name;return!(!t.href||!h||"map"!==r.nodeName.toLowerCase())&&(!!(n=e("img[usemap=#"+h+"]")[0])&&i(n))}return(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"==o?t.href||s:s)&&i(t)}function i(t){return!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")||e.expr.filters.hidden(this)}).length}function s(i){var s=e.attr(i,"tabindex"),o=isNaN(s);return(o||s>=0)&&t(i,!o)}e.jqx.jqxWidget("jqxWindow","",{}),e.extend(e.jqx._jqxWindow.prototype,{defineInstance:function(){var t={height:"auto",width:200,minHeight:50,maxHeight:600,minWidth:50,maxWidth:800,showCloseButton:!0,disabled:!1,autoOpen:!0,keyboardCloseKey:"esc",title:"",content:"",draggable:!0,resizable:!0,animationType:"fade",closeAnimationDuration:250,showAnimationDuration:250,isModal:!1,position:"center",closeButtonSize:16,closeButtonAction:"hide",modalOpacity:.3,dragArea:null,okButton:null,cancelButton:null,dialogResult:{OK:!1,Cancel:!1,None:!0},collapsed:!1,showCollapseButton:!1,collapseAnimationDuration:150,collapseButtonSize:16,rtl:!1,keyboardNavigation:!0,headerHeight:null,_events:["created","closed","moving","moved","open","collapse","expand","open","close","resize"],initContent:null,enableResize:!0,restricter:null,autoFocus:!0,closing:null,_invalidArgumentExceptions:{invalidHeight:"Invalid height!",invalidWidth:"Invalid width!",invalidMinHeight:"Invalid minHeight!",invalidMaxHeight:"Invalid maxHeight!",invalidMinWidth:"Invalid minWidth!",invalidMaxWidth:"Invalid maxWidth",invalidKeyCode:"Invalid keyCode!",invalidAnimationType:"Invalid animationType!",invalidCloseAnimationDuration:"Invalid closeAnimationDuration!",invalidShowAnimationDuration:"Invalid showAnimationDuration!",invalidPosition:"Invalid position!",invalidCloseButtonSize:"Invalid closeButtonSize!",invalidCollapseButtonSize:"Invalid collapseButtonSize!",invalidCloseButtonAction:"Invalid cluseButtonAction!",invalidModalOpacity:"Invalid modalOpacity!",invalidDragArea:"Invalid dragArea!",invalidDialogResult:"Invalid dialogResult!",invalidIsModal:"You can have just one modal window!"},_enableResizeCollapseBackup:null,_enableResizeBackup:void 0,_heightBeforeCollapse:null,_minHeightBeforeCollapse:null,_mouseDown:!1,_isDragging:!1,_rightContentWrapper:null,_leftContentWrapper:null,_headerContentWrapper:null,_closeButton:null,_collapseButton:null,_title:null,_content:null,_mousePosition:{},_windowPosition:{},_modalBackground:null,_SCROLL_WIDTH:21,_visible:!0,modalBackgroundZIndex:12990,modalZIndex:18e3,zIndex:9001,_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:e.jqx.mobile.getTouchEventName("touchstart")}};return e.extend(!0,this,t),t},createInstance:function(){this.host.attr("role","dialog"),this.host.removeAttr("data-bind"),this.host.detach(),e(document.body).append(this.host);var t=this,i=function(){var i=parseInt(e(t.restricter).css("padding-top")),s=parseInt(e(t.restricter).css("padding-left")),o=parseInt(e(t.restricter).css("padding-bottom")),n=parseInt(e(t.restricter).css("padding-right")),r=e(t.restricter).coord();t.dragArea={left:s+r.left,top:i+r.top,width:1+n+e(t.restricter).width(),height:1+o+e(t.restricter).height()}};if(this.restricter&&i(),this.restricter&&(this.addHandler(e(window),"resize."+this.element.id,function(){i()}),this.addHandler(e(window),"orientationchanged."+this.element.id,function(){i()}),this.addHandler(e(window),"orientationchange."+this.element.id,function(){i()})),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._validateProperties(),this._createStructure(),this._refresh(),this.autoOpen||this.host.css("display","none"),e.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.isModal||this._fixWindowZIndex(),this._setStartupSettings(),this._positionWindow(),this._raiseEvent(0),this.autoOpen){this._performLayout();var s=this;this.isModal&&this._fixWindowZIndex("modal-show"),s.initContent&&(s.initContent(),s._contentInitialized=!0),this._raiseEvent(7),this._raiseEvent(9)}},refresh:function(){this._performLayout()},_setStartupSettings:function(){this.disabled&&this.disable(),this.collapsed&&(this.collapsed=!1,this.collapse(0)),this.autoOpen||(this.hide(null,.001,!0),this._visible=!1),null!==this.title&&""!==this.title&&this.setTitle(this.title),null!==this.content&&""!==this.content&&this.setContent(this.content),this.title=this._headerContentWrapper.html(),this.content=this._content.html()},_fixWindowZIndex:function(t){var i=e.data(document.body,"jqxwindows-list")||[],s=this.zIndex;if(this.isModal){i&&(i=this._removeFromArray(this.host,i),e.data(document.body,"jqxwindows-list",i));var o=e.data(document.body,"jqxwindows-modallist");if(o)if("modal-show"==t)o.push(this.host);else{var n=o.indexOf(this.host);-1!=n&&o.splice(n,1)}else if("modal-show"==t){var r=new Array;r.push(this.host),e.data(document.body,"jqxwindows-modallist",r),o=r}else e.data(document.body,"jqxwindows-modallist",new Array),o=new Array;s=this.modalZIndex;return e.each(o,function(e){if(this.data()&&this.data().jqxWindow){var t=this.data().jqxWindow.instance;t._modalBackground.css("z-index",s),t.host.css("z-index",s+1),s+=2}}),void e.data(document.body,"jqxwindow-modal",this.host)}if(this._indexOf(this.host,i)<0&&i.push(this.host),e.data(document.body,"jqxwindows-list",i),i.length>1){var h=i[i.length-2];if("auto"==h.css("z-index"))s=this.zIndex+i.length+1;else{var a=this.zIndex;s=parseInt(h.css("z-index"),10)+1,s<a&&(s=a)}}this.host.css("z-index",s),this._sortByStyle("z-index",i)},_validateProperties:function(){try{if(this._validateSize(),this._validateAnimationProperties(),this._validateInteractionProperties(),this._validateModalProperties(),!this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if(isNaN(this.closeButtonSize)||parseInt(this.closeButtonSize)<0)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonSize);if(isNaN(this.collapseButtonSize)||parseInt(this.collapseButtonSize)<0)throw new Error(this._invalidArgumentExceptions.invalidCollapseButtonSize)}catch(e){}},_validateModalProperties:function(){if(this.modalOpacity<0||this.modalOpacity>1)throw new Error(this._invalidArgumentExceptions.invalidModalOpacity);if(this.isModal&&!this._singleModalCheck())throw new Error(this._invalidArgumentExceptions.invalidIsModal)},_validateSize:function(){if(this._validateSizeLimits(),"auto"!==this.height&&isNaN(parseInt(this.height)))throw new Error(this._invalidArgumentExceptions.invalidHeight);if("auto"!==this.width&&isNaN(parseInt(this.width)))throw new Error(this._invalidArgumentExceptions.invalidWidth);"auto"!==this.height&&this.height<this.minHeight&&(this.height=this.minHeight),this.width<this.minWidth&&(this.width=this.minWidth),"auto"!==this.height&&this.height>this.maxHeight&&(this.height=this.maxHeight),this.width>this.maxWidth&&(this.width=this.maxWidth),null!==this.dragArea&&(this.dragArea&&(null!==this.dragArea.height&&this.host.height()>this.dragArea.height||parseInt(this.height,10)>this.dragArea.height)||null!==this.dragArea.width&&this.width>this.dragArea.width||this.maxHeight>this.dragArea.height||(this.maxWidth,this.dragArea.width))},_validateSizeLimits:function(){if(null==this.maxHeight&&(this.maxHeight=9999),null==this.minWidth&&(this.minWidth=0),null==this.maxWidth&&(this.maxWidth=9999),null==this.minHeight&&(this.minHeight=0),isNaN(parseInt(this.minHeight)))throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(isNaN(parseInt(this.maxHeight)))throw new Error(this._invalidArgumentExceptions.invalidMaxHeight);if(isNaN(parseInt(this.minWidth)))throw new Error(this._invalidArgumentExceptions.invalidMinWidth);if(isNaN(parseInt(this.maxWidth)))throw new Error(this._invalidArgumentExceptions.invalidMaxWidth);if(this.minHeight>this.maxHeight)throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(this.minWidth>this.maxWidth)throw new Error(this._invalidArgumentExceptions.invalidMinWidth)},_validateAnimationProperties:function(){if("fade"!==this.animationType&&"slide"!==this.animationType&&"combined"!==this.animationType&&"none"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(isNaN(parseInt(this.closeAnimationDuration),10)||this.closeAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidCloseAnimationDuration);if(isNaN(parseInt(this.showAnimationDuration),10)||this.showAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidShowAnimationDuration)},_validateInteractionProperties:function(){if(parseInt(this.keyCode,10)<0||parseInt(this.keyCode,10)>130&&"esc"!==this.keyCode)throw new Error(this._invalidArgumentExceptions.invalidKeyCode);if(null!==this.dragArea&&(void 0===this.dragArea.width||void 0===this.dragArea.height||void 0===this.dragArea.left||void 0===this.dragArea.top))throw new Error(this._invalidArgumentExceptions.invalidDragArea);if(!this.dialogResult||!this.dialogResult.OK&&!this.dialogResult.Cancel&&!this.dialogResult.None)throw new Error(this._invalidArgumentExceptions.invalidDialogResult);if("hide"!==this.closeButtonAction&&"close"!==this.closeButtonAction)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonAction)},_singleModalCheck:function(){for(var t=e.data(document.body,"jqxwindows-list")||[],i=t.length;i;)if(i-=1,e(t[i].attr("id")).length>0&&e(t[i].attr("id")).jqxWindow("isModal"))return!1;return!0},_createStructure:function(){var t=this.host.children("DIV");if(1===t.length)this._header=e("<div>"+this.host.attr("caption")+"</div>"),this.host.prepend(this._header),this.host.attr("caption",""),this._content=e(t[0]);else{if(2!==t.length)throw new Error("Invalid structure!");this._header=e(t[0]),this._content=e(t[1])}},_refresh:function(){this._render(),this._addStyles(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._initializeResize()},_render:function(){this._addHeaderWrapper(),this._addCloseButton(),this._addCollapseButton(),this._removeModal(),this._makeModal()},_addHeaderWrapper:function(){this._headerContentWrapper||(this._header.wrapInner('<div style="float:left;"></div>'),this._headerContentWrapper=this._header.children(0),null!==this.headerHeight&&this._header.height(this.headerHeight))},_addCloseButton:function(){this._closeButton||(this._closeButtonWrapper=e('<div class="'+this.toThemeProperty("jqx-window-close-button-background")+'"></div>'),this._closeButton=e('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+" "+this.toThemeProperty("jqx- md-cancel  ")+'"></div>'),this._closeButtonWrapper.append(this._closeButton),this._header.append(this._closeButtonWrapper))},_addCollapseButton:function(){this._collapseButton||(this._collapseButtonWrapper=e('<div class="'+this.toThemeProperty("jqx-window-collapse-button-background")+'"></div>'),this._collapseButton=e('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-collapse-button")+" "+this.toThemeProperty("jqx-icon-arrow-up")+'"></div>'),this._collapseButtonWrapper.append(this._collapseButton),this._header.append(this._collapseButtonWrapper))},_removeModal:function(){!this.isModal&&"object"==typeof this._modalBackground&&null!==this._modalBackground&&this._modalBackground.length>=1&&(e("."+this.toThemeProperty("jqx-window-modal")).remove(),this._modalBackground=null)},focus:function(){try{this.host.focus();var e=this;setTimeout(function(){e.host.focus()},10)}catch(e){}},_makeModal:function(){if(this.isModal&&(!this._modalBackground||this._modalBackground.length<1)){var t=e.data(document.body,"jqxwindows-list");t&&(this._removeFromArray(this.host,t),e.data(document.body,"jqxwindows-list",t)),this._modalBackground=e("<div></div>"),this._modalBackground.addClass(this.toThemeProperty("jqx-window-modal")),this._setModalBackgroundStyles(),e(document.body).append(this._modalBackground),this.addHandler(this._modalBackground,this._getEvent("click"),function(){return!1});var i=this,s=function(t,i){var s=e(t).parents().get();for(j=0;j<s.length;j++)if(e(s[j]).is(i))return!0;return!1};this.addHandler(this._modalBackground,"mouseup",function(e){i._stopResizing(i),e.preventDefault()}),this.addHandler(this._modalBackground,"mousedown",function(e){var t=i._getTabbables();return t.length>0&&(t[0].focus(1),setTimeout(function(){t[0].focus(1)},100)),e.preventDefault(),!1}),this.addHandler(e(document),"keydown.window"+this.element.id,function(t){if(9===t.keyCode){var o=e.data(document.body,"jqxwindows-modallist");if(!(o.length>1&&o[o.length-1][0]!=i.element)){var n=i._getTabbables(),r=null,h=null;if(n.length>0&&(r=n[0],h=n[n.length-1]),t.target!=i.element&&null!=r)return s(t.target,i.host)&&(t.target!==h||t.shiftKey)?t.target===r&&t.shiftKey?(h.focus(1),!1):void 0:(r.focus(1),!1)}}})}},_addStyles:function(){this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-window")),this.host.addClass(this.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-window-header")),this._content.addClass(this.toThemeProperty("jqx-window-content")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._content.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-disableselect")),this._header.addClass(this.toThemeProperty("jqx-rc-t")),this._content.addClass(this.toThemeProperty("jqx-rc-b")),this.host.attr("tabindex")||(this.element.tabIndex=0,this.host.children().css("tab-index",0)),this.host.attr("hideFocus","true").css("outline","none")},_performHeaderLayout:function(){this._handleHeaderButtons(),this._header.css("position","relative"),this.rtl?(this._headerContentWrapper.css("direction","rtl"),this._headerContentWrapper.css("float","right")):(this._headerContentWrapper.css("direction","ltr"),this._headerContentWrapper.css("float","left")),this._performHeaderCloseButtonLayout(),this._performHeaderCollapseButtonLayout(),this._centerElement(this._headerContentWrapper,this._header,"y","margin"),this.headerHeight&&(this._centerElement(this._closeButtonWrapper,this._header,"y","margin"),this._centerElement(this._collapseButtonWrapper,this._header,"y","margin"))},_handleHeaderButtons:function(){this._closeButtonWrapper&&(this.showCloseButton?(this._closeButtonWrapper.css("visibility","visible"),this._closeButtonWrapper.width(this.closeButtonSize),this._closeButtonWrapper.height(this.closeButtonSize)):this._closeButtonWrapper.css("visibility","hidden"),this.showCollapseButton?(this._collapseButtonWrapper.css("visibility","visible"),this._collapseButtonWrapper.width(this.collapseButtonSize),this._collapseButtonWrapper.height(this.collapseButtonSize)):this._collapseButtonWrapper.css("visibility","hidden"))},_performHeaderCloseButtonLayout:function(){if(this._closeButtonWrapper){var e=parseInt(this._header.css("padding-right"),10);isNaN(e)||(this._closeButtonWrapper.width(this._closeButton.width()),this.rtl?(this._closeButtonWrapper.css("margin-left",e),this._closeButtonWrapper.css("margin-right","0px")):(this._closeButtonWrapper.css("margin-right",e),this._closeButtonWrapper.css("margin-left","0px"))),this.rtl?this._closeButtonWrapper.css({position:"absolute",left:"0px",right:""}):this._closeButtonWrapper.css({position:"absolute",right:"0px",left:""})}},_performHeaderCollapseButtonLayout:function(){if(this._closeButtonWrapper){var e=parseInt(this._header.css("padding-right"),10);isNaN(e)||(this._collapseButtonWrapper.width(this.collapseButtonSize),this._collapseButtonWrapper.height(this.collapseButtonSize),this.rtl?(this._collapseButtonWrapper.css("margin-left",e),this._collapseButtonWrapper.css("margin-right","0px")):(this._collapseButtonWrapper.css("margin-right",e),this._collapseButtonWrapper.css("margin-left","0px"))),this.rtl?this._collapseButtonWrapper.css({position:"absolute",left:this.showCloseButton?this._closeButton.outerWidth(!0):0,right:""}):this._collapseButtonWrapper.css({position:"absolute",right:this.showCloseButton?this._closeButton.outerWidth(!0):0,left:""}),this._centerElement(this._collapseButton,this._collapseButton.parent(),"y")}},_performWidgetLayout:function(){var e;"auto"!==this.width&&this.host.css("width",this.width),this.collapsed||("auto"!==this.height?this.host.height(this.height):this.host.height(this.host.height()),this.host.css("min-height",this.minHeight)),this._setChildrenLayout(),e=this._validateMinSize(),this.host.css({"max-height":this.maxHeight,"min-width":this.minWidth,"max-width":this.maxWidth}),e||this._setChildrenLayout()},_setChildrenLayout:function(){this._header.width(this.host.width()-(this._header.outerWidth(!0)-this._header.width())),this._content.width(this.host.width()-(this._content.outerWidth(!0)-this._content.width())),this._content.height(this.host.height()-this._header.outerHeight(!0)-(this._content.outerHeight(!0)-this._content.height()))},_validateMinSize:function(){var e=!0;this.minHeight<this._header.height()&&(this.minHeight=this._header.height(),e=!1);var t=this._header.children(0).outerWidth(!0),i=this._header.children(1).outerWidth(!0),s=t+i;return this.minWidth<100&&(this.minWidth=Math.min(s,100),e=!1),e},_centerElement:function(e,t,i,s){"number"==typeof t.left&&"number"==typeof t.top&&"number"==typeof t.height&&"number"==typeof t.width?this._centerElementInArea(e,t,i):this._centerElementInParent(e,t,i,s)},_centerElementInParent:function(e,t,i,s){if(i=i.toLowerCase(),s?s+="-":s="",i.indexOf("y")>=0){var o=e.outerHeight(!0),n=t.height(),r=Math.max(0,n-o)/2;e.css(s+"top",r+"px")}if(i.indexOf("x")>=0){var h=e.outerWidth(!0),a=t.width(),d=Math.max(0,a-h)/2;e.css(s+"left",d+"px")}},_centerElementInArea:function(e,t,i){if(i=i.toLowerCase(),i.indexOf("y")>=0){var s=e.outerHeight(!0),o=t.height,n=(o-s)/2;e.css("top",n+t.top+"px")}if(i.indexOf("x")>=0){var r=e.outerWidth(!0),h=t.width,a=(h-r)/2;e.css("left",a+t.left+"px")}},_removeEventHandlers:function(){this.removeHandler(this._header,this._getEvent("mousedown")),this.removeHandler(this._header,this._getEvent("mousemove")),this.removeHandler(this._header,"focus"),this.removeHandler(e(document),this._getEvent("mousemove")+"."+this.host.attr("id")),this.removeHandler(e(document),this._getEvent("mouseup")+"."+this.host.attr("id")),this.removeHandler(this.host,"keydown"),this.removeHandler(this._closeButton,this._getEvent("click")),this.removeHandler(this._closeButton,this._getEvent("mouseenter")),this.removeHandler(this._closeButton,this._getEvent("mouseleave")),this.removeHandler(this._collapseButton,this._getEvent("click")),this.removeHandler(this._collapseButton,this._getEvent("mouseenter")),this.removeHandler(this._collapseButton,this._getEvent("mouseleave")),this.removeHandler(this.host,this._getEvent("mousedown")),this.removeHandler(e(this.okButton),this._getEvent("click"),this._setDialogResultHandler),this.removeHandler(e(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler),this.removeHandler(this._header,this._getEvent("mouseenter")),this.removeHandler(this._header,this._getEvent("mouseleave")),this.removeHandler(this.host,"resizing",this._windowResizeHandler)},_removeFromArray:function(e,t){return this._indexOf(e,t)>=0?t.splice(this._indexOf(e,t),1):t},_sortByStyle:function(e,t){for(var i=0;i<t.length;i++)for(var s=t.length-1;s>i;s--){var o,n=t[s],r=t[s-1];parseInt(n.css(e),10)<parseInt(r.css(e),10)&&(o=n,t[s]=r,t[s-1]=o)}},_initializeResize:function(){if(this.resizable){var e=this;this.initResize({target:this.host,alsoResize:e._content,maxWidth:e.maxWidth,minWidth:e.minWidth,maxHeight:e.maxHeight,minHeight:e.minHeight,indicatorSize:10,resizeParent:e.dragArea})}},_removeResize:function(){this.removeResize()},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},_addEventHandlers:function(){this._addDragDropHandlers(),this._addCloseHandlers(),this._addCollapseHandlers(),this._addFocusHandlers(),this._documentResizeHandlers(),this._closeButtonHover(),this._collapseButtonHover(),this._addDialogButtonsHandlers(),this._addHeaderHoverEffect(),this._addResizeHandlers();var e=this;this.addHandler(this._header,this._getEvent("mousemove"),function(t){e._addHeaderCursorHandlers(e)})},_addResizeHandlers:function(){this.addHandler(this.host,"resizing",this._windowResizeHandler,{self:this})},_windowResizeHandler:function(e){var t=e.data.self;t._header.width(t.host.width()-(t._header.outerWidth(!0)-t._header.width())),t.width=e.args.width,t.height=e.args.height},_addHeaderHoverEffect:function(){var t=this;this.addHandler(this._header,this._getEvent("mouseenter"),function(){e(this).addClass(t.toThemeProperty("jqx-window-header-hover"))}),this.addHandler(this._header,this._getEvent("mouseleave"),function(){e(this).removeClass(t.toThemeProperty("jqx-window-header-hover"))})},_addDialogButtonsHandlers:function(){this.okButton&&this.addHandler(e(this.okButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"ok"}),this.cancelButton&&this.addHandler(e(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"cancel"})},_documentResizeHandlers:function(){var t=this;this.isModal&&this.addHandler(e(window),"resize.window"+this.element.id,function(){"object"==typeof t._modalBackground&&null!==t._modalBackground&&(t.isOpen()&&t._modalBackground.hide(),t.restricter?(t._modalBackground.css("left",t.dragArea.left),t._modalBackground.css("top",t.dragArea.top),t._modalBackground.width(t.dragArea.width),t._modalBackground.height(t.dragArea.height)):(t._modalBackground.width(t._getDocumentSize().width),t._modalBackground.height(t._getDocumentSize().height)),t.isOpen()&&t._modalBackground.show())})},_setDialogResultHandler:function(e){var t=e.data.self;t._setDialogResult(e.data.result),t.closeWindow()},_setDialogResult:function(e){switch(this.dialogResult.OK=!1,this.dialogResult.None=!1,this.dialogResult.Cancel=!1,e=e.toLowerCase()){case"ok":this.dialogResult.OK=!0;break;case"cancel":this.dialogResult.Cancel=!0;break;default:this.dialogResult.None=!0}},_getDocumentSize:function(){var t=e.jqx.browser.msie&&e.jqx.browser.version<9,i=t?4:0,s=i;return document.body.scrollHeight>document.body.clientHeight&&t&&(i=this._SCROLL_WIDTH),document.body.scrollWidth>document.body.clientWidth&&t&&(s=this._SCROLL_WIDTH),{width:e(document).width()-i,height:e(document).height()-s}},_closeButtonHover:function(){var e=this;this.addHandler(this._closeButton,this._getEvent("mouseenter"),function(){e._closeButton.addClass(e.toThemeProperty("jqx-window-close-button-hover"))}),this.addHandler(this._closeButton,this._getEvent("mouseleave"),function(){e._closeButton.removeClass(e.toThemeProperty("jqx-window-close-button-hover"))})},_collapseButtonHover:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("mouseenter"),function(){e._collapseButton.addClass(e.toThemeProperty("jqx-window-collapse-button-hover"))}),this.addHandler(this._collapseButton,this._getEvent("mouseleave"),function(){e._collapseButton.removeClass(e.toThemeProperty("jqx-window-collapse-button-hover"))})},_setModalBackgroundStyles:function(){this.isModal&&(this._modalBackground.fadeTo(0,this.modalOpacity),this._modalBackground.css({position:"absolute",top:"0px",left:"0px",width:this._getDocumentSize().width,height:this._getDocumentSize().height,"z-index":this.modalBackgroundZIndex}),this.autoOpen||this._modalBackground.css("display","none"))},_addFocusHandlers:function(){var e=this;this.addHandler(this.host,this._getEvent("mousedown"),function(){e.isModal||e.bringToFront()})},_indexOf:function(e,t){for(var i=0;i<t.length;i++)if(t[i][0]===e[0])return i;return-1},_addCloseHandlers:function(){var e=this;this.addHandler(this._closeButton,this._getEvent("click"),function(t){return e._closeWindow(t)}),"none"!==this.keyboardCloseKey&&"number"!=typeof this.keyboardCloseKey&&"esc"===this.keyboardCloseKey.toLowerCase()&&(this.keyboardCloseKey=27),this.addHandler(this.host,"keydown",function(t){t.keyCode===e.keyboardCloseKey&&null!=e.keyboardCloseKey&&"none"!=e.keyboardCloseKey?e._closeWindow(t):e._handleKeys(t)},{self:this}),this.addHandler(this.host,"keyup",function(t){if(e.keyboardNavigation&&e._moved){var i=e.host.coord(),s=i.left,o=i.top;e._raiseEvent(3,s,o,s,o),e._moved=!1}})},_handleKeys:function(t){if(this.keyboardNavigation&&this._headerFocused&&!e(document.activeElement).ischildof(this._content)){var i=t.ctrlKey,s=t.keyCode,o=this.host.coord(),n=o.left,r=o.top,h=this._getDraggingArea(),a=this.host.width(),d=this.host.height(),l=!0,c=10;switch(s){case 37:i?this.resizable&&this.resize(a-c,d):this.draggable&&n-c>=0&&this.move(n-c,r),l=!1;break;case 38:i?this.resizable&&this.resize(a,d-c):this.draggable&&r-c>=0&&this.move(n,r-c),l=!1;break;case 39:i?this.resizable&&this.resize(a+c,d):this.draggable&&n+a+c<=h.width&&this.move(n+c,r),l=!1;break;case 40:i?this.resizable&&this.resize(a,d+c):this.draggable&&r+d+c<=h.height&&this.move(n,r+c),l=!1}return l||(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()),l}},_addCollapseHandlers:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("click"),function(){e.collapsed?e.expand():e.collapse()})},_closeWindow:function(e){return this.closeWindow(),!1},_addHeaderCursorHandlers:function(e){return e.resizeArea&&e.resizable&&!e.collapsed?void e._header.css("cursor",e._resizeWrapper.css("cursor")):e.draggable?void e._header.css("cursor","move"):(e._header.css("cursor","default"),void(e._resizeWrapper&&e._resizeWrapper.length>0&&e._resizeWrapper.css("cursor","default")))},_addDragDropHandlers:function(){if(this.draggable){var t=this;this.addHandler(this.host,"focus",function(){t._headerFocused=!0}),this.addHandler(this.host,"blur",function(){t._headerFocused=!1}),this.addHandler(this._header,"focus",function(){return t._headerFocused=!0,!1}),this.addHandler(this._header,this._getEvent("mousedown"),function(e,i,s){return i&&(e.pageX=i),s&&(e.pageY=s),t._headerMouseDownHandler(t,e),!0}),this.addHandler(this._header,"dragstart",function(e){return e.preventDefault&&e.preventDefault(),!1}),this.addHandler(this._header,this._getEvent("mousemove"),function(e){return t._headerMouseMoveHandler(t,e)}),this.addHandler(e(document),this._getEvent("mousemove")+"."+this.host.attr("id"),function(e){return t._dragHandler(t,e)}),this.addHandler(e(document),this._getEvent("mouseup")+"."+this.host.attr("id"),function(e){return t._dropHandler(t,e)});try{if(""!=document.referrer||window.frameElement){var i=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(i=document.referrer),i&&-1!=i.indexOf(document.location.host)){var s=function(e){t._dropHandler(t,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",s,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",s)}}}catch(e){}}},_headerMouseDownHandler:function(t,i){if(t.isModal||t.bringToFront(),null==t._resizeDirection){var s=e.jqx.mobile.getTouches(i),o=(s[0],e.jqx.position(i));t._mousePosition.x=o.left,t._mousePosition.y=o.top,t._mouseDown=!0,t._isDragging=!1}},_headerMouseMoveHandler:function(t,i){if(t._mouseDown&&!t._isDragging){var s=e.jqx.mobile.getTouches(i),o=s[0],n=o.pageX,r=o.pageY,h=e.jqx.position(i);return n=h.left,r=h.top,(n+3<t._mousePosition.x||n-3>t._mousePosition.x||r+3<t._mousePosition.y||r-3>t._mousePosition.y)&&(t._isDragging=!0,t._mousePosition={x:n,y:r},t._windowPosition={x:t.host.coord().left,y:t.host.coord().top},e(document.body).addClass(t.toThemeProperty("jqx-disableselect"))),!!t._isTouchDevice&&(i.preventDefault(),!0)}return!t._isDragging||!!t._isTouchDevice&&(i.preventDefault(),!0)},_dropHandler:function(t,i){var s=!0;if(t._isDragging&&!t.isResizing&&!t._resizeDirection){var o=parseInt(t.host.css("left"),10),n=parseInt(t.host.css("top"),10),r=t._isTouchDevice?0:i.pageX,h=t._isTouchDevice?0:i.pageY;t.enableResize=t._enableResizeBackup,t._enableResizeBackup="undefined",t._raiseEvent(3,o,n,r,h),s=!1,"undefined"!=i.preventDefault&&i.preventDefault(),null!=i.originalEvent&&(i.originalEvent.mouseHandled=!0),"undefined"!=i.stopPropagation&&i.stopPropagation()}return t._isDragging=!1,t._mouseDown=!1,e(document.body).removeClass(t.toThemeProperty("jqx-disableselect")),s},_dragHandler:function(t,i){if(t._isDragging&&!t.isResizing&&!t._resizeDirection){var s=t._isTouchDevice?i.originalEvent.which:i.which;if(void 0===t._enableResizeBackup&&(t._enableResizeBackup=t.enableResize),t.enableResize=!1,0===s&&e.jqx.browser.msie&&e.jqx.browser.version<8)return t._dropHandler(t,i);var o=e.jqx.mobile.getTouches(i),n=(o[0],e.jqx.position(i)),r=n.left,h=n.top,a=r-t._mousePosition.x,d=h-t._mousePosition.y,l=t._windowPosition.x+a,c=t._windowPosition.y+d;return t.move(l,c,i),i.preventDefault(),!1}return!0},_validateCoordinates:function(e,t,i,s){var o=this._getDraggingArea();e=e<o.left?o.left:e,t=t<o.top?o.top:t;var n=this.host.outerWidth(!0),r=this.host.outerHeight(!0);return e+n>=o.width+o.left-2*s&&(e=o.width+o.left-n-s),t+r>=o.height+o.top-i&&(t=o.height+o.top-r-i),{x:e,y:t}},_performLayout:function(){this._performHeaderLayout(),this._performWidgetLayout()},_parseDragAreaAttributes:function(){null!==this.dragArea&&(this.dragArea.height=parseInt(this.dragArea.height,10),this.dragArea.width=parseInt(this.dragArea.width,10),this.dragArea.top=parseInt(this.dragArea.top,10),this.dragArea.left=parseInt(this.dragArea.left,10))},_positionWindow:function(){if(this._parseDragAreaAttributes(),this.position instanceof Array&&2===this.position.length&&"number"==typeof this.position[0]&&"number"==typeof this.position[1])this.host.css({left:this.position[0],top:this.position[1]});else if(this.position instanceof Object){if(this.position.left)this.host.offset(this.position);else if(void 0!==this.position.x&&void 0!=this.position.y)this.host.css({left:this.position.x,top:this.position.y});else if(this.position.center){this._centerElement(this.host,this.position.center,"xy");var e=this.position.center.coord(),t=parseInt(this.host.css("left")),i=parseInt(this.host.css("top"));this.host.css({left:t+e.left,top:i+e.top})}}else this._positionFromLiteral()},_getDraggingArea:function(){var e={};return e.left=this.dragArea&&this.dragArea.left?this.dragArea.left:0,e.top=this.dragArea&&this.dragArea.top?this.dragArea.top:0,e.width=this.dragArea&&this.dragArea.width?this.dragArea.width:this._getDocumentSize().width,e.height=this.dragArea&&this.dragArea.height?this.dragArea.height:this._getDocumentSize().height,e},_positionFromLiteral:function(){this.position instanceof Array||(this.position=this.position.split(","));for(var t=this.position.length,i=this._getDraggingArea();t;)switch(t-=1,this.position[t]=this.position[t].replace(/ /g,""),this.position[t]){case"top":this.host.css("top",i.top);break;case"left":this.host.css("left",i.left);break;case"bottom":this.host.css("top",i.height-this.host.height()+i.top);break;case"right":this.host.css("left",i.left+i.width-this.host.width());break;default:this.dragArea||(i=e(window)),this._centerElement(this.host,i,"xy")}},_raiseEvent:function(t){var i=this._events[t],s=e.Event(i),o={};return 2!==t&&3!==t||(o.x=arguments[1],o.y=arguments[2],o.pageX=arguments[3],o.pageY=arguments[4]),"closed"!==i&&"close"!==i||(o.dialogResult=this.dialogResult),s.args=o,this.host.trigger(s)},destroy:function(){this.removeHandler(e(window),"resize.window"+this.element.id),this._removeEventHandlers(),this._destroy()},_destroy:function(){this.restricter&&(this.removeHandler(e(window),"resize."+this.element.id),
this.removeHandler(e(window),"orientationchanged."+this.element.id),this.removeHandler(e(window),"orientationchange."+this.element.id)),this.host.remove(),null!==this._modalBackground&&this._modalBackground.remove()},_toClose:function(e,t){return e&&t[0]===this.element||t[0]!==this.element&&"object"==typeof t[0]},propertyChangedHandler:function(t,i,s,o){switch(this._validateProperties(),i){case"rtl":this._performLayout();break;case"dragArea":this._positionWindow();break;case"collapseButtonSize":case"closeButtonSize":this._performLayout();break;case"isModal":this._refresh(),this._fixWindowZIndex();break;case"keyboardCloseKey":this._removeEventHandlers(),this._addEventHandlers();break;case"disabled":o?this.disable():(this.disabled=!0,this.enable());break;case"showCloseButton":case"showCollapseButton":case"height":case"width":this._performLayout();break;case"title":this.setTitle(o),this.title=o;break;case"content":this.setContent(o);break;case"draggable":this._removeEventHandlers(),this._addEventHandlers(),this._removeResize(),this._initializeResize();break;case"resizable":this.enableResize=o,o?this._initializeResize():this._removeResize();break;case"position":this._positionWindow();break;case"modalOpacity":this._setModalBackgroundStyles();break;case"okButton":o?this._addDialogButtonsHandlers():this.removeHandler(this.okButton);break;case"cancelButton":o?this._addDialogButtonsHandlers():this.removeHandler(this.cancelButton);break;case"collapsed":o?s||(this.collapsed=!1,this.collapse(0)):s&&(this.collapsed=!0,this.expand(0));case"theme":e.jqx.utilities.setTheme(s,o,this.host);break;case"enableResize":return;case"maxWidth":case"maxHeight":case"minWidth":case"minHeight":return t._performLayout(),t._removeResize(),void t._initializeResize();default:return}},collapse:function(t){if(!this.collapsed&&!this.host.is(":animated")){if("none"==this.host.css("display"))return;var i=this,s=this._header.outerHeight(!0),o=parseInt(this._header.css("border-bottom-width"),10),n=parseInt(this._header.css("margin-bottom"),10),t=isNaN(parseInt(t))?this.collapseAnimationDuration:t;isNaN(o)||(s-=2*o),isNaN(n)||(s+=n),this._heightBeforeCollapse=this.host.height(),this._minHeightBeforeCollapse=this.host.css("min-height"),this.host.css("min-height",s),this.host.animate({height:s},t,function(){i.collapsed=!0,i._collapseButton.addClass(i.toThemeProperty("jqx-window-collapse-button-collapsed")),i._collapseButton.addClass(i.toThemeProperty("jqx-icon-arrow-down")),i._content.css("display","none"),i._raiseEvent(5),i._raiseEvent(9),e.jqx.aria(i,"aria-expanded",!1)})}},expand:function(t){if(this.collapsed&&!this.host.is(":animated")){var i=this,t=isNaN(parseInt(t))?this.collapseAnimationDuration:t;this.host.animate({height:this._heightBeforeCollapse},t,function(){i.collapsed=!1,i.host.css("min-height",i._minHeightBeforeCollapse),i._collapseButton.removeClass(i.toThemeProperty("jqx-window-collapse-button-collapsed")),i._collapseButton.removeClass(i.toThemeProperty("jqx-icon-arrow-down")),i._content.css("display","block"),i._raiseEvent(6),i._performWidgetLayout(),i._raiseEvent(9),e.jqx.aria(i,"aria-expanded",!0)})}},closeAll:function(t){for(var i=e.data(document.body,"jqxwindows-list"),s=i.length,o=e.data(document.body,"jqxwindow-modal")||[];s;)s-=1,this._toClose(!0,i[s])&&(i[s].jqxWindow("closeWindow","close"),i.splice(s,1));this._toClose(!0,o)&&(o.jqxWindow("closeWindow","close"),e.data(document.body,"jqxwindow-modal",[])),e.data(document.body,"jqxwindows-list",i)},setTitle:function(t){e.jqx.utilities.html(this._headerContentWrapper,t),this.title=t,this._performLayout()},setContent:function(t){this._contentInitialized=!1;for(var i=this._content,s=!1;!s;)i.css("height","auto"),i.css("width","auto"),i.is(".jqx-window")?s=!0:i=i.parent();e.jqx.utilities.html(this._content,t),this._performLayout()},disable:function(){this.disabled=!0,this._removeEventHandlers(),this._header.addClass(this.toThemeProperty("jqx-window-header-disabled")),this._closeButton.addClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.addClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this._content.addClass(this.toThemeProperty("jqx-window-content-disabled")),this.host.addClass(this.toThemeProperty("jqx-window-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._removeResize()},enable:function(){this.disabled&&(this._addEventHandlers(),this._header.removeClass(this.toThemeProperty("jqx-window-header-disabled")),this._content.removeClass(this.toThemeProperty("jqx-window-content-disabled")),this._closeButton.removeClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.removeClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this.host.removeClass(this.toThemeProperty("jqx-window-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!1,this._initializeResize())},isOpen:function(){return this._visible},closeWindow:function(e){var t=this;e=void 0===e?this.closeButtonAction:e,this.hide(function(){"close"===e&&t._destroy()})},bringToFront:function(){var t=e.data(document.body,"jqxwindows-list");if(this.isModal)return t=e.data(document.body,"jqxwindows-modallist"),this._fixWindowZIndex("modal-hide"),void this._fixWindowZIndex("modal-show");for(var i=t[t.length-1],s=parseInt(i.css("z-index"),10),o=this._indexOf(this.host,t),n=t.length-1;n>o;n-=1){var r=parseInt(t[n].css("z-index"),10)-1;t[n].css("z-index",r)}this.host.css("z-index",s),this._sortByStyle("z-index",t)},hide:function(e,t,i){if(this.closing){if(0==this.closing())return}switch(t=t||this.closeAnimationDuration,this.animationType){case"none":this.host.css("display","none");break;case"fade":this.host.fadeOut(t,function(){e instanceof Function&&e()});case"slide":this.host.slideUp(t,function(){e instanceof Function&&e()});case"combined":this.host.hide(t,function(){e instanceof Function&&e()})}this._visible=!1,this.isModal&&(this._modalBackground.hide(),this._fixWindowZIndex("modal-hide")),!0!==i&&(this._raiseEvent(1),this._raiseEvent(8))},open:function(e,t){this.show(e,t)},close:function(e,t,i){this.hide(e,t,i)},show:function(e,t){switch(this._setDialogResult("none"),t=t||this.showAnimationDuration,this.animationType){case"none":this.host.css("display","block");break;case"fade":this.host.fadeIn(t,function(){e instanceof Function&&e()});break;case"slide":this.host.slideDown(t,function(){e instanceof Function&&e()});break;case"combined":this.host.show(t,function(){e instanceof Function&&e()})}this.isModal&&(this._modalBackground.show(),this._fixWindowZIndex("modal-show"));var i=this;if(this._visible||(t>150&&"none"!=this.animationType?setTimeout(function(){i._contentInitialized||i.initContent&&(i.initContent(),i._contentInitialized=!0),i._raiseEvent(7),i._raiseEvent(9)},t-150):(i._contentInitialized||i.initContent&&(i.initContent(),i._contentInitialized=!0),this._raiseEvent(7),i._raiseEvent(9))),this._visible=!0,this._performLayout(),this.autoFocus){var s=function(){i._isTouchDevice||i._content.focus()};s(),setTimeout(function(){s()},100)}},_getTabbables:function(){var t=this._content.find("*"),i=new Array;return e.each(t,function(){s(this)&&(i[i.length]=this)}),i},move:function(t,i,s,o){var n,r,h,a=0,d=0,t=parseInt(t,10),i=parseInt(i,10);if(e.jqx.browser.msie&&(e(window).width()>e(document).width()&&!this.dragArea&&(d=this._SCROLL_WIDTH),e(window).height()<e(document).height()&&document.documentElement.clientWidth>document.documentElement.scrollWidth&&!this.dragArea&&(a=this._SCROLL_WIDTH)),n=this._validateCoordinates(t,i,d,a),parseInt(this.host.css("left"),10)!==n.x||parseInt(this.host.css("top"),10)!==n.y){if(s){var l=e.jqx.mobile.getTouches(s),c=(l[0],e.jqx.position(s));r=c.left,h=c.top}void 0==r&&(r=t),void 0==h&&(h=i),!1!==o&&this._raiseEvent(2,n.x,n.y,r,h)}this.element.style.left=n.x+"px",this.element.style.top=n.y+"px",this._moved=!0}})}(jqxBaseFramework),function(e){var t=function(e){return{resizeConfig:function(){this.resizeTarget=null,this.resizeIndicatorSize=5,this.resizeTargetChildren=null,this.isResizing=!1,this.resizeArea=!1,this.minWidth=1,this.maxWidth=100,this.minHeight=1,this.maxHeight=100,this.resizeParent=null,this.enableResize=!0,this._cursorBackup,this._resizeEvents=["resizing","resized","resize"],this._resizeMouseDown=!1,this._resizeCurrentMode=null,this._mouseResizePosition={},this._resizeMethods=null,this._SCROLL_WIDTH=21},_resizeExceptions:{invalidTarget:"Invalid target!",invalidMinHeight:"Invalid minimal height!",invalidMaxHeight:"Invalid maximum height!",invalidMinWidth:"Invalid minimum width!",invalidMaxWidth:"Invalid maximum width!",invalidIndicatorSize:"Invalid indicator size!",invalidSize:"Invalid size!"},removeResize:function(){if(this.resizeTarget){var t=e(this.resizeTarget.children(".jqx-resize"));t.detach();var i=t.children();this._removeResizeEventListeners();for(var s=0;s<i.length;s+=1)e(i[s]).detach(),this.resizeTarget.append(i[s]);t.remove()}},initResize:function(t){this.resizeConfig(),this.resizeTarget=e(t.target),this.resizeIndicatorSize=t.indicatorSize||10,this.maxWidth=t.maxWidth||100,this.minWidth=t.minWidth||1,this.maxHeight=t.maxHeight||100,this.minHeight=t.minHeight||1,this.resizeParent=t.resizeParent,this._parseResizeParentProperties(),this._validateResizeProperties(),this._validateResizeTargetDimensions(),this._getChildren(this.resizeTarget.maxWidth,this.resizeTarget.minWidth,this.resizeTarget.maxHeight,this.resizeTarget.minHeight,t.alsoResize),this._refreshResize(),this._cursorBackup=this.resizeTarget.css("cursor"),"auto"===this._cursorBackup&&(this._cursorBackup="default")},_validateResizeTargetDimensions:function(){this.resizeTarget.maxWidth=this.maxWidth,this.resizeTarget.minWidth=3*this.resizeIndicatorSize>this.minWidth?3*this.resizeIndicatorSize:this.minWidth,this.resizeTarget.maxHeight=this.maxHeight,this.resizeTarget.minHeight=3*this.resizeIndicatorSize>this.minHeight?3*this.resizeIndicatorSize:this.minHeight},_parseResizeParentProperties:function(){this.resizeParent&&(this.resizeParent.left=parseInt(this.resizeParent.left,10),this.resizeParent.top=parseInt(this.resizeParent.top,10),this.resizeParent.width=parseInt(this.resizeParent.width,10),this.resizeParent.height=parseInt(this.resizeParent.height,10))},_getChildren:function(t,i,s,o,n){this.resizeTargetChildren=e(n),this.resizeTargetChildren.toArray();for(var r=this.resizeTargetChildren.length;r;)r-=1,this.resizeTargetChildren[r]=e(this.resizeTargetChildren[r])},_refreshResize:function(){this._renderResize(),this._performResizeLayout(),this._removeResizeEventListeners(),this._addResizeEventHandlers()},_renderResize:function(){this.resizeTarget.wrapInner(e("<div></div>")),this._resizeWrapper=this.resizeTarget.children(0),this._resizeWrapper.addClass("jqx-resize"),this._resizeWrapper.addClass("jqx-rc-all"),this._resizeWrapper.css("z-index",8e3)},_performResizeLayout:function(){this._resizeWrapper.height(this.resizeTarget.height()),this._resizeWrapper.width(this.resizeTarget.width())},_removeResizeEventListeners:function(){var t=this.resizeTarget.attr("id");this.removeHandler(this._resizeWrapper,"mousemove.resize"+t),this.removeHandler(this._resizeWrapper,"mousedown.resize"+t),this.removeHandler(e(document),"mousemove.resize"+t),this.removeHandler(e(document),"mouseup.resize"+t)},_addResizeEventHandlers:function(){var t=this.resizeTarget.attr("id"),i=this;this.addHandler(this._resizeWrapper,"mousemove.resize."+t,function(e){i._resizeCursorChangeHandler(i,e)}),this.addHandler(this._resizeWrapper,"mousedown.resize."+t,function(e){i._resizeMouseDownHandler(i,e)}),this.addHandler(e(document),"mousemove.resize."+t,function(e){return i._resizeHandler(i,e)}),this.addHandler(e(document),"mouseup.resize."+t,function(e){i._stopResizing(i,e)});try{if(""!=document.referrer||window.frameElement){var s=function(e){i._stopResizing(i,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",s,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",s)}}catch(e){}},_stopResizing:function(e,t){e.enableResize&&(e.isResizing&&e._raiseResizeEvent(1),e._resizeMouseDown=!1,e.isResizing=!1,e._resizeDirection=null,e.resizeTarget&&e.resizeTarget.removeClass("jqx-disableselect")),"undefined"==e._cursorBackup&&(e._cursorBackup="default"),e._resizeWrapper&&e._resizeWrapper.css("cursor",e._cursorBackup)},_resizeHandler:function(t,i){if(t.enableResize&&!t.collapsed)return t.isResizing&&t._resizeDirection?(0===i.which&&e.jqx.browser.msie&&e.jqx.browser.version<9&&t._stopResizing(i),t._performResize(i.pageX,i.pageY),!1):t._resizeCaptureCursor(i.pageX,i.pageY)},_resizeCaptureCursor:function(e,t){if(this._resizeMouseDown&&!this.isResizing&&this._resizeDirection&&(e+3<this._mouseResizePosition.x||e-3>this._mouseResizePosition.x||t+3<this._mouseResizePosition.y||t-3>this._mouseResizePosition.y))return this._changeCursor(e-parseInt(this.resizeTarget.css("left")),t-parseInt(this.resizeTarget.css("top"))),this._mouseResizePosition={x:e,y:t},this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this.resizeTarget.addClass("jqx-disableselect"),!1},_resizeBackupData:function(){this.resizeTarget.lastWidth=this.resizeTarget.width(),this.resizeTarget.lastHeight=this.resizeTarget.height(),this.resizeTarget.x=parseInt(this.resizeTarget.css("left"),10),this.resizeTarget.y=parseInt(this.resizeTarget.css("top"),10),this._resizeBackupChildrenSize()},_resizeBackupChildrenSize:function(){for(var e,t=this.resizeTargetChildren.length;t;)t-=1,e=this.resizeTargetChildren[t],this.resizeTargetChildren[t].lastWidth=e.width(),this.resizeTargetChildren[t].lastHeight=e.height()},_performResize:function(e,t){var i=e-this._mouseResizePosition.x,s=t-this._mouseResizePosition.y;this._resizeDirection&&this._resize(this.resizeTarget,i,s)},_resizeCursorChangeHandler:function(e,t){e.enableResize&&!e.collapsed&&(e.isResizing||e._changeCursor(t.pageX-parseInt(e.resizeTarget.css("left")),t.pageY-parseInt(e.resizeTarget.css("top"))))},_resizeMouseDownHandler:function(e,t){e.enableResize&&null!==e._resizeDirection&&(e._resizeMouseDown=!0,e._mouseResizePosition.x=t.pageX,e._mouseResizePosition.y=t.pageY,t.preventDefault())},_validateResizeProperties:function(){try{if(!this.resizeTarget||1!==this.resizeTarget.length)throw new Error(this._resizeExceptions.invalidTarget);if(this.minHeight<0||isNaN(parseInt(this.minHeight)))throw new Error(this._resizeExceptions.invalidMinHeight);if(this.maxHeight<=0||isNaN(parseInt(this.maxHeight)))throw new Error(this._resizeExceptions.invalidMaxHeight);if(this.minWidth<0||isNaN(parseInt(this.minWidth)))throw new Error(this._resizeExceptions.invalidMinWidth);if(this.maxWidth<0||isNaN(parseInt(this.maxWidth)))throw new Error(this._resizeExceptions.invalidMaxWidth);if(this.resizeIndicatorSize<0||isNaN(parseInt(this.resizeIndicatorSize)))throw new Error(this._resizeExceptions.invalidIndicatorSize);if(this.minHeight>this.maxHeight||this.minWidth>this.maxWidth)throw new Error(this._resizeExceptions.invalidSize)}catch(e){}},_changeCursor:function(e,t){this.isResizing||this._resizeMouseDown||(this.resizeArea=!0,e<=this.resizeIndicatorSize&&e>=0&&t<=this.resizeIndicatorSize&&t>0?(this._resizeWrapper.css("cursor","nw-resize"),this._resizeDirection="topleft"):t<=this.resizeIndicatorSize&&t>0&&e>=this.resizeTarget.width()-this.resizeIndicatorSize?(this._resizeWrapper.css("cursor","ne-resize"),this._resizeDirection="topright"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()&&e<=this.resizeIndicatorSize&&e>=0?(this._resizeWrapper.css("cursor","sw-resize"),this._resizeDirection="bottomleft"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()&&e>=this.resizeTarget.width()-this.resizeIndicatorSize&&e<this.resizeTarget.width()?(this._resizeWrapper.css("cursor","se-resize"),this._resizeDirection="bottomright"):e<=this.resizeIndicatorSize&&e>=0?(this._resizeWrapper.css("cursor","e-resize"),this._resizeDirection="left"):t<=this.resizeIndicatorSize&&t>0?(this._resizeWrapper.css("cursor","n-resize"),this._resizeDirection="top"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()?(this._resizeWrapper.css("cursor","n-resize"),this._resizeDirection="bottom"):e>=this.resizeTarget.width()-this.resizeIndicatorSize&&e<this.resizeTarget.width()?(this._resizeWrapper.css("cursor","e-resize"),this._resizeDirection="right"):(this._resizeWrapper.css("cursor",this._cursorBackup),this._resizeDirection=null,this.resizeArea=!1))},_prepareResizeMethods:function(e){this._resizeMethods=[],e.indexOf("left")>=0&&this._resizeMethods.push(this._resizeLeft),e.indexOf("top")>=0&&this._resizeMethods.push(this._resizeTop),e.indexOf("right")>=0&&this._resizeMethods.push(this._resizeRight),e.indexOf("bottom")>=0&&this._resizeMethods.push(this._resizeBottom)},_validateResize:function(e,t,i,s,o){return"horizontal"===i||"both"===i?this._validateWidth(e,s,o):"vertical"===i||"both"===i?this._validateHeight(t,s,o):{result:!1,fix:0}},_getParent:function(){return null!==this.resizeParent&&"undefined"!==this.resizeParent&&this.resizeParent.height&&this.resizeParent.width&&this.resizeParent.top&&this.resizeParent.left?this.resizeParent:{left:0,top:0,width:e(document).width(),height:e(document).height()}},_validateHeight:function(t,i,s){var o=0,n=this._getParent();return e(window).width()>e(document).width()&&e.jqx.browser.msie&&n.height===e(document).height()&&(o=this._SCROLL_WIDTH),"bottom"===s&&t+i.position().top+o+2>n.height+n.top?{fix:n.height-i.position().top-o-2+n.top,result:!1}:"top"===s&&i.lastHeight-t+i.y<n.top?{fix:t+(i.lastHeight-t+i.y)-n.top,result:!1}:t<i.minHeight?{fix:i.minHeight,result:!1}:t>i.maxHeight?{fix:i.maxHeight,result:!1}:{result:!0,fix:t}},_validateWidth:function(t,i,s){var o=0,n=this._getParent();return e(window).height()<e(document).height()&&e.jqx.browser.msie&&document.documentElement.clientWidth>=document.documentElement.scrollWidth&&n.width===e(document).width()&&(o=this._SCROLL_WIDTH),"right"===s&&t+i.position().left+o+2>n.width+n.left?{fix:n.width-i.position().left-o-2+n.left,result:!1}:"left"===s&&i.lastWidth-t+i.x<n.left?{fix:t+(i.lastWidth-t+i.x)-n.left,result:!1}:t<i.minWidth?{fix:i.minWidth,result:!1}:t>i.maxWidth?{fix:i.maxWidth,result:!1}:{result:!0,fix:t}},_resize:function(e,t,i){for(var s=(this._resizeDirection,this._resizeMethods.length),o=0;o<s;o++)if(this._resizeMethods[o]instanceof Function){var n={element:e,x:t,y:i,self:this};this._resizeMethods[o](n)}this._performResizeLayout()},resize:function(e,t){if(this.resizable){var i=e-this.host.width(),s=t-this.host.height(),o="right";0!=s&&(o="bottom"),this._resizeDirection=o,this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this._resize(this.resizeTarget,i,s),this.isResizing=!1}},_setResizeChildrenSize:function(e,t){for(var i=this.resizeTargetChildren.length;i;)if(i--,"width"===t){var s=this.resizeTargetChildren[i].lastWidth-(this.resizeTarget.lastWidth-e);s<this.resizeTarget.maxWidth&&s>0&&this.resizeTargetChildren[i].width(s)}else{var o=this.resizeTargetChildren[i].lastHeight-(this.resizeTarget.lastHeight-e);o<this.resizeTarget.maxHeight&&o>0&&this.resizeTargetChildren[i].height(o)}},_resizeRight:function(e){var t=e.element.lastWidth+e.x,i=e.self._validateResize(t,0,"horizontal",e.element,"right");return i.result||(t=i.fix),e.element.width()!==t&&(e.self._setResizeChildrenSize(t,"width"),e.element.width(t),e.self._raiseResizeEvent(0)),t},_resizeLeft:function(e){var t=e.element.lastWidth-e.x,i=e.self._validateResize(t,0,"horizontal",e.element,"left"),s=e.element.x+e.x;return i.result?(e.element.width()!==t&&(e.self._setResizeChildrenSize(t,"width"),e.element.width(t),e.element.css("left",s),e.self._raiseResizeEvent(0)),t):(s=e.element.x+(e.element.lastWidth-i.fix),void(t=i.fix))},_resizeBottom:function(e){var t=e.element.lastHeight+e.y,i=e.self._validateResize(0,t,"vertical",e.element,"bottom");return i.result||(t=i.fix),e.element.height()!==t&&(e.self._setResizeChildrenSize(t,"height"),e.element.height(t),e.self._raiseResizeEvent(0)),t},_resizeTop:function(e){var t=e.element.lastHeight-e.y,i=e.self._validateResize(0,t,"vertical",e.element,"top"),s=e.element.y+e.y;return i.result?(e.element.height()!==t&&(e.self._setResizeChildrenSize(t,"height"),e.element.height(t),e.element.css("top",s),e.self._raiseResizeEvent(0)),t):(s=e.element.y+(e.element.lastHeight-i.fix),void(t=i.fix))},_raiseResizeEvent:function(t){var i=this._resizeEvents[t],s=e.Event(i),o={};if(o.width=parseInt(this.resizeTarget[0].style.width),o.height=parseInt(this.resizeTarget[0].style.height),s.args=o,0==t){var i=this._resizeEvents[2],n=e.Event(i);n.args=o,this.resizeTarget.trigger(n)}return this.resizeTarget.trigger(s)}}}(jqxBaseFramework);e.extend(e.jqx._jqxWindow.prototype,t)}(jqxBaseFramework);