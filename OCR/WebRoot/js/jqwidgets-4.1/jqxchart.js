!function(e){e.jqx.jqxWidget("jqxDraw","",{}),e.extend(e.jqx._jqxDraw.prototype,{defineInstance:function(){var t={renderEngine:""};e.extend(!0,this,t);var i=["clear","on","off","removeElement","attr","getAttr","line","circle","rect","path","pieslice","text","measureText"];for(var r in i)this._addFn(e.jqx._jqxDraw.prototype,i[r])},_addFn:function(e,t){e[t]||(e[t]=function(){return this.renderer[t].apply(this.renderer,arguments)})},createInstance:function(e){},_initRenderer:function(t){return e.jqx.createRenderer(this,t)},_internalRefresh:function(){var t=this;if(!e.jqx.isHidden(t.host)){t.renderer||(t.host.empty(),t._initRenderer(t.host));var i=t.renderer;if(i){var r=i.getRect();t._render({x:1,y:1,width:r.width,height:r.height}),i instanceof e.jqx.HTML5Renderer&&i.refresh()}}},_saveAsImage:function(t,i,r,s){return e.jqx._widgetToImage(this,t,i,r,s)},_render:function(e){var t=this;t.renderer;t._plotRect=e},refresh:function(){this._internalRefresh()},getSize:function(){var e=this._plotRect;return{width:e.width,height:e.height}},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)}})}(jqxBaseFramework),function(e){e.jqx.toGreyScale=function(t){if(-1==t.indexOf("#"))return t;var i=e.jqx.cssToRgb(t);i[0]=i[1]=i[2]=Math.round(.3*i[0]+.59*i[1]+.11*i[2]);var r=e.jqx.rgbToHex(i[0],i[1],i[2]);return"#"+r[0]+r[1]+r[2]},e.jqx.adjustColor=function(t,i){if("string"!=typeof t)return"#000000";if(-1==t.indexOf("#"))return t;var r=e.jqx.cssToRgb(t),s=e.jqx.rgbToHsl(r);s[2]=Math.min(1,s[2]*i),s[1]=Math.min(1,s[1]*i*1.1),r=e.jqx.hslToRgb(s);for(var t="#",a=0;a<3;a++){var n=Math.round(r[a]);n=e.jqx.decToHex(n),1==n.toString().length&&(t+="0"),t+=n}return t.toUpperCase()},e.jqx.decToHex=function(e){return e.toString(16)},e.jqx.hexToDec=function(e){return parseInt(e,16)},e.jqx.rgbToHex=function(t,i,r){return[e.jqx.decToHex(t),e.jqx.decToHex(i),e.jqx.decToHex(r)]},e.jqx.hexToRgb=function(t,i,r){return[e.jqx.hexToDec(t),e.jqx.hexToDec(i),e.jqx.hexToDec(r)]},e.jqx.cssToRgb=function(t){return t.indexOf("rgb")<=-1?e.jqx.hexToRgb(t.substring(1,3),t.substring(3,5),t.substring(5,7)):t.substring(4,t.length-1).split(",")},e.jqx.hslToRgb=function(t){var i=parseFloat(t[0]),s=parseFloat(t[1]),a=parseFloat(t[2]);if(0==s)r=g=b=a;else{var n=a<.5?a*(1+s):a+s-a*s,o=2*a-n;r=e.jqx.hueToRgb(o,n,i+1/3),g=e.jqx.hueToRgb(o,n,i),b=e.jqx.hueToRgb(o,n,i-1/3)}return[255*r,255*g,255*b]},e.jqx.hueToRgb=function(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e},e.jqx.rgbToHsl=function(e){var t,i,r=parseFloat(e[0])/255,s=parseFloat(e[1])/255,a=parseFloat(e[2])/255,n=Math.max(r,s,a),o=Math.min(r,s,a),l=(n+o)/2;if(n==o)t=i=0;else{var h=n-o;switch(i=l>.5?h/(2-n-o):h/(n+o),n){case r:t=(s-a)/h+(s<a?6:0);break;case s:t=(a-r)/h+2;break;case a:t=(r-s)/h+4}t/=6}return[t,i,l]},e.jqx.swap=function(e,t){var i=e;e=t,t=i},e.jqx.getNum=function(t){if(e.isArray(t)){for(var i=0;i<t.length;i++)if(!isNaN(t[i]))return t[i]}else if(isNaN(t))return 0;return 0},e.jqx._ptdist=function(e,t,i,r){return Math.sqrt((i-e)*(i-e)+(r-t)*(r-t))},e.jqx._ptrnd=function(t){if(!document.createElementNS)return Math.round(t)==t?t:e.jqx._rnd(t,1,!1,!0);var i=e.jqx._rnd(t,.5,!1,!0);return.5!=Math.abs(i-Math.round(i))?i>t?i-.5:i+.5:i},e.jqx._ptRotate=function(e,t,i,r,s){var a=Math.sqrt(Math.pow(Math.abs(e-i),2)+Math.pow(Math.abs(t-r),2)),n=Math.asin((e-i)/a),o=n+s;return e=i+Math.cos(o)*a,t=r+Math.sin(o)*a,{x:e,y:t}},e.jqx._rup=function(e){var t=Math.round(e);return e>t&&t++,t},e.jqx.log=function(e,t){return Math.log(e)/(t?Math.log(t):1)},e.jqx._mod=function(e,t){var i=Math.abs(e>t?t:e),r=1;if(0!=i)for(;i*r<100;)r*=10;return e*=r,t*=r,e%t/r},e.jqx._rnd=function(t,i,r,s){if(isNaN(t))return t;void 0===s&&(s=!0);var a=t-(1==s?t%i:e.jqx._mod(t,i));return t==a?a:(r?t>a&&(a+=i):a>t&&(a-=i),1==i?Math.round(a):a)},e.jqx.commonRenderer={pieSlicePath:function(e,t,i,r,s,a,n){r||(r=1);var o=Math.abs(s-a),l=o>180?1:0;o>=360&&(a=s+359.99);var h=s*Math.PI*2/360,d=a*Math.PI*2/360,f=e,u=e,c=t,g=t,p=!isNaN(i)&&i>0;if(p&&(n=0),n+i>0){if(n>0){var x=o/2+s,m=x*Math.PI*2/360;e+=n*Math.cos(m),t-=n*Math.sin(m)}if(p){var v=i;f=e+v*Math.cos(h),c=t-v*Math.sin(h),u=e+v*Math.cos(d),g=t-v*Math.sin(d)}}var _=e+r*Math.cos(h),y=e+r*Math.cos(d),b=t-r*Math.sin(h),M=t-r*Math.sin(d),N="",w=Math.abs(Math.abs(a-s)-360)>.02;return p?(N="M "+u+","+g,N+=" a"+i+","+i,N+=" 0 "+l+",1 "+(f-u)+","+(c-g),N+=w?" L"+_+","+b:" M"+_+","+b,N+=" a"+r+","+r,N+=" 0 "+l+",0 "+(y-_)+","+(M-b),w&&(N+=" Z")):(N="M "+y+","+M,N+=" a"+r+","+r,N+=" 0 "+l+",1 "+(_-y)+","+(b-M),w&&(N+=" L"+e+","+t,N+=" Z")),N},measureText:function(t,i,r,s,a){var n=a._getTextParts(t,i,r),o=n.width,l=n.height;0==s&&(l/=.6);var h={};if(isNaN(i)&&(i=0),0==i)h={width:e.jqx._rup(o),height:e.jqx._rup(l)};else{var d=i*Math.PI*2/360,f=Math.abs(Math.sin(d)),u=Math.abs(Math.cos(d)),c=Math.abs(o*f+l*u),g=Math.abs(o*u+l*f);h={width:e.jqx._rup(g),height:e.jqx._rup(c)}}return s&&(h.textPartsInfo=n),h},alignTextInRect:function(t,i,r,s,a,n,o,l,h,d){var f=h*Math.PI*2/360,u=Math.sin(f),c=Math.cos(f),g=a*u,p=a*c;"center"==o||""==o||"undefined"==o?t+=r/2:"right"==o&&(t+=r),"center"==l||"middle"==l||""==l||"undefined"==l?i+=s/2:"bottom"==l?i+=s-n/2:"top"==l&&(i+=n/2),d=d||"";var x="middle";-1!=d.indexOf("top")?x="top":-1!=d.indexOf("bottom")&&(x="bottom");var m="center";return-1!=d.indexOf("left")?m="left":-1!=d.indexOf("right")&&(m="right"),"center"==m?(t-=p/2,i-=g/2):"right"==m&&(t-=p,i-=g),"top"==x?(t-=n*u,i+=n*c):"middle"==x&&(t-=n*u/2,i+=n*c/2),t=e.jqx._rup(t),i=e.jqx._rup(i),{x:t,y:i}}},e.jqx.svgRenderer=function(){},e.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(e){e.append("<table id=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 id=tdTop></td></tr><tr><td id=tdLeft></td><td><div class='chartContainer' style='position:relative' onselectstart='return false;'></div></td></tr></table>"),this.host=e;var t=e.find(".chartContainer");t[0].style.width=e.width()+"px",t[0].style.height=e.height()+"px";try{var i=document.createElementNS(this._svgns,"svg");i.setAttribute("id","svgChart"),i.setAttribute("version","1.1"),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("overflow","hidden"),t[0].appendChild(i),this.canvas=i}catch(e){return!1}return this._id=(new Date).getTime(),this.clear(),this._layout(),this._runLayoutFix(),!0},getType:function(){return"SVG"},refresh:function(){},_runLayoutFix:function(){this._fixLayout()},_fixLayout:function(){var t=this.canvas.getBoundingClientRect(),i=parseFloat(t.left)==parseInt(t.left),r=parseFloat(t.top)==parseInt(t.top);if(e.jqx.browser.msie){for(var i=!0,r=!0,s=this.host,a=0,n=0;s&&s.position&&s[0].parentNode;){var o=s.position();a+=parseFloat(o.left)-parseInt(o.left),n+=parseFloat(o.top)-parseInt(o.top),s=s.parent()}i=parseFloat(a)==parseInt(a),r=parseFloat(n)==parseInt(n)}i||(this.host.find("#tdLeft")[0].style.width="0.5px"),r||(this.host.find("#tdTop")[0].style.height="0.5px")},_layout:function(){var t=this.host.find(".chartContainer");this._width=Math.max(e.jqx._rup(this.host.width())-1,0),this._height=Math.max(e.jqx._rup(this.host.height())-1,0),t[0].style.width=this._width,t[0].style.height=this._height,this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;this.canvas.childElementCount>0;)this.removeElement(this.canvas.firstElementChild);this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)},removeElement:function(e){if(void 0!=e){this.removeHandler(e);try{for(;e.firstChild;)this.removeElement(e.firstChild);e.parentNode?e.parentNode.removeChild(e):this.canvas.removeChild(e)}catch(e){}}},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElementNS(this._svgns,"g");return e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElementNS(this._svgns,"clipPath"),i=document.createElementNS(this._svgns,"rect");return this.attr(i,{x:e.x,y:e.y,width:e.width,height:e.height,fill:"none"}),this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),t.appendChild(i),this._defs.appendChild(t),t},getWindowHref:function(){var t=e.jqx.browser;if(t&&"msie"==t.browser&&t.version<10)return"";var i=window.location.href;return i?(i=i.replace(/([\('\)])/g,"\\$1"),i=i.replace(/#.*$/,"")):i},setClip:function(e,t){var i="url("+this.getWindowHref()+"#"+t.id+")";return this.attr(e,{"clip-path":i})},_clipId:0,addHandler:function(t,i,r){e(t).on?e(t).on(i,r):e(t).bind(i,r)},removeHandler:function(t,i,r){e(t).off?e(t).off(i,r):e(t).unbind(i,r)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},shape:function(e,t){var i=document.createElementNS(this._svgns,e);if(i){for(var r in t)i.setAttribute(r,t[r]);return this._activeParent().appendChild(i),i}},_getTextParts:function(t,i,r){var s={width:0,height:0,parts:[]};if(void 0===t)return s;var a=t.toString().split("<br>"),n=this._activeParent(),o=document.createElementNS(this._svgns,"text");this.attr(o,r);for(var l=0;l<a.length;l++){var h=a[l],d=o.ownerDocument.createTextNode(h);o.appendChild(d),n.appendChild(o);var f;try{f=o.getBBox()}catch(e){}var u=e.jqx._rup(f.width),c=e.jqx._rup(.6*f.height);o.removeChild(d),s.width=Math.max(s.width,u),s.height+=c+(l>0?4:0),s.parts.push({width:u,height:c,text:h})}return n.removeChild(o),s},_measureText:function(t,i,r,s){return e.jqx.commonRenderer.measureText(t,i,r,s,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(t,i,r,s,a,n,o,l,h,d,f){var u,c=this._measureText(t,n,o,!0),g=c.textPartsInfo,p=g.parts;if(h||(h="center"),d||(d="center"),(p.length>1||l)&&(u=this.beginGroup()),l){var x=this.createClipRect({x:e.jqx._rup(i)-1,y:e.jqx._rup(r)-1,width:e.jqx._rup(s)+2,height:e.jqx._rup(a)+2});this.setClip(u,x)}var m=this._activeParent(),v=0,_=0;v=g.width,_=g.height,(isNaN(s)||s<=0)&&(s=v),(isNaN(a)||a<=0)&&(a=_);var y=s||0,b=a||0;if(!n||0==n){r+=_,"center"==d||"middle"==d?r+=(b-_)/2:"bottom"==d&&(r+=b-_),s||(s=v),a||(a=_);for(var m=this._activeParent(),M=0,N=p.length-1;N>=0;N--){var w=document.createElementNS(this._svgns,"text");this.attr(w,o),this.attr(w,{cursor:"default"});var A=w.ownerDocument.createTextNode(p[N].text);w.appendChild(A);var S=i,C=p[N].width,j=p[N].height;"center"==h?S+=(y-C)/2:"right"==h&&(S+=y-C),this.attr(w,{x:e.jqx._rup(S),y:e.jqx._rup(r+M),width:e.jqx._rup(C),height:e.jqx._rup(j)}),m.appendChild(w),M-=p[N].height+4}return u?(this.endGroup(),u):w}var k=e.jqx.commonRenderer.alignTextInRect(i,r,s,a,v,_,h,d,n,f);i=k.x,r=k.y;var q=this.shape("g",{transform:"translate("+i+","+r+")"}),T=this.shape("g",{transform:"rotate("+n+")"});q.appendChild(T);for(var M=0,N=p.length-1;N>=0;N--){var D=document.createElementNS(this._svgns,"text");this.attr(D,o),this.attr(D,{cursor:"default"});var A=D.ownerDocument.createTextNode(p[N].text);D.appendChild(A);var S=0,C=p[N].width,j=p[N].height;"center"==h?S+=(g.width-C)/2:"right"==h&&(S+=g.width-C),this.attr(D,{x:e.jqx._rup(S),y:e.jqx._rup(M),width:e.jqx._rup(C),height:e.jqx._rup(j)}),T.appendChild(D),M-=j+4}return m.appendChild(q),u&&this.endGroup(),q},line:function(e,t,i,r,s){var a=this.shape("line",{x1:e,y1:t,x2:i,y2:r});return this.attr(a,s),a},path:function(e,t){var i=this.shape("path");return i.setAttribute("d",e),t&&this.attr(i,t),i},rect:function(t,i,r,s,a){t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i),r=Math.max(1,e.jqx._rnd(r,1,!1)),s=Math.max(1,e.jqx._rnd(s,1,!1));var n=this.shape("rect",{x:t,y:i,width:r,height:s});return a&&this.attr(n,a),n},circle:function(e,t,i,r){var s=this.shape("circle",{cx:e,cy:t,r:i});return r&&this.attr(s,r),s},pieSlicePath:function(t,i,r,s,a,n,o){return e.jqx.commonRenderer.pieSlicePath(t,i,r,s,a,n,o)},pieslice:function(e,t,i,r,s,a,n,o){var l=this.pieSlicePath(e,t,i,r,s,a,n),h=this.shape("path");return h.setAttribute("d",l),o&&this.attr(h,o),h},attr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent=t[i]:e.setAttribute(i,t[i])},removeAttr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent="":e.removeAttribute(t[i])},getAttr:function(e,t){return e.getAttribute(t)},_gradients:{},_toLinearGradient:function(t,i,r){var s="grd"+this._id+t.replace("#","")+(i?"v":"h"),a="url("+this.getWindowHref()+"#"+s+")";if(this._gradients[a])return a;var n=document.createElementNS(this._svgns,"linearGradient");this.attr(n,{x1:"0%",y1:"0%",x2:i?"0%":"100%",y2:i?"100%":"0%",id:s});for(var o=0;o<r.length;o++){var l=r[o],h=document.createElementNS(this._svgns,"stop"),d="stop-color:"+e.jqx.adjustColor(t,l[1]);this.attr(h,{offset:l[0]+"%",style:d}),n.appendChild(h)}return this._defs.appendChild(n),this._gradients[a]=!0,a},_toRadialGradient:function(t,i,r){var s="grd"+this._id+t.replace("#","")+"r"+(void 0!=r?r.key:""),a="url("+this.getWindowHref()+"#"+s+")";if(this._gradients[a])return a;var n=document.createElementNS(this._svgns,"radialGradient");void 0==r?this.attr(n,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:s}):this.attr(n,{cx:r.x,cy:r.y,r:r.outerRadius,id:s,gradientUnits:"userSpaceOnUse"});for(var o=0;o<i.length;o++){var l=i[o],h=document.createElementNS(this._svgns,"stop"),d="stop-color:"+e.jqx.adjustColor(t,l[1]);this.attr(h,{offset:l[0]+"%",style:d}),n.appendChild(h)}return this._defs.appendChild(n),this._gradients[a]=!0,a}},e.jqx.vmlRenderer=function(){},e.jqx.vmlRenderer.prototype={init:function(t){t.append("<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>"),this.host=t;var i=t.find(".chartContainer");i[0].style.width=t.width()+"px",i[0].style.height=t.height()+"px";var r=!0;try{for(var s=0;s<document.namespaces.length;s++)if("v"==document.namespaces[s].name&&"urn:schemas-microsoft-com:vml"==document.namespaces[s].urn){r=!1;break}}catch(e){return!1}return e.jqx.browser.msie&&parseInt(e.jqx.browser.version)<9&&document.childNodes&&document.childNodes.length>0&&document.childNodes[0].data&&-1!=document.childNodes[0].data.indexOf("DOCTYPE")?(r&&document.namespaces.add("v","urn:schemas-microsoft-com:vml"),this._ie8mode=!0):r&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"),this.canvas=i[0],this._width=Math.max(e.jqx._rup(i.width()),0),this._height=Math.max(e.jqx._rup(i.height()),0),i[0].style.width=this._width+2,i[0].style.height=this._height+2,this._id=(new Date).getTime(),this.clear(),!0},getType:function(){return"VML"},refresh:function(){},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;this.canvas.childElementCount>0;)this.removeHandler(this.canvas.firstElementChild),this.canvas.removeChild(this.canvas.firstElementChild);this._gradients={},this._defaultParent=void 0},removeElement:function(e){null!=e&&(this.removeHandler(e),e.parentNode.removeChild(e))},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElement("v:group");return t.style.position="absolute",t.coordorigin="0,0",t.coordsize=this._width+","+this._height,t.style.left=0,t.style.top=0,t.style.width=this._width,t.style.height=this._height,e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElement("div");return t.style.height=e.height+1+"px",t.style.width=e.width+1+"px",t.style.position="absolute",t.style.left=e.x+"px",t.style.top=e.y+"px",t.style.overflow="hidden",this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),this._activeParent().appendChild(t),t},setClip:function(e,t){},_clipId:0,addHandler:function(t,i,r){e(t).on?e(t).on(i,r):e(t).bind(i,r)},removeHandler:function(t,i,r){e(t).off?e(t).off(i,r):e(t).unbind(i,r)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},_getTextParts:function(t,i,r){var s={width:0,height:0,parts:[]},a=t.toString().split("<br>"),n=this._activeParent(),o=document.createElement("v:textbox");this.attr(o,r),n.appendChild(o);for(var l=0;l<a.length;l++){var h=a[l],d=document.createElement("span");d.appendChild(document.createTextNode(h)),o.appendChild(d),r&&r.class&&(d.className=r.class);var f=e(o),u=e.jqx._rup(f.width()),c=e.jqx._rup(.6*f.height());if(0==c&&e.jqx.browser.msie&&parseInt(e.jqx.browser.version)<9){var g=f.css("font-size");g&&(c=parseInt(g),isNaN(c)&&(c=0))}o.removeChild(d),s.width=Math.max(s.width,u),s.height+=c+(l>0?2:0),s.parts.push({width:u,height:c,text:h})}return n.removeChild(o),s},_measureText:function(t,i,r,s){return i=Math.abs(i)>45?90:0,e.jqx.commonRenderer.measureText(t,i,r,s,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(t,i,r,s,a,n,o,l,h,d){var f;o&&o.stroke&&(f=o.stroke),void 0==f&&(f="black");var u=this._measureText(t,n,o,!0),c=u.textPartsInfo,g=c.parts,p=u.width,x=u.height;(isNaN(s)||0==s)&&(s=p),(isNaN(a)||0==a)&&(a=x);var m;if(h||(h="center"),d||(d="center"),(g.length>0||l)&&(m=this.beginGroup()),l){var v=this.createClipRect({x:e.jqx._rup(i),y:e.jqx._rup(r),width:e.jqx._rup(s),height:e.jqx._rup(a)});this.setClip(m,v)}var _=this._activeParent(),y=s||0,b=a||0;n=Math.abs(n)>45?90:0;var M=0,N=0;"center"==h?M+=(y-p)/2:"right"==h&&(M+=y-p),"center"==d?N=(b-x)/2:"bottom"==d&&(N=b-x),0==n?(r+=x+N,i+=M):(i+=p+M,r+=N);for(var w,A=0,S=g.length-1;S>=0;S--){var C=g[S],j=(p-C.width)/2;0==n&&"left"==h?j=0:0==n&&"right"==h?j=p-C.width:90==n&&(j=(x-C.width)/2);var k=A-C.height;N=90==n?j:k,M=90==n?k:j,w=document.createElement("v:textbox"),w.style.position="absolute",w.style.left=e.jqx._rup(i+M),w.style.top=e.jqx._rup(r+N),w.style.width=e.jqx._rup(C.width),w.style.height=e.jqx._rup(C.height),90==n&&(w.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)",w.style.height=e.jqx._rup(C.height)+5);var q=document.createElement("span");q.appendChild(document.createTextNode(C.text)),o&&o.class&&(q.className=o.class),w.appendChild(q),_.appendChild(w),A-=C.height+(S>0?2:0)}return m?(this.endGroup(),_):w},shape:function(e,t){var i=document.createElement(this._createElementMarkup(e));if(i){for(var r in t)i.setAttribute(r,t[r]);return this._activeParent().appendChild(i),i}},line:function(e,t,i,r,s){var a="M "+e+","+t+" L "+i+","+r+" X E",n=this.path(a);return this.attr(n,s),n},_createElementMarkup:function(e){var t="<v:"+e+' style=""></v:'+e+">";return this._ie8mode&&(t=t.replace('style=""','style="behavior: url(#default#VML);"')),t},path:function(e,t){var i=document.createElement(this._createElementMarkup("shape"));return i.style.position="absolute",i.coordsize=this._width+" "+this._height,i.coordorigin="0 0",i.style.width=parseInt(this._width),i.style.height=parseInt(this._height),i.style.left="0px",i.style.top="0px",i.setAttribute("path",e),this._activeParent().appendChild(i),t&&this.attr(i,t),i},rect:function(t,i,r,s,a){t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i),r=e.jqx._rup(r),s=e.jqx._rup(s);var n=this.shape("rect",a);return n.style.position="absolute",n.style.left=t,n.style.top=i,n.style.width=r,n.style.height=s,n.strokeweight=0,a&&this.attr(n,a),n},circle:function(t,i,r,s){var a=this.shape("oval");return t=e.jqx._ptrnd(t-r),i=e.jqx._ptrnd(i-r),r=e.jqx._rup(r),a.style.position="absolute",a.style.left=t,a.style.top=i,a.style.width=2*r,a.style.height=2*r,s&&this.attr(a,s),a},updateCircle:function(t,i,r,s){void 0==i&&(i=parseFloat(t.style.left)+parseFloat(t.style.width)/2),void 0==r&&(r=parseFloat(t.style.top)+parseFloat(t.style.height)/2),void 0==s&&(s=parseFloat(t.width)/2),i=e.jqx._ptrnd(i-s),r=e.jqx._ptrnd(r-s),s=e.jqx._rup(s),t.style.left=i,t.style.top=r,t.style.width=2*s,t.style.height=2*s},pieSlicePath:function(t,i,r,s,a,n,o){s||(s=1);var l=Math.abs(a-n);l>360&&(a=0,n=360);var h=a*Math.PI*2/360,d=n*Math.PI*2/360,f=t,u=i,c=!isNaN(r)&&r>0;if(c&&(o=0),o>0){var g=l/2+a,p=g*Math.PI*2/360;t+=o*Math.cos(p),i-=o*Math.sin(p)}if(c){var x=r;f=e.jqx._ptrnd(t+x*Math.cos(h)),u=e.jqx._ptrnd(i-x*Math.sin(h)),e.jqx._ptrnd(t+x*Math.cos(d)),e.jqx._ptrnd(i-x*Math.sin(d))}var m=(e.jqx._ptrnd(t+s*Math.cos(h)),e.jqx._ptrnd(t+s*Math.cos(d))),v=(e.jqx._ptrnd(i-s*Math.sin(h)),e.jqx._ptrnd(i-s*Math.sin(d)));s=e.jqx._ptrnd(s),r=e.jqx._ptrnd(r),t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i);var _=Math.round(65535*a),y=Math.round(65536*(n-a));r<0&&(r=1);var b="";return c?(b="M"+f+" "+u,b+=" AE "+t+" "+i+" "+r+" "+r+" "+_+" "+y,b+=" L "+m+" "+v,_=Math.round(65535*(a-n)),y=Math.round(65536*n),b+=" AE "+t+" "+i+" "+s+" "+s+" "+y+" "+_,b+=" L "+f+" "+u):(b="M"+t+" "+i,b+=" AE "+t+" "+i+" "+s+" "+s+" "+_+" "+y),b+=" X E"},pieslice:function(e,t,i,r,s,a,n,o){var l=this.pieSlicePath(e,t,i,r,s,a,n),h=this.path(l,o);return o&&this.attr(h,o),h},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"stroke-dasharray",vml:"dashstyle"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"stroke-opacity",vml:"strokeopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"},{svg:"display",vml:"style.display"}],_translateParam:function(e){for(var t in this._keymap)if(this._keymap[t].svg==e)return this._keymap[t].vml;return e},attr:function(e,t){if(e&&t)for(var i in t){var r=this._translateParam(i);void 0!=t[i]&&("fillcolor"==r&&-1!=t[i].indexOf("grd")?e.type=t[i]:"fillcolor"==r&&"transparent"==t[i]?(e.style.filter="alpha(opacity=0)",e["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"):"opacity"==r||"fillopacity"==r?e.fill&&(e.fill.opacity=t[i]):"textContent"==r?e.children[0].innerText=t[i]:"dashstyle"==r?e.dashstyle=t[i].replace(","," "):-1==r.indexOf("style.")?e[r]=t[i]:e.style[r.replace("style.","")]=t[i])}},removeAttr:function(e,t){if(e&&t)for(var i in t)e.removeAttribute(t[i])},getAttr:function(e,t){var i=this._translateParam(t);return"opacity"==i||"fillopacity"==i?e.fill?e.fill.opacity:1:-1==i.indexOf("style.")?e[i]:e.style[i.replace("style.","")]},_gradients:{},_toRadialGradient:function(e,t,i){return e},_toLinearGradient:function(t,i,r){if(this._ie8mode)return t;var s="grd"+t.replace("#","")+(i?"v":"h"),a="#"+s;if(this._gradients[a])return a;var n=document.createElement(this._createElementMarkup("fill"));n.type="gradient",n.method="linear",n.angle=i?0:90;for(var o="",l=0;l<r.length;l++){var h=r[l];h>0&&(o+=", "),o+=h[0]+"% "+e.jqx.adjustColor(t,h[1])}n.colors=o;var d=document.createElement(this._createElementMarkup("shapetype"));return d.appendChild(n),d.id=s,this.canvas.appendChild(d),a}},e.jqx.HTML5Renderer=function(){},e.jqx.ptrnd=function(e){if(.5==Math.abs(Math.round(e)-e))return e;var t=Math.round(e);return t<e&&(t-=1),t+.5},e.jqx.HTML5Renderer.prototype={init:function(e){try{this.host=e,this.host.append("<div class='chartContainer' style='position:relative' onselectstart='return false;'><canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/></div>"),this.canvas=e.find("#__jqxCanvasWrap"),this.canvas[0].width=e.width(),this.canvas[0].height=e.height(),this.ctx=this.canvas[0].getContext("2d"),this._elements={},this._maxId=0,this._gradientId=0,this._gradients={},this._currentPoint={x:0,y:0},this._lastCmd="",this._pos=0}catch(e){return!1}return!0},getType:function(){return"HTML5"},getContainer:function(){return this.host.find(".chartContainer")},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(e){},addHandler:function(e,t,i){},removeHandler:function(e,t,i){},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},clear:function(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0},removeElement:function(e){void 0!=e&&this._elements[e.id]&&delete this._elements[e.id]},shape:function(e,t){var i={type:e,id:this._maxId++};for(var r in t)i[r]=t[r];return this._elements[i.id]=i,i},attr:function(e,t){for(var i in t)e[i]=t[i]},removeAttr:function(e,t){for(var i in t)delete e[t[i]]},rect:function(e,t,i,r,s){if(isNaN(e))throw'Invalid value for "x"';if(isNaN(t))throw'Invalid value for "y"';if(isNaN(i))throw'Invalid value for "width"';if(isNaN(r))throw'Invalid value for "height"';var a=this.shape("rect",{x:e,y:t,width:i,height:r});return s&&this.attr(a,s),a},path:function(e,t){var i=this.shape("path",t);return this.attr(i,{d:e}),i},line:function(e,t,i,r,s){return this.path("M "+e+","+t+" L "+i+","+r,s)},circle:function(e,t,i,r){var s=this.shape("circle",{x:e,y:t,r:i});return r&&this.attr(s,r),s},pieSlicePath:function(t,i,r,s,a,n,o){return e.jqx.commonRenderer.pieSlicePath(t,i,r,s,a,n,o)},pieslice:function(e,t,i,r,s,a,n,o){var l=this.path(this.pieSlicePath(e,t,i,r,s,a,n),o);return this.attr(l,{x:e,y:t,innerRadius:i,outerRadius:r,angleFrom:s,angleTo:a}),l},_getCSSStyle:function(e){var t=document.styleSheets;try{for(var i=0;i<t.length;i++)for(var r=0;t[i].cssRules&&r<t[i].cssRules.length;r++)if(-1!=t[i].cssRules[r].selectorText.indexOf(e))return t[i].cssRules[r].style}catch(e){}return{}},_getTextParts:function(t,i,r){var s="Arial",a="10pt",n="";if(r&&r.class){var o=this._getCSSStyle(r.class);o.fontSize&&(a=o.fontSize),o.fontFamily&&(s=o.fontFamily),o.fontWeight&&(n=o.fontWeight)}this.ctx.font=n+" "+a+" "+s;for(var l={width:0,height:0,parts:[]},h=t.toString().split("<br>"),d=0;d<h.length;d++){var f=h[d],u=this.ctx.measureText(f).width,c=document.createElement("span.jqxchart");c.font=this.ctx.font,c.textContent=f,document.body.appendChild(c);var g=.6*c.offsetHeight;document.body.removeChild(c),l.width=Math.max(l.width,e.jqx._rup(u)),l.height+=g+(d>0?4:0),l.parts.push({width:u,height:g,text:f})}return l},_measureText:function(t,i,r,s){return e.jqx.commonRenderer.measureText(t,i,r,s,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(e,t,i,r,s,a,n,o,l,h,d){var f=this.shape("text",{text:e,x:t,y:i,width:r,height:s,angle:a,clip:o,halign:l,valign:h,rotateAround:d});if(n&&this.attr(f,n),f.fontFamily="Arial",f.fontSize="10pt",f.fontWeight="",f.color="#000000",n&&n.class){var u=this._getCSSStyle(n.class);f.fontFamily=u.fontFamily||f.fontFamily,f.fontSize=u.fontSize||f.fontSize,f.fontWeight=u.fontWeight||f.fontWeight,f.color=u.color||f.color}var c=this._measureText(e,0,n,!0);return this.attr(f,{textPartsInfo:c.textPartsInfo,textWidth:c.width,textHeight:c.height}),(r<=0||isNaN(r))&&this.attr(f,{width:c.width}),(s<=0||isNaN(s))&&this.attr(f,{height:c.height}),f},_toLinearGradient:function(t,i,r){if(this._renderers._gradients[t])return t;for(var s=[],a=0;a<r.length;a++)s.push({percent:r[a][0]/100,color:e.jqx.adjustColor(t,r[a][1])});var n="gr"+this._gradientId++;return this.createGradient(n,i?"vertical":"horizontal",s),n},_toRadialGradient:function(t,i){if(this._renderers._gradients[t])return t;for(var r=[],s=0;s<i.length;s++)r.push({percent:i[s][0]/100,color:e.jqx.adjustColor(t,i[s][1])});var a="gr"+this._gradientId++;return this.createGradient(a,"radial",r),a},createGradient:function(e,t,i){this._renderers.createGradient(this,e,t,i)},_renderers:{createGradient:function(e,t,i,r){e._gradients[t]={orientation:i,colorStops:r}},setStroke:function(e,t){var i=e.ctx;i.strokeStyle=t.stroke||"transparent",i.lineWidth=t["stroke-width"]||1,void 0!=t["fill-opacity"]?i.globalAlpha=t["fill-opacity"]:void 0!=t.opacity?i.globalAlpha=t.opacity:i.globalAlpha=1,i.setLineDash&&(t["stroke-dasharray"]?i.setLineDash(t["stroke-dasharray"].split(",")):i.setLineDash([]))},setFillStyle:function(t,i){var r=t.ctx;if(r.fillStyle="transparent",void 0!=i["fill-opacity"]?r.globalAlpha=i["fill-opacity"]:void 0!=i.opacity?r.globalAlpha=i.opacity:r.globalAlpha=1,i.fill&&-1==i.fill.indexOf("#")&&t._gradients[i.fill]){var s,a="horizontal"!=t._gradients[i.fill].orientation,n="radial"==t._gradients[i.fill].orientation,o=e.jqx.ptrnd(i.x),l=e.jqx.ptrnd(i.y),h=e.jqx.ptrnd(i.x+(a?0:i.width)),d=e.jqx.ptrnd(i.y+(a?i.height:0));"circle"!=i.type&&"path"!=i.type&&"rect"!=i.type||!n||(x=e.jqx.ptrnd(i.x),y=e.jqx.ptrnd(i.y),r1=i.innerRadius||0,r2=i.outerRadius||i.r||0,"rect"==i.type&&(x+=i.width/2,y+=i.height/2),s=r.createRadialGradient(x,y,r1,x,y,r2)),n||((isNaN(o)||isNaN(h)||isNaN(l)||isNaN(d))&&(o=0,l=0,h=a?0:r.canvas.width,d=a?r.canvas.height:0),s=r.createLinearGradient(o,l,h,d));for(var f=t._gradients[i.fill].colorStops,u=0;u<f.length;u++)s.addColorStop(f[u].percent,f[u].color);r.fillStyle=s}else i.fill&&(r.fillStyle=i.fill)},rect:function(t,i){0!=i.width&&0!=i.height&&(t.fillRect(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.width,i.height),t.strokeRect(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.width,i.height))},circle:function(t,i){0!=i.r&&(t.beginPath(),t.arc(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.r,0,2*Math.PI,!1),t.closePath(),t.fill(),t.stroke())},_parsePoint:function(e){return{x:this._parseNumber(e),y:this._parseNumber(e)}},_parseNumber:function(e){for(var t=!1,i=this._pos;i<e.length;i++)if(e[i]>="0"&&e[i]<="9"||"."==e[i]||"e"==e[i]||"-"==e[i]&&!t||"-"==e[i]&&i>=1&&"e"==e[i-1])t=!0;else{if(t||" "!=e[i]&&","!=e[i])break;this._pos++}var r=parseFloat(e.substring(this._pos,i));if(!isNaN(r))return this._pos=i,r},_cmds:"mlcazq",_isRelativeCmd:function(t){return e.jqx.string.contains(this._cmds,t)},_parseCmd:function(t){for(var i=this._pos;i<t.length;i++){if(e.jqx.string.containsIgnoreCase(this._cmds,t[i]))return this._pos=i+1,this._lastCmd=t[i],this._lastCmd;if(" "!=t[i]){if(t[i]>="0"&&t[i]<="9"){if(this._pos=i,""==this._lastCmd)break;return this._lastCmd}}else this._pos++}},_toAbsolutePoint:function(e){return{x:this._currentPoint.x+e.x,y:this._currentPoint.y+e.y}},path:function(e,t){var i=t.d;this._pos=0,this._lastCmd="";var r=void 0;this._currentPoint={x:0,y:0},e.beginPath();for(;this._pos<i.length;){var s=this._parseCmd(i);if(void 0==s)break;if("M"!=s&&"m"!=s)if("L"!=s&&"l"!=s)if("A"!=s&&"a"!=s)if("Z"!=s&&"z"!=s||void 0==r)if("C"!=s&&"c"!=s)if("Q"!=s&&"q"!=s);else{var a=this._parsePoint(i),n=this._parsePoint(i);e.quadraticCurveTo(a.x,a.y,n.x,n.y),this._currentPoint=n}else{var a=this._parsePoint(i),n=this._parsePoint(i),o=this._parsePoint(i);e.bezierCurveTo(a.x,a.y,n.x,n.y,o.x,o.y),this._currentPoint=o}else e.lineTo(r.x,r.y),this._currentPoint=r;else{var l=this._parseNumber(i),h=this._parseNumber(i),d=this._parseNumber(i)*(Math.PI/180),f=this._parseNumber(i),u=this._parseNumber(i),c=this._parsePoint(i);if(this._isRelativeCmd(s)&&(c=this._toAbsolutePoint(c)),0==l||0==h)continue;var g=this._currentPoint,p={x:Math.cos(d)*(g.x-c.x)/2+Math.sin(d)*(g.y-c.y)/2,y:-Math.sin(d)*(g.x-c.x)/2+Math.cos(d)*(g.y-c.y)/2},x=Math.pow(p.x,2)/Math.pow(l,2)+Math.pow(p.y,2)/Math.pow(h,2);x>1&&(l*=Math.sqrt(x),h*=Math.sqrt(x));var m=(f==u?-1:1)*Math.sqrt((Math.pow(l,2)*Math.pow(h,2)-Math.pow(l,2)*Math.pow(p.y,2)-Math.pow(h,2)*Math.pow(p.x,2))/(Math.pow(l,2)*Math.pow(p.y,2)+Math.pow(h,2)*Math.pow(p.x,2)));isNaN(m)&&(m=0);var v={x:m*l*p.y/h,y:m*-h*p.x/l},_={x:(g.x+c.x)/2+Math.cos(d)*v.x-Math.sin(d)*v.y,y:(g.y+c.y)/2+Math.sin(d)*v.x+Math.cos(d)*v.y},y=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},b=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(y(e)*y(t))},M=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(b(e,t))},N=M([1,0],[(p.x-v.x)/l,(p.y-v.y)/h]),w=[(p.x-v.x)/l,(p.y-v.y)/h],A=[(-p.x-v.x)/l,(-p.y-v.y)/h],S=M(w,A);b(w,A)<=-1&&(S=Math.PI),b(w,A)>=1&&(S=0),
0==u&&S>0&&(S-=2*Math.PI),1==u&&S<0&&(S+=2*Math.PI);var b=l>h?l:h,C=l>h?1:l/h,j=l>h?h/l:1;e.translate(_.x,_.y),e.rotate(d),e.scale(C,j),e.arc(0,0,b,N,N+S,1-u),e.scale(1/C,1/j),e.rotate(-d),e.translate(-_.x,-_.y)}else{var k=this._parsePoint(i);if(void 0==k)break;e.lineTo(k.x,k.y),this._currentPoint=k}else{var k=this._parsePoint(i);if(void 0==k)break;e.moveTo(k.x,k.y),this._currentPoint=k,void 0==r&&(r=k)}}e.fill(),e.stroke(),e.closePath()},text:function(t,i){var r=e.jqx.ptrnd(i.x),s=e.jqx.ptrnd(i.y),a=e.jqx.ptrnd(i.width),n=e.jqx.ptrnd(i.height),o=i.halign,l=i.valign,h=i.angle,d=i.rotateAround,f=i.textPartsInfo,u=f.parts,c=i.clip;void 0==c&&(c=!0),t.save(),o||(o="center"),l||(l="center"),c&&(t.rect(r,s,a,n),t.clip());var g=i.textWidth,p=i.textHeight,x=a||0,m=n||0;if(t.fillStyle=i.color,t.font=i.fontWeight+" "+i.fontSize+" "+i.fontFamily,!h||0==h){s+=p,"center"==l||"middle"==l?s+=(m-p)/2:"bottom"==l&&(s+=m-p),a||(a=g),n||(n=p);for(var v=0,_=u.length-1;_>=0;_--){var y=u[_],b=r,M=u[_].width;u[_].height;"center"==o?b+=(x-M)/2:"right"==o&&(b+=x-M),t.fillText(y.text,b,s+v),v-=y.height+(_>0?4:0)}return void t.restore()}var N=e.jqx.commonRenderer.alignTextInRect(r,s,a,n,g,p,o,l,h,d);r=N.x,s=N.y;var w=h*Math.PI*2/360;t.translate(r,s),t.rotate(w);for(var v=0,A=f.width,_=u.length-1;_>=0;_--){var b=0;"center"==o?b+=(A-u[_].width)/2:"right"==o&&(b+=A-u[_].width),t.fillText(u[_].text,b,v),v-=u[_].height+4}t.restore()}},refresh:function(){this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height);for(var e in this._elements){var t=this._elements[e];this._renderers.setFillStyle(this,t),this._renderers.setStroke(this,t),this._renderers[this._elements[e].type](this.ctx,t)}}},e.jqx.createRenderer=function(t,i){var r=t,s=r.renderer=null;if(document.createElementNS&&"HTML5"!=r.renderEngine&&"VML"!=r.renderEngine&&(s=new e.jqx.svgRenderer,!s.init(i))){if("SVG"==r.renderEngine)throw"Your browser does not support SVG";return null}if(null==s&&"HTML5"!=r.renderEngine){if(s=new e.jqx.vmlRenderer,!s.init(i)){if("VML"==r.renderEngine)throw"Your browser does not support VML";return null}r._isVML=!0}if(null==s&&("HTML5"==r.renderEngine||void 0==r.renderEngine)&&(s=new e.jqx.HTML5Renderer,!s.init(i)))throw"Your browser does not support HTML5 Canvas";return r.renderer=s,s},e.jqx._widgetToImage=function(t,i,r,s,a,n){var o=t;if(!o)return!1;void 0!=r&&""!=r||(r="image."+i);var l=o.renderEngine,h=o.enableAnimations;if(o.enableAnimations=!1,o.renderEngine="HTML5",o.renderEngine!=l)try{o.refresh()}catch(e){return o.renderEngine=l,o.refresh(),o.enableAnimations=h,!1}var d=o.renderer.getContainer().find("canvas")[0],f=!0;e.isFunction(n)&&(f=n(t,d));var u=!0;return f&&(u=e.jqx.exportImage(d,i,r,s,a)),o.renderEngine!=l&&(o.renderEngine=l,o.refresh(),o.enableAnimations=h),u},e.jqx.getByPriority=function(e){for(var t=void 0,i=0;i<e.length&&void 0==t;i++)void 0==t&&void 0!=e[i]&&(t=e[i]);return t},e.jqx.exportImage=function(t,i,r,s,a){if(!t)return!1;var n="pdf"===i.toLowerCase();if(n&&(i="jpeg"),void 0!=r&&""!=r||(r="image."+i),void 0==s||""==s)throw"Please specifiy export server";var o=!0;try{if(t){var l=t.toDataURL("image/"+i);if(n){e.jqx.pdfExport||(e.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var h=595;switch(e.jqx.pdfExport.paperSize){case"legal":var h=612;"portrait"!==e.jqx.pdfExport.orientation&&(h=1008);break;case"letter":var h=612;"portrait"!==e.jqx.pdfExport.orientation&&(h=792);break;case"a3":var h=841;"portrait"!==e.jqx.pdfExport.orientation&&(h=1190);break;case"a4":var h=595;"portrait"!==e.jqx.pdfExport.orientation&&(h=842);break;case"a5":var h=420;"portrait"!==e.jqx.pdfExport.orientation&&(h=595)}var d=e(t).width(),f=72*d/96;f>=h-20&&(f=h-20);var u=new pdfDataExport(e.jqx.pdfExport.orientation,"pt",e.jqx.pdfExport.paperSize);return u.addImage(l,"JPEG",10,10,f,0),void u.save(r)}if(l=l.replace("data:image/"+i+";base64,",""),a)e.ajax({dataType:"string",url:s,type:"POST",data:{content:l,fname:r},async:!1,success:function(e,t,i){o=!0},error:function(e,t,i){o=!1}});else{var c=document.createElement("form");c.method="POST",c.action=s,c.style.display="none",document.body.appendChild(c);var g=document.createElement("input");g.name="fname",g.value=r,g.style.display="none";var p=document.createElement("input");p.name="content",p.value=l,p.style.display="none",c.appendChild(g),c.appendChild(p),c.submit(),document.body.removeChild(c),o=!0}}}catch(e){o=!1}return o}}(jqxBaseFramework),function(e){jqxPlot=function(){},jqxPlot.prototype={get:function(e,t,i){return void 0!==i?e[t][i]:e[t]},min:function(e,t){for(var i=NaN,r=0;r<e.length;r++){var s=this.get(e,r,t);(isNaN(i)||s<i)&&(i=s)}return i},max:function(e,t){for(var i=NaN,r=0;r<e.length;r++){var s=this.get(e,r,t);(isNaN(i)||s>i)&&(i=s)}return i},sum:function(e,t){for(var i=0,r=0;r<e.length;r++){var s=this.get(e,r,t);isNaN(s)||(i+=s)}return i},count:function(e,t){for(var i=0,r=0;r<e.length;r++){var s=this.get(e,r,t);isNaN(s)||i++}return i},avg:function(e,t){return this.sum(e,t)/Math.max(1,count(e,t))},filter:function(e,t){if(!t)return e;for(var i=[],r=0;r<e.length;r++)t(e[r])&&i.push(e[r]);return i},scale:function(t,i,r,s){if(isNaN(t))return NaN;if((t<Math.min(i.min,i.max)||t>Math.max(i.min,i.max))&&(!s||!0!==s.ignore_range))return NaN;var a=NaN,n=1;if(void 0===i.type||"logarithmic"!=i.type){var o=Math.abs(i.max-i.min);o||(o=1),n=Math.abs(t-Math.min(i.min,i.max))/o}else if("logarithmic"===i.type){var l=i.base;isNaN(l)&&(l=10);var h=Math.min(i.min,i.max);h<=0&&(h=1);var d=Math.max(i.min,i.max);d<=0&&(d=1);var f=e.jqx.log(d,l);d=Math.pow(l,f);var u=e.jqx.log(h,l);h=Math.pow(l,u);var c=e.jqx.log(t,l);n=Math.abs(c-u)/(f-u)}if("logarithmic"===r.type){var l=r.base;isNaN(l)&&(l=10);var f=e.jqx.log(r.max,l),u=e.jqx.log(r.min,l);r.flip&&(n=1-n);var c=Math.min(u,f)+n*Math.abs(f-u);a=Math.pow(l,c)}else a=Math.min(r.min,r.max)+n*Math.abs(r.max-r.min),r.flip&&(a=Math.max(r.min,r.max)-a+r.min);return a},axis:function(t,i,r){if(r<=1)return[i,t];(isNaN(r)||r<2)&&(r=2);for(var s=0;Math.round(t)!=t&&Math.round(i)!=i&&s<10;)t*=10,i*=10,s++;for(var a=(i-t)/r;s<10&&Math.round(a)!=a;)t*=10,i*=10,a*=10,s++;for(var n=[1,2,5],o=0;;){var l=o%n.length,h=Math.floor(o/n.length),d=Math.pow(10,h)*n[l];l=(o+1)%n.length,h=Math.floor((o+1)/n.length);var f=Math.pow(10,h)*n[l];if(a>=d&&a<f)break;o++}for(var u=f,c=[],g=e.jqx._rnd(t,u,!1),p=s<=0?1:Math.pow(10,s);g<i+u;)c.push(g/p),g+=u;return c}}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxChart","",{}),e.extend(e.jqx._jqxChart.prototype,{defineInstance:function(){e.extend(!0,this,this._defaultSettings),this._createColorsCache()},_defaultSettings:{title:"Title",description:"Description",source:[],seriesGroups:[],categoryAxis:null,xAxis:{},valueAxis:null,renderEngine:"",enableAnimations:!0,enableAxisTextAnimation:!1,backgroundImage:"",background:"#FFFFFF",padding:{left:5,top:5,right:5,bottom:5},backgroundColor:"#FFFFFF",showBorderLine:!0,borderLineWidth:1,borderLineColor:null,borderColor:null,titlePadding:{left:5,top:5,right:5,bottom:10},showLegend:!0,legendLayout:null,enabled:!0,colorScheme:"scheme01",animationDuration:500,showToolTips:!0,toolTipShowDelay:500,toolTipDelay:500,toolTipHideDelay:4e3,toolTipMoveDuration:300,toolTipFormatFunction:null,toolTipAlignment:"dataPoint",localization:null,columnSeriesOverlap:!1,rtl:!1,legendPosition:null,greyScale:!1,axisPadding:5,enableCrosshairs:!1,crosshairsColor:"#BCBCBC",crosshairsDashStyle:"2,2",crosshairsLineWidth:1,enableEvents:!0,_itemsToggleState:[],_isToggleRefresh:!1,_isSelectorRefresh:!1,_sliders:[],_selectorRange:[],_rangeSelectorInstances:{},_resizeState:{},renderer:null,_isRangeSelectorInstance:!1,drawBefore:null,draw:null,_renderData:{},enableSampling:!0},_defaultLineColor:"#BCBCBC",_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),click:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},destroy:function(){this.host.remove()},_jqxPlot:null,createInstance:function(t){if(!e.jqx.dataAdapter)throw"jqxdata.js is not loaded";var i=this;i._refreshOnDownloadComlete(),i._isTouchDevice=e.jqx.mobile.isTouchDevice(),i._jqxPlot||(i._jqxPlot=new jqxPlot),i.addHandler(i.host,i._getEvent("mousemove"),function(t){if(0!=i.enabled){i._isRangeSelectorInstance||i.host.css("cursor","default");var r=t.pageX||t.clientX||t.screenX,s=t.pageY||t.clientY||t.screenY,a=i.host.offset();if(i._isTouchDevice){var n=e.jqx.position(t);r=n.left,s=n.top}r-=a.left,s-=a.top,i.onmousemove(r,s)}}),i.addHandler(i.host,i._getEvent("mouseleave"),function(e){if(0!=i.enabled){var t=i._mouseX,r=i._mouseY,s=i._plotRect;s&&t>=s.x&&t<=s.x+s.width&&r>=s.y&&r<=s.y+s.height||(i._cancelTooltipTimer(),i._hideToolTip(0),i._unselect())}}),i.addHandler(i.host,"click",function(t){if(0!=i.enabled){var r=t.pageX||t.clientX||t.screenX,s=t.pageY||t.clientY||t.screenY,a=i.host.offset();if(i._isTouchDevice){var n=e.jqx.position(t);r=n.left,s=n.top}r-=a.left,s-=a.top,i._mouseX=r,i._mouseY=s,!isNaN(i._lastClickTs)&&(new Date).valueOf()-i._lastClickTs<100||(this._hostClickTimer=setTimeout(function(){if(i._isTouchDevice||(i._cancelTooltipTimer(),i._hideToolTip(),i._unselect()),i._pointMarker&&i._pointMarker.element){var e=i.seriesGroups[i._pointMarker.gidx],r=e.series[i._pointMarker.sidx];t.stopImmediatePropagation(),i._raiseItemEvent("click",e,r,i._pointMarker.iidx)}},100))}});var r=i.element.style;if(r){var s=!1;null!=r.width&&(s|=-1!=r.width.toString().indexOf("%")),null!=r.height&&(s|=-1!=r.height.toString().indexOf("%")),s&&e.jqx.utilities.resize(this.host,function(){i.timer&&clearTimeout(i.timer);i.timer=setTimeout(function(){var e=i.enableAnimations;i.enableAnimations=!1,i.refresh(),i.enableAnimations=e},1)},!1,!0)}},_refreshOnDownloadComlete:function(){var t=this,i=this.source;if(i instanceof e.jqx.dataAdapter){var r=i._options;(void 0==r||void 0!=r&&!r.autoBind)&&(i.autoSync=!1,i.dataBind());var s=this.element.id;if(0==i.records.length){var a=function(){t.ready&&t.ready(),t.refresh()};i.unbindDownloadComplete(s),i.bindDownloadComplete(s,a)}else t.ready&&t.ready();i.unbindBindingUpdate(s),i.bindBindingUpdate(s,function(){t._supressBindingRefresh||t.refresh()})}},propertyChangedHandler:function(e,t,i,r){void 0!=this.isInitialized&&0!=this.isInitialized&&("source"==t&&this._refreshOnDownloadComlete(),this.refresh())},_initRenderer:function(t){if(!e.jqx.createRenderer)throw"Please include jqxdraw.js";return e.jqx.createRenderer(this,t)},_internalRefresh:function(){var t=this;if(!e.jqx.isHidden(t.host)){t._stopAnimations(),t.renderer&&(t._isToggleRefresh||t._isUpdate)||(t._hideToolTip(0),t._isVML=!1,t.host.empty(),t._measureDiv=void 0,t._initRenderer(t.host));var i=t.renderer;if(i){var r=i.getRect();t._render({x:1,y:1,width:r.width,height:r.height}),this._raiseEvent("refreshBegin",{instance:this}),i instanceof e.jqx.HTML5Renderer&&i.refresh(),t._isUpdate=!1,this._raiseEvent("refreshEnd",{instance:this})}}},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)},saveAsPDF:function(e,t,i){return this._saveAsImage("pdf",e,t,i)},_saveAsImage:function(t,i,r,s){for(var a=!1,n=0;n<this.seriesGroups.length&&!a;n++){var o=this._getXAxis(n);o&&o.rangeSelector&&(a=!0)}return e.jqx._widgetToImage(this,t,i,r,s,a?this._selectorSaveAsImageCallback:void 0)},_selectorSaveAsImageCallback:function(t,i){for(var r=t,s=0;s<r.seriesGroups.length;s++){var a=r._getXAxis(s);if(a&&a.rangeSelector&&!a.rangeSelector.renderTo){var n=r._rangeSelectorInstances[s];if(n){var o=n.jqxChart("getInstance"),l=(o.renderEngine,o.renderer.getRect()),h=o.renderer.getContainer().find("canvas")[0],d=h.getContext("2d"),f=r._sliders[s],u="horizontal"==r.seriesGroups[s].orientation,c=u?"height":"width",g=u?"width":"height",p=u?"y":"x",x=u?"x":"y",m={};m[p]=f.startOffset+f.rect[p],m[x]=f.rect[x],m[c]=f.endOffset-f.startOffset,m[g]=f.rect[g];var v=a.rangeSelector.colorSelectedRange||"blue",_=(a.rangeSelector.colorUnselectedRange,a.rangeSelector.colorRangeLine||"grey"),y=[];y.push(o.renderer.rect(m.x,m.y,m.width,m.height,{fill:v,opacity:.1})),u?(y.push(o.renderer.line(e.jqx._ptrnd(f.rect.x+f.rect.width),e.jqx._ptrnd(f.rect.y),e.jqx._ptrnd(f.rect.x+f.rect.width),e.jqx._ptrnd(m.y),{stroke:_,opacity:.5})),y.push(o.renderer.line(e.jqx._ptrnd(f.rect.x+f.rect.width),e.jqx._ptrnd(m.y+m.height),e.jqx._ptrnd(f.rect.x+f.rect.width),e.jqx._ptrnd(f.rect.y+f.rect.height),{stroke:_,opacity:.5})),y.push(o.renderer.line(e.jqx._ptrnd(f.rect.x),e.jqx._ptrnd(m.y),e.jqx._ptrnd(f.rect.x+f.rect.width),e.jqx._ptrnd(m.y),{stroke:_,opacity:.5})),y.push(o.renderer.line(e.jqx._ptrnd(f.rect.x),e.jqx._ptrnd(m.y+m.height),e.jqx._ptrnd(f.rect.x+f.rect.width),e.jqx._ptrnd(m.y+m.height),{stroke:_,opacity:.5}))):(y.push(o.renderer.line(e.jqx._ptrnd(f.rect.x),e.jqx._ptrnd(f.rect.y),e.jqx._ptrnd(m.x),e.jqx._ptrnd(f.rect.y),{stroke:_,opacity:.5})),y.push(o.renderer.line(e.jqx._ptrnd(m.x+m.width),e.jqx._ptrnd(f.rect.y),e.jqx._ptrnd(f.rect.x+f.rect.width),e.jqx._ptrnd(f.rect.y),{stroke:_,opacity:.5})),y.push(o.renderer.line(e.jqx._ptrnd(m.x),e.jqx._ptrnd(f.rect.y),e.jqx._ptrnd(m.x),e.jqx._ptrnd(f.rect.y+f.rect.height),{stroke:_,opacity:.5})),y.push(o.renderer.line(e.jqx._ptrnd(m.x+m.width),e.jqx._ptrnd(f.rect.y),e.jqx._ptrnd(m.x+m.width),e.jqx._ptrnd(f.rect.y+f.rect.height),{stroke:_,opacity:.5}))),o.renderer.refresh();var b=d.getImageData(l.x,l.y,l.width,l.height);i.getContext("2d").putImageData(b,parseInt(n.css("left")),parseInt(n.css("top")),1,1,l.width,l.height);for(var M=0;M<y.length;M++)o.renderer.removeElement(y[M]);o.renderer.refresh()}}}return!0},refresh:function(){this._internalRefresh()},update:function(){this._isUpdate=!0,this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","rangearea","splinerangearea","steprangearea","column","stackedcolumn","stackedcolumn100","rangecolumn","scatter","stackedscatter","stackedscatter100","bubble","stackedbubble","stackedbubble100","pie","donut","candlestick","ohlc","waterfall","stackedwaterfall"],clear:function(){var e=this;for(var t in e._defaultSettings)e[t]=e._defaultSettings[t];e.title="",e.description="",e.refresh()},_render:function(t){var i=this,r=i.renderer;i._colorsCache.clear(),!i._isToggleRefresh&&i._isUpdate&&i._renderData&&i._renderDataClone(),i._renderData=[],r.clear(),i._unselect(),i._hideToolTip(0);var s=i.backgroundImage;void 0==s||""==s?i.host.css({"background-image":""}):i.host.css({"background-image":-1!=s.indexOf("(")?s:"url('"+s+"')"}),i._rect=t;var a=i.padding||{left:5,top:5,right:5,bottom:5},n=r.createClipRect(t),o=r.beginGroup();r.setClip(o,n);var l=r.rect(t.x,t.y,t.width-2,t.height-2);if(void 0==s||""==s?r.attr(l,{fill:i.backgroundColor||i.background||"white"}):r.attr(l,{fill:"transparent"}),0!=i.showBorderLine){var h=void 0==i.borderLineColor?i.borderColor:i.borderLineColor;void 0==h&&(h=i._defaultLineColor);var d=this.borderLineWidth;(isNaN(d)||d<0||d>10)&&(d=1),r.attr(l,{"stroke-width":d,stroke:h})}else e.jqx.browser.msie&&e.jqx.browser.version<9&&r.attr(l,{"stroke-width":1,stroke:i.backgroundColor||"white"});e.isFunction(i.drawBefore)&&i.drawBefore(r,t);var f={x:a.left,y:a.top,width:t.width-a.left-a.right,height:t.height-a.top-a.bottom};i._paddedRect=f;var u,c=i.titlePadding||{left:2,top:2,right:2,bottom:2};if(i.title&&i.title.length>0){var g=i.toThemeProperty("jqx-chart-title-text",null);u=r.measureText(i.title,0,{class:g}),r.text(i.title,f.x+c.left,f.y+c.top,f.width-(c.left+c.right),u.height,0,{class:g},!0,"center","center"),f.y+=u.height,f.height-=u.height}if(i.description&&i.description.length>0){var p=i.toThemeProperty("jqx-chart-title-description",null);u=r.measureText(i.description,0,{class:p}),r.text(i.description,f.x+c.left,f.y+c.top,f.width-(c.left+c.right),u.height,0,{class:p},!0,"center","center"),f.y+=u.height,f.height-=u.height}(i.title||i.description)&&(f.y+=c.bottom+c.top,f.height-=c.bottom+c.top);var x={x:f.x,y:f.y,width:f.width,height:f.height};i._plotRect=x,i._buildStats(x);for(var m,v=i._isPieOnlySeries(),_=i.seriesGroups,y={xAxis:{},valueAxis:{}},b=0;b<_.length&&!v;b++)if("pie"!=_[b].type&&"donut"!=_[b].type){var M=i._getXAxis(b);if(!M)throw"seriesGroup["+b+"] is missing xAxis definition";var N=M==i._getXAxis()?-1:b;y.xAxis[N]=0}var w=i.axisPadding;isNaN(w)&&(w=5);var A={left:0,right:0,leftCount:0,rightCount:0},S=[];for(b=0;b<_.length;b++){var C=_[b];if("pie"!=C.type&&"donut"!=C.type&&1!=C.spider&&1!=C.polar){m="horizontal"==C.orientation;var M=i._getXAxis(b),N=M==i._getXAxis()?-1:b,j=i._getValueAxis(b),k=j==i._getValueAxis()?-1:b,q=m?M.axisSize:j.axisSize,T={x:0,y:x.y,width:x.width,height:x.height},D=m?i._getXAxis(b).position:j.position;q&&"auto"!=q||(m?(q=this._renderXAxis(b,T,!0,x).width,1==(1&y.xAxis[N])?q=0:q>0&&(y.xAxis[N]|=1)):(q=i._renderValueAxis(b,T,!0,x).width,1==(1&y.valueAxis[k])?q=0:q>0&&(y.valueAxis[k]|=1))),"left"!=D&&1==i.rtl&&(D="right"),"right"!=D&&(D="left"),A[D+"Count"]>0&&A[D]>0&&q>0&&(A[D]+=w),S.push({width:q,position:D,xRel:A[D]}),A[D]+=q,A[D+"Count"]++}else S.push({width:0,position:0,xRel:0})}var P=Math.max(1,Math.max(t.width,t.height)),O={top:0,bottom:0,topCount:0,bottomCount:0},I=[];for(b=0;b<_.length;b++){var C=_[b];if("pie"!=C.type&&"donut"!=C.type&&1!=C.spider&&1!=C.polar){m="horizontal"==C.orientation;var j=this._getValueAxis(b),k=j==i._getValueAxis()?-1:b,M=i._getXAxis(b),N=M==i._getXAxis()?-1:b,F=m?j.axisSize:M.axisSize,D=m?j.position:M.position;F&&"auto"!=F||(m?(F=i._renderValueAxis(b,{x:0,y:0,width:P,height:0},!0,x).height,2==(2&y.valueAxis[k])?F=0:F>0&&(y.valueAxis[k]|=2)):(F=i._renderXAxis(b,{x:0,y:0,width:P,height:0},!0).height,2==(2&y.xAxis[N])?F=0:F>0&&(y.xAxis[N]|=2))),"top"!=D&&(D="bottom"),O[D+"Count"]>0&&O[D]>0&&F>0&&(O[D]+=w),I.push({height:F,position:D,yRel:O[D]}),O[D]+=F,O[D+"Count"]++}else I.push({height:0,position:0,yRel:0})}i._createAnimationGroup("series");var R=0!=i.showLegend,L=R?i._renderLegend(i.legendLayout?i._rect:f,!0):{width:0,height:0};if(!this.legendLayout||isNaN(this.legendLayout.left)&&isNaN(this.legendLayout.top)||(L={width:0,height:0}),f.height<O.top+O.bottom+L.height||f.width<A.left+A.right)return void r.endGroup();x.height-=O.top+O.bottom+L.height,x.x+=A.left,x.width-=A.left+A.right,x.y+=O.top;var G=[];if(!v){i._getXAxis().tickMarksColor||i._defaultLineColor;for(b=0;b<_.length;b++){var C=_[b];if(1!=C.polar&&1!=C.spider&&"pie"!=C.type&&"donut"!=C.type){m="horizontal"==C.orientation;var N=i._getXAxis(b)==i._getXAxis()?-1:b,k=i._getValueAxis(b)==i._getValueAxis()?-1:b,T={x:x.x,y:0,width:x.width,height:I[b].height};if("top"!=I[b].position?T.y=x.y+x.height+I[b].yRel:T.y=x.y-I[b].yRel-I[b].height,m){if(4==(4&y.valueAxis[k]))continue;if(!i._isGroupVisible(b))continue;i._renderValueAxis(b,T,!1,x),y.valueAxis[k]|=4}else{if(G.push(T),4==(4&y.xAxis[N]))continue;if(!i._isGroupVisible(b))continue;i._renderXAxis(b,T,!1,x),y.xAxis[N]|=4}}}}if(R){var E=i.legendLayout?i._rect:f,V=f.x+e.jqx._ptrnd((f.width-L.width)/2),H=x.y+x.height+O.bottom,q=f.width,F=L.height;i.legendLayout&&(isNaN(i.legendLayout.left)||(V=i.legendLayout.left),isNaN(i.legendLayout.top)||(H=i.legendLayout.top),isNaN(i.legendLayout.width)||(q=i.legendLayout.width),isNaN(i.legendLayout.height)||(F=i.legendLayout.height)),V+q>E.x+E.width&&(q=E.x+E.width-V),H+F>E.y+E.height&&(F=E.y+E.height-H),i._renderLegend({x:V,y:H,width:q,height:F})}if(i._hasHorizontalLines=!1,!v)for(b=0;b<_.length;b++){var C=_[b];if(1!=C.polar&&1!=C.spider&&"pie"!=C.type&&"donut"!=C.type){m="horizontal"==_[b].orientation;var T={x:x.x-S[b].xRel-S[b].width,y:x.y,width:S[b].width,height:x.height};"left"!=S[b].position&&(T.x=x.x+x.width+S[b].xRel);var N=i._getXAxis(b)==i._getXAxis()?-1:b,k=i._getValueAxis(b)==i._getValueAxis()?-1:b;if(m){if(G.push(T),8==(8&y.xAxis[N]))continue;if(!i._isGroupVisible(b))continue;i._renderXAxis(b,T,!1,x),y.xAxis[N]|=8}else{if(8==(8&y.valueAxis[k]))continue;if(!i._isGroupVisible(b))continue;i._renderValueAxis(b,T,!1,x),y.valueAxis[k]|=8}}}if(!(x.width<=0||x.height<=0)){for(i._plotRect={x:x.x,y:x.y,width:x.width,height:x.height},b=0;b<_.length;b++)this._drawPlotAreaLines(b,!0,{gridLines:!1,tickMarks:!1,alternatingBackground:!0}),this._drawPlotAreaLines(b,!1,{gridLines:!1,tickMarks:!1,alternatingBackground:!0});for(b=0;b<_.length;b++)this._drawPlotAreaLines(b,!0,{gridLines:!0,tickMarks:!0,alternatingBackground:!1}),this._drawPlotAreaLines(b,!1,{gridLines:!0,tickMarks:!0,alternatingBackground:!1});var B=!1;for(b=0;b<_.length&&!B;b++){var C=_[b];if(void 0!==C.annotations||e.isFunction(C.draw)||e.isFunction(C.drawBefore)){B=!0;break}}var z=r.beginGroup();if(!B){var W=r.createClipRect({x:x.x-2,y:x.y,width:x.width+4,height:x.height});r.setClip(z,W)}for(b=0;b<_.length;b++){var C=_[b],X=!1;for(var U in i._seriesTypes)if(i._seriesTypes[U]==C.type){X=!0;break}if(!X)throw'Invalid serie type "'+C.type+'"';e.isFunction(C.drawBefore)&&C.drawBefore(r,t,b,this),1!=C.polar&&1!=C.spider||-1==C.type.indexOf("pie")&&-1==C.type.indexOf("donut")&&i._renderSpiderAxis(b,x),i._renderAxisBands(b,x,!0),i._renderAxisBands(b,x,!1)}for(b=0;b<_.length;b++){var C=_[b];if(i._isColumnType(C.type)?i._renderColumnSeries(b,x):-1!=C.type.indexOf("pie")||-1!=C.type.indexOf("donut")?i._renderPieSeries(b,x):-1!=C.type.indexOf("line")||-1!=C.type.indexOf("area")?i._renderLineSeries(b,x):-1!=C.type.indexOf("scatter")||-1!=C.type.indexOf("bubble")?i._renderScatterSeries(b,x):-1==C.type.indexOf("candlestick")&&-1==C.type.indexOf("ohlc")||i._renderCandleStickSeries(b,x,-1!=C.type.indexOf("ohlc")),C.annotations){if(!this._moduleAnnotations)throw"Please include 'jqxchart.annotations.js'";for(var Y=0;Y<C.annotations.length;Y++)i._renderAnnotation(b,C.annotations[Y],x)}e.isFunction(C.draw)&&i.draw(r,t,b,this)}if(r.endGroup(),0==i.enabled){var Z=r.rect(t.x,t.y,t.width,t.height);r.attr(Z,{fill:"#777777",opacity:.5,stroke:"#00FFFFFF"})}e.isFunction(i.draw)&&i.draw(r,t),r.endGroup(),i._startAnimation("series");for(var J=!1,b=0;b<i.seriesGroups.length&&!J;b++){var M=i._getXAxis(b);M&&M.rangeSelector&&(J=!0)}if(J){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";var Q=[];for(this._isSelectorRefresh||(i.removeHandler(e(document),i._getEvent("mousemove"),i._onSliderMouseMove),i.removeHandler(e(document),i._getEvent("mousedown"),i._onSliderMouseDown),i.removeHandler(e(document),i._getEvent("mouseup"),i._onSliderMouseUp)),i._isSelectorRefresh||(i._rangeSelectorInstances={}),b=0;b<i.seriesGroups.length;b++){var $=this._getXAxis(b);-1==Q.indexOf($)&&this._renderXAxisRangeSelector(b,G[b])&&Q.push($)}}}},_isPieOnlySeries:function(){var e=this.seriesGroups;if(0==e.length)return!1;for(var t=0;t<e.length;t++)if("pie"!=e[t].type&&"donut"!=e[t].type)return!1;return!0},_renderChartLegend:function(t,i,r,s){var a=this,n=a.renderer,o={x:i.x,y:i.y,width:i.width,height:i.height};o.width>=6&&(o.x+=3,o.width-=6),o.height>=6&&(o.y+=3,o.height-=6);for(var l={width:o.width,height:0},h=0,d=0,f=20,u=0,c=10,g=0,p=0;p<t.length;p++){var x=t[p].css;x||(x=a.toThemeProperty("jqx-chart-legend-text",null)),f=20;var m=t[p].text,v=n.measureText(m,0,{class:x});v.height>f&&(f=v.height),v.width>g&&(g=v.width),s?(0!=p&&(d+=f),d>o.height&&(d=0,h+=g+20+c,g=v.width,l.width=h+g)):(0!=h&&(h+=10),h+20+v.width>o.width&&v.width<o.width&&(h=0,d+=f,f=20,u=o.width,l.height=d+f));var _=!1;if(v.width>o.width){_=!0;for(var y=o.width,b=m,M=b.split(/\s+/),N=[],w="",A=0;A<M.length;A++){var S=w+(w.length>0?" ":"")+M[A],C=a.renderer.measureText(S,0,{class:x});C.width>y&&S.length>0&&w.length>0?(N.push({text:w}),w=M[A]):w=S,A+1==M.length&&N.push({text:w})}v.width=0;for(var j=0,k=0;k<N.length;k++){var q=N[k].text,C=a.renderer.measureText(q,0,{class:x});v.width=Math.max(v.width,C.width),j+=v.height}v.height=j}var T=h+v.width<o.width&&d+v.height<i.height;if(a.legendLayout)var T=o.x+h+v.width<a._rect.x+a._rect.width&&o.y+d+v.height<a._rect.y+a._rect.height;if(!r&&T){var D=t[p].seriesIndex,P=t[p].groupIndex,O=t[p].itemIndex,I=t[p].fillColor,F=t[p].lineColor,R=a._isSerieVisible(P,D,O),L=n.beginGroup(),G=R?t[p].opacity:.1;if(_){for(var b=m,y=o.width,M=b.split(/\s+/),E=0,N=[],w="",A=0;A<M.length;A++){var S=w+(w.length>0?" ":"")+M[A],C=a.renderer.measureText(S,0,{class:x});C.width>y&&S.length>0&&w.length>0?(N.push({text:w,dy:E}),E+=C.height,w=M[A]):w=S,A+1==M.length&&N.push({text:w,dy:E})}for(var k=0;k<N.length;k++){var q=N[k].text;E=N[k].dy;var C=a.renderer.measureText(q,0,{class:x});s?a.renderer.text(q,o.x+h+15,o.y+d+E,v.width,f,0,{class:x},!1,"left","center"):a.renderer.text(q,o.x+h+15,o.y+d+E,v.width,f,0,{class:x},!1,"center","center")}var V=n.rect(o.x+h,o.y+d+5+E/2,c,c);s&&(d+=E),a.renderer.attr(V,{fill:I,"fill-opacity":G,stroke:F,"stroke-width":1,"stroke-opacity":t[p].opacity})}else{var V=n.rect(o.x+h,o.y+d+5,c,c);a.renderer.attr(V,{fill:I,"fill-opacity":G,stroke:F,"stroke-width":1,"stroke-opacity":t[p].opacity}),s?a.renderer.text(m,o.x+h+15,o.y+d,v.width,v.height+5,0,{class:x},!1,"left","center"):a.renderer.text(m,o.x+h+15,o.y+d,v.width,f,0,{class:x},!1,"center","center")}a.renderer.endGroup(),a._setLegendToggleHandler(P,D,O,L)}s||(h+=v.width+20,u<h&&(u=h))}if(r)return l.height=e.jqx._ptrnd(d+f+5),l.width=e.jqx._ptrnd(u),l},isSerieVisible:function(e,t,i){return this._isSerieVisible(e,t,i)},_isSerieVisible:function(t,i,r){for(;this._itemsToggleState.length<t+1;)this._itemsToggleState.push([]);for(var s=this._itemsToggleState[t];s.length<i+1;)s.push(!!isNaN(r)||[]);var a=s[i];if(isNaN(r))return a;for(e.isArray(a)||(s[i]=a=[]);a.length<r+1;)a.push(!0);return a[r]},isGroupVisible:function(e){return this._isGroupVisible(e)},_isGroupVisible:function(e){var t=!1,i=this.seriesGroups[e].series;if(!i)return t;for(var r=0;r<i.length;r++)if(this._isSerieVisible(e,r)){t=!0;break}return t},_toggleSerie:function(t,i,r,s){var a=!this._isSerieVisible(t,i,r);void 0!=s&&(a=s);var n=this.seriesGroups[t],o=n.series[i];if(this._raiseEvent("toggle",{state:a,seriesGroup:n,serie:o,elementIndex:r}),isNaN(r))this._itemsToggleState[t][i]=a;else{var l=this._itemsToggleState[t][i];for(e.isArray(l)||(l=[]);l.length<r;)l.push(!0);l[r]=a}this._isToggleRefresh=!0,this.update(),this._isToggleRefresh=!1},showSerie:function(e,t,i){this._toggleSerie(e,t,i,!0)},hideSerie:function(e,t,i){this._toggleSerie(e,t,i,!1)},_setLegendToggleHandler:function(e,t,i,r){var s=this.seriesGroups[e],a=s.series[t],n=a.enableSeriesToggle;if(void 0==n&&(n=0!=s.enableSeriesToggle),n){var o=this;this.renderer.addHandler(r,"click",function(r){o._toggleSerie(e,t,i)})}},_renderLegend:function(e,t){for(var i=this,r=[],s=0;s<i.seriesGroups.length;s++){var a=i.seriesGroups[s];if(0!=a.showLegend)for(var n=0;n<a.series.length;n++){var o=a.series[n];if(0!=o.showLegend){var l,h=i._getSerieSettings(s,n);if("pie"!=a.type&&"donut"!=a.type){var d=o.legendFormatSettings||a.legendFormatSettings,f=o.legendFormatFunction||a.legendFormatFunction;l=i._formatValue(o.displayText||o.dataField||"",d,f,s,n,NaN);var u=i._getSeriesColors(s,n),c=this._get([o.legendFillColor,o.legendColor,u.fillColor]),g=this._get([o.legendLineColor,o.legendColor,u.lineColor]);r.push({groupIndex:s,seriesIndex:n,text:l,css:o.displayTextClass,fillColor:c,lineColor:g,opacity:h.opacity})}else for(var p=i._getXAxis(s),d=o.legendFormatSettings||a.legendFormatSettings||p.formatSettings||o.formatSettings||a.formatSettings,f=o.legendFormatFunction||a.legendFormatFunction||p.formatFunction||o.formatFunction||a.formatFunction,x=i._getDataLen(s),m=0;m<x;m++){l=i._getDataValue(m,o.displayText,s),l=i._formatValue(l,d,f,s,n,m);var u=i._getColors(s,n,m);r.push({groupIndex:s,seriesIndex:n,itemIndex:m,text:l,css:o.displayTextClass,fillColor:u.fillColor,lineColor:u.lineColor,opacity:h.opacity})}}}}return i._renderChartLegend(r,e,t,i.legendLayout&&"vertical"==i.legendLayout.flow)},_getInterval:function(e,t){if(!e)return t;var i=this._get([e.unitInterval,t]);return isNaN(e.step)||(i=e.step*t),i},_getOffsets:function(e,t,i,r,s,a,n,o,l){var h=this._getInterval(s[e],o),d=[];(""==e||s[e].visible&&"custom"!=s[e].visible)&&(d=this._generateIntervalValues(r,h,o,n,l));var f;if("labels"!=e){var u=n?a.left:0;if(!n&&o>1&&(u=a.left*(o+1)),1==d.length&&(u*=2),f=this._valuesToOffsets(d,t,r,i,a,!1,u),!n){var c=(a.left+a.right)*h/o;t.flip?f.unshift(f[0]+c):f.push(f[f.length-1]+c)}}else{var u=a.left;1==d.length&&(u*=2),f=this._valuesToOffsets(d,t,r,i,a,n,u)}var g=this._arraysToObjectsArray([d,f],["value","offset"]);if(t[e]&&t[e].custom)for(var p=this._objectsArraysToArray(t[e].custom,"value"),x=this._objectsArraysToArray(t[e].custom,"offset"),m=this._valuesToOffsets(p,t,r,i,a,n,a.left),v=0;v<t[e].custom.length;v++)g.push({value:p[v],offset:isNaN(x[v])?m[v]:x[v]});return g},_renderXAxis:function(t,i,r,s){var a=this,n=a._getXAxis(t),o=a.seriesGroups[t],l="horizontal"==o.orientation,h={width:0,height:0},d=a._getAxisSettings(n);if(!n||!d.visible||"spider"==o.type)return h;if(!a._isGroupVisible(t)||this._isPieGroup(t))return h;for(var f=a._alignValuesWithTicks(t);a._renderData.length<t+1;)a._renderData.push({});a.rtl&&(n.flip=!0);var u=l?i.height:i.width,c=n.text,g=a._calculateXOffsets(t,u),p=g.axisStats,x=n.rangeSelector,m=0;if(x){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";m=this._selectorGetSize(n)}var v=l&&"right"==n.position||!l&&"top"==n.position;!r&&x&&(l?(i.width-=m,"right"!=n.position&&(i.x+=m)):(i.height-=m,"top"==n.position&&(i.y+=m)));var _={rangeLength:g.rangeLength,itemWidth:g.itemWidth,intervalWidth:g.intervalWidth,data:g,settings:d,isMirror:v,rect:i};a._renderData[t].xAxis=_;var y=p.interval;if(isNaN(y))return h;l&&(d.title.angle-=90,d.labels.angle-=90);var b,M=this._getInterval(d.gridLines,y),N=this._getInterval(d.tickMarks,y),w=this._getInterval(d.labels,y),A=p.min,S=p.max,C=g.padding,j=1==n.flip||a.rtl,k={min:A,max:S};p.logAxis.enabled&&(k.min=p.logAxis.minPow,k.max=p.logAxis.maxPow),"date"==n.type?(d.gridLines.offsets=this._generateDTOffsets(A,S,u,C,M,y,p.dateTimeUnit,f,NaN,!1,j),d.tickMarks.offsets=this._generateDTOffsets(A,S,u,C,N,y,p.dateTimeUnit,f,NaN,!1,j),b=this._generateDTOffsets(A,S,u,C,w,y,p.dateTimeUnit,f,NaN,!0,j)):(d.gridLines.offsets=this._getOffsets("gridLines",n,u,p,d,C,f,y),d.tickMarks.offsets=this._getOffsets("tickMarks",n,u,p,d,C,f,y),b=this._getOffsets("labels",n,u,p,d,C,f,y));var q,T=a.renderer.getRect();T.width,i.x,i.width,a._getDataLen(t);a._elementRenderInfo&&a._elementRenderInfo.length>t&&(q=a._elementRenderInfo[t].xAxis);var D,P=[];d.labels.formatFunction&&(D=d.labels.formatFunction);var O;d.labels.formatSettings&&(O=e.extend({},d.labels.formatSettings)),"date"==n.type&&(n.dateFormat&&!D?O?O.dateFormat=O.dateFormat||n.dateFormat:O={dateFormat:n.dateFormat}:D||O&&(!O||O.dateFormat)||(D=this._getDefaultDTFormatFn(n.baseUnit||"day")));for(var I=0;I<b.length;I++){var F=b[I].value,R=b[I].offset;if(!isNaN(R)){var L=void 0;"date"!=n.type&&p.useIndeces&&n.dataField&&(L=Math.round(F),void 0==(F=a._getDataValue(L,n.dataField))&&(F=""));var c=a._formatValue(F,O,D,t,void 0,L);void 0!=c&&""!=c.toString()||(isNaN(L)&&(L=I),L>=p.filterRange.min&&L<=p.filterRange.max&&(c=p.useIndeces?(p.min+L).toString():void 0==F?"":F.toString()));var G={key:F,text:c,targetX:R,x:R};q&&q.itemOffsets[F]&&(G.x=q.itemOffsets[F].x,G.y=q.itemOffsets[F].y),P.push(G)}}var E=a._getAnimProps(t),V=E.enabled&&P.length<500?E.duration:0;0==a.enableAxisTextAnimation&&(V=0);var H={items:P,renderData:_},B=a._renderAxis(l,v,d,{x:i.x,y:i.y,width:i.width,height:i.height},s,y,!1,!0,H,r,V);return l?B.width+=m:B.height+=m,B},_animateAxisText:function(e,t){for(var i=e.items,r=e.textSettings,s=0;s<i.length;s++){var a=i[s];if(a&&a.visible){var n=a.targetX,o=a.targetY
;isNaN(a.x)||isNaN(a.y)||(n=a.x+(n-a.x)*t,o=a.y+(o-a.y)*t),a.element&&(this.renderer.removeElement(a.element),a.element=void 0),a.element=this.renderer.text(a.text,n,o,a.width,a.height,r.angle,{class:r.style},!1,r.halign,r.valign,r.textRotationPoint)}}},_getPolarAxisCoords:function(t,i){var r=this.seriesGroups[t],s=i.x+e.jqx.getNum([r.offsetX,i.width/2]),a=i.y+e.jqx.getNum([r.offsetY,i.height/2]),n=Math.min(i.width,i.height),o=r.radius;this._isPercent(o)&&(o=parseFloat(o)/100*n/2),isNaN(o)&&(o=n/2*.6);var l=this._alignValuesWithTicks(t),h=this._get([r.startAngle,r.minAngle,0])-90;h=isNaN(h)?0:2*Math.PI*h/360;var d=this._get([r.endAngle,r.maxAngle,360])-90;if(d=isNaN(d)?2*Math.PI:2*Math.PI*d/360,h>d){var f=h;h=d,d=f}var u=e.jqx._rnd(Math.abs(h-d)/(2*Math.PI),.001,!0),c=2*Math.PI*o*u,g=this._calcGroupOffsets(t,i).xoffsets;if(g){var p=!(Math.abs(Math.abs(d-h)-2*Math.PI)>1e-5);if(r.spider){axisStats=this._getXAxisStats(t,this._getXAxis(t),c);var x=axisStats.interval;(isNaN(x)||0==x)&&(x=1);var m=(axisStats.max-axisStats.min)/x+(p?1:0);if((m=Math.round(m))>2){var v=Math.cos(Math.abs(d-h)/2/m);v=e.jqx._rnd(v,.01),0==v&&(v=1);var _=o/v;_>o&&l&&(o=_)}}return o=e.jqx._ptrnd(o),{x:s,y:a,r:o,adjR:this._get([_,o]),itemWidth:g.itemWidth,rangeLength:g.rangeLength,valuesOnTicks:l,startAngle:h,endAngle:d,isClosedCircle:p,axisSize:c}}},_toPolarCoord:function(t,i,r,s){var a=Math.abs(t.startAngle-t.endAngle)/(2*Math.PI),n=2*(r-i.x)*Math.PI*a/Math.max(1,i.width)+t.startAngle,o=(i.height+i.y-s)*t.r/Math.max(1,i.height),l=t.x+o*Math.cos(n),h=t.y+o*Math.sin(n);return{x:e.jqx._ptrnd(l),y:e.jqx._ptrnd(h)}},_renderSpiderAxis:function(t,i){var r=this,s=r._getXAxis(t),a=this._getAxisSettings(s);if(s&&a.visible){var n=r.seriesGroups[t],o=r._getPolarAxisCoords(t,i);if(o){var l=e.jqx._ptrnd(o.x),h=e.jqx._ptrnd(o.y),d=o.adjR,f=o.startAngle,u=o.endAngle;if(!(d<1)){var c=e.jqx._rnd(Math.abs(f-u)/(2*Math.PI),.001,!0),g=2*Math.PI*d*c,p=o.isClosedCircle,x=this._renderData[t].xoffsets;if(x.rangeLength){var m=x.axisStats.interval;(isNaN(m)||m<1)&&(m=1);var v="horizontal"==n.orientation;for(v&&"right"==s.position||!v&&s.position;r._renderData.length<t+1;)r._renderData.push({});var _={rangeLength:x.rangeLength,itemWidth:x.itemWidth,data:x,rect:i,settings:a};r._renderData[t].xAxis=_,r._renderData[t].polarCoords=o;for(var y=!0,b=0;b<t;b++){var M=(r._renderData[b].xAxis,r._renderData[b].polarCoords),N=r._getXAxis(b),w=!1;for(var A in o)if(o[A]!=M[A]){w=!0;break}w&&N==s||(y=!1)}var S,C=a.gridLines,j=a.tickMarks,k=a.labels,q=this._getInterval(C,m),T=this._getInterval(j,m),D=this._getInterval(k,m),P=r._alignValuesWithTicks(t),O=r.renderer,I=x.axisStats,F=I.min,R=I.max,L=this._getPaddingSize(x.axisStats,s,P,g,!0,p,!1),G=1==s.flip||r.rtl;"date"==s.type?(C.offsets=this._generateDTOffsets(F,R,g,L,q,m,s.baseUnit,!0,0,!1,G),j.offsets=this._generateDTOffsets(F,R,g,L,T,m,s.baseUnit,!0,0,!1,G),S=this._generateDTOffsets(F,R,g,L,D,m,s.baseUnit,!0,0,!0,G)):(a.gridLines.offsets=this._getOffsets("gridLines",s,g,I,a,L,!0,m),a.tickMarks.offsets=this._getOffsets("tickMarks",s,g,I,a,L,!0,m),S=this._getOffsets("labels",s,g,I,a,L,!0,m));var E,V=r.renderer.getRect();V.width,i.x,i.width,r._getDataLen(t);r._elementRenderInfo&&r._elementRenderInfo.length>t&&(E=r._elementRenderInfo[t].xAxis);for(var H=[],B=this._getDataLen(t),b=0;b<S.length;b++){var z=S[b].offset,W=S[b].value;if("date"!=s.type&&I.useIndeces&&s.dataField){var X=Math.round(W);if(X>=B)continue;W=r._getDataValue(X,s.dataField),void 0==W&&(W="")}var U=r._formatValue(W,k.formatSettings,k.formatFunction,t,void 0,X);void 0!=U&&""!=U.toString()||(U=I.useIndeces?(I.min+b).toString():void 0==W?"":W.toString());var Y={key:W,text:U,targetX:z,x:z};E&&E.itemOffsets[W]&&(Y.x=E.itemOffsets[W].x,Y.y=E.itemOffsets[W].y),H.push(Y)}var Z={stroke:C.color,fill:"none","stroke-width":C.width,"stroke-dasharray":C.dashStyle||""};if(!n.spider)if(1==c)O.circle(l,h,d,Z);else{var J=-f/Math.PI*180,Q=-u/Math.PI*180;this.renderer.pieslice(l,h,0,d,Math.min(J,Q),Math.max(J,Q),void 0,Z)}var $=H.length,K=(Math.PI,f);if(C.visible&&y){P||p||C.offsets.unshift({offset:-L.right});for(var b=0;b<C.offsets.length;b++){var ee=C.offsets[b].offset;P||(ee+=p?L.right/2:L.right);var te=K+2*ee*Math.PI*c/Math.max(1,g);if(!(te-u>.01)){var ie=e.jqx._ptrnd(l+d*Math.cos(te)),re=e.jqx._ptrnd(h+d*Math.sin(te));O.line(l,h,ie,re,Z)}}}if(j.visible&&y){var se={stroke:j.color,fill:"none","stroke-width":j.width,"stroke-dasharray":j.dashStyle||""};P||p||j.offsets.unshift({offset:-L.right});for(var b=0;b<j.offsets.length;b++){var ee=j.offsets[b].offset;P||(ee+=p?L.right/2:L.right);var te=K+2*ee*Math.PI*c/Math.max(1,g);if(!(te-u>.01)){var ae={x:l+d*Math.cos(te),y:h+d*Math.sin(te)},ne={x:l+(d+5)*Math.cos(te),y:h+(d+5)*Math.sin(te)};O.line(e.jqx._ptrnd(ae.x),e.jqx._ptrnd(ae.y),e.jqx._ptrnd(ne.x),e.jqx._ptrnd(ne.y),se)}}}var oe=[];if(n.spider){var le=[];le="date"==s.type?this._generateDTOffsets(F,R,g,L,m,m,s.baseUnit,!0,0,!1,G):this._getOffsets("",s,g,I,a,L,!0,m),P||p||le.unshift({offset:-L.right});for(var b=0;b<le.length;b++){var ee=le[b].offset;P||(ee+=p?L.right/2:L.right);var te=K+2*ee*Math.PI*c/Math.max(1,g);te-u>.01||oe.push(te)}_.offsetAngles=oe}var he=r._renderSpiderValueAxis(t,i,P?o.adjR:o.r,oe);if(he||(he=[]),n.spider){if(!P)for(var b=0;b<he.length;b++)he[b]=he[b]*o.adjR/o.r;he.push(d),this._renderSpiderLines(l,h,he,o,oe,Z)}if(y&&k.visible){_.polarLabels=[];for(var b=0;b<H.length;b++){var ee=H[b].x,te=K+2*ee*Math.PI*c/Math.max(1,g);te=(360-te/(2*Math.PI)*360)%360,te<0&&(te=360+te);var de,fe=O.measureText(H[b].text,0,{class:a.labels.style}),ue=(P?o.adjR:o.r)+(j.visible?7:2),ce=a.labels;if(ce.autoRotate){var ge=e.jqx._ptRotate(l-fe.width/2,h-ue-fe.height,l,h,-te/180*Math.PI),pe=e.jqx._ptRotate(l+fe.width/2,h-ue,l,h,-te/180*Math.PI);fe.width=Math.abs(ge.x-pe.x),fe.height=Math.abs(ge.y-pe.y),de={x:Math.min(ge.x,pe.x),y:Math.min(ge.y,pe.y)}}else de=this._adjustTextBoxPosition(l,h,fe,ue,te,!1,!1,!1);_.polarLabels.push({x:de.x,y:de.y,value:H[b].text}),O.text(H[b].text,de.x,de.y,fe.width,fe.height,ce.autoRotate?90-te:ce.angle,{class:ce.style},!1,ce.halign,ce.valign)}}}}}}},_renderSpiderLines:function(t,i,r,s,a,n){for(var o=this.renderer,l=(s.startAngle,s.endAngle,s.isClosedCircle),h=0;h<r.length;h++){for(var d=r[h],f=void 0,u=void 0,c=0;c<a.length;c++){var g=a[c],p=e.jqx._ptrnd(t+d*Math.cos(g)),x=e.jqx._ptrnd(i+d*Math.sin(g));f&&o.line(f.x,f.y,p,x,n),f={x:p,y:x},u||(u={x:p,y:x})}u&&l&&o.line(f.x,f.y,u.x,u.y,n)}},_renderSpiderValueAxis:function(t,i,r,s){var a=this.seriesGroups[t],n=this._getPolarAxisCoords(t,i);if(n){var o=e.jqx._ptrnd(n.x),l=e.jqx._ptrnd(n.y);r=r||n.r;var h=n.startAngle,d=n.endAngle,f=e.jqx._rnd(Math.abs(h-d)/(2*Math.PI),.001,!0);if(!(r<1)){r=e.jqx._ptrnd(r);var u=this._getValueAxis(t);if(settings=this._getAxisSettings(u),u&&0!=settings.visible){var c=this._stats.seriesGroups[t].mu,g=settings.labels,p=g.formatSettings;-1!=a.type.indexOf("stacked")&&-1!=a.type.indexOf("100")&&!p&&(p={sufix:"%"});var x=this._get([g.step,g.unitInterval/c]);isNaN(x)&&(x=1),x=Math.max(1,Math.round(x)),this._calcValueAxisItems(t,r,x);var m=settings.gridLines,v=settings.tickMarks,_=(this._getInterval(m,c),this._getInterval(v,c),settings.labels),y={stroke:m.color,fill:"none","stroke-width":1,"stroke-dasharray":m.dashStyle||""},b=this._renderData[t].valueAxis,M=b.items,N=h;if(M.length&&settings.line.visible){isNaN(settings.line.angle)||(N=2*Math.PI*settings.line.angle/360);var w=o+Math.cos(N)*r,A=l+Math.sin(N)*r;if(-1==s.indexOf(N)){var S=e.extend({},y);S["stroke-width"]=settings.line.lineWidth,S.stroke=settings.line.color,S["stroke-dasharray"]=settings.line.dashStyle,this.renderer.line(o,l,w,A,S)}}M=M.reverse();var C=this.renderer;b.polarLabels=[];for(var j=0;j<M.length-1;j++){var k=M[j];if(!isNaN(k)){var q=_.formatFunction?_.formatFunction(k):this._formatNumber(k,p),T=C.measureText(q,0,{class:_.style}),D=o+(0!=u.showTickMarks?3:2),P=l-b.itemWidth*j-T.height/2,O=e.jqx._ptRotate(D,P,o,l,N),I=e.jqx._ptRotate(D+T.width,P+T.height,o,l,N);D=Math.min(O.x,I.x),P=Math.min(O.y,I.y),T.width=Math.abs(O.x-I.x),T.height=Math.abs(O.y-I.y),D+=settings.labels.textOffset.x,P+=settings.labels.textOffset.y,b.polarLabels.push({x:D,y:P,value:q}),C.text(q,D,P,T.width,T.height,_.autoRotate?90+180*h/Math.PI:_.angle,{class:_.style},!1,_.halign,_.valign)}}var F=1==u.logarithmicScale,R=F?M.length:b.rangeLength;aIncrement=2*Math.PI/R;var L=0!=u.valuesOnTicks,G=this._stats.seriesGroups[t],E=G.mu,V=1==u.logarithmicScale;u.logarithmicScaleBase;V&&(E=1);var H={min:G.min,max:G.max,logAxis:{enabled:1==V,base:u.logarithmicScaleBase,minPow:G.minPow,maxPow:G.maxPow}};(m.visible||a.spider||u.alternatingBackgroundColor||u.alternatingBackgroundColor2)&&(m.offsets=this._getOffsets("gridLines",u,r,H,settings,{left:0,right:0},L,E));var B=[];if(m.visible||a.spider)for(var y={stroke:m.color,fill:"none","stroke-width":1,"stroke-dasharray":m.dashStyle||""},j=0;j<m.offsets.length;j++){var P=e.jqx._ptrnd(m.offsets[j].offset);if(P!=r)if(a.spider)B.push(P);else if(1!=f){var z=-h/Math.PI*180,W=-d/Math.PI*180;this.renderer.pieslice(o,l,0,P,Math.min(z,W),Math.max(z,W),void 0,y)}else C.circle(o,l,P,y)}if(u.tickMarks&&(u.tickMarks.visible||u.showTickMarks)||(v.visible=!1),v.visible){v.offsets=this._getOffsets("tickMarks",u,r,H,settings,{left:0,right:0},L,E),tickMarkSize=2*v.size;for(var y={stroke:v.color,fill:"none","stroke-width":1,"stroke-dasharray":v.dashStyle||""},j=0;j<v.offsets.length;j++){var X=v.offsets[j].offset,O={x:o+X*Math.cos(N)-tickMarkSize/2*Math.sin(N+Math.PI/2),y:l+X*Math.sin(N)-tickMarkSize/2*Math.cos(N+Math.PI/2)},I={x:o+X*Math.cos(N)+tickMarkSize/2*Math.sin(N+Math.PI/2),y:l+X*Math.sin(N)+tickMarkSize/2*Math.cos(N+Math.PI/2)};C.line(e.jqx._ptrnd(O.x),e.jqx._ptrnd(O.y),e.jqx._ptrnd(I.x),e.jqx._ptrnd(I.y),y)}}return B}}}},_renderAxis:function(t,i,r,s,a,n,o,l,h,d,f){if(r.customDraw&&!d)return{width:NaN,height:NaN};var u=r.title,c=r.labels,g=(r.gridLines,r.tickMarks),p=r.padding,x=g.visible?g.size:0,m={width:0,height:0},v={width:0,height:0};t?m.height=v.height=s.height:m.width=v.width=s.width,!d&&i&&t&&(s.x-=s.width);var _=h.renderData,y=_.itemWidth;if(u.visible&&void 0!=u.text&&""!=u){var b=u.angle,M=this.renderer.measureText(u.text,b,{class:u.style});v.width=M.width,v.height=M.height,d||this.renderer.text(u.text,s.x+u.offset.x+(t?i?-p.right-2+2*s.width-v.width:2+p.left:0),s.y+u.offset.y+(t?0:i?p.top+2:s.height-2-v.height-p.bottom),t?v.width:s.width,t?s.height:v.height,b,{class:u.style},!0,u.halign,u.valign,u.rotationPoint)}var N=0,w=l?-y/2:0;l&&!t&&(c.halign="center");var A=s.x,S=s.y,C=c.textOffset;C&&(isNaN(C.x)||(A+=C.x),isNaN(C.y)||(S+=C.y)),t?(A+=p.left+2+(v.width>0?v.width+2:0)+(i?s.width-v.width:0),S+=w):(A+=w,i?(S+=v.height>0?v.height+6:4,S+=x-(l?x:x/4)):S+=l?x:x/4,S+=p.top);var j=0,k=0,q=h.items;_.itemOffsets={},!this._isToggleRefresh&&this._isUpdate||(f=0);for(var T=!1,D=0,P=0;P<q.length&&c.visible;P++,N+=y)if(q[P]&&!isNaN(y)){var O=q[P].text;isNaN(q[P].targetX)||(N=q[P].targetX);var M=this.renderer.measureText(O,c.angle,{class:c.style});if(M.width>k&&(k=M.width),M.height>j&&(j=M.height),D+=t?j:k,!d){if(t&&N>s.height+2||!t&&N>s.width+2)continue;var I=t?A+(i?0==v.width?x:x-2:0):A+N,F=t?S+N:S;_.itemOffsets[q[P].key]={x:I,y:F},T||(!isNaN(q[P].x)||!isNaN(q[P].y)&&f)&&(T=!0),q[P].targetX=I,q[P].targetY=F,q[P].width=t?s.width-p.left-p.right-4-x-(v.width>0?v.width+2:0):y,q[P].height=t?y:s.height-p.top-p.bottom-4-x-(v.height>0?v.height+2:0),q[P].visible=!0}}if(_.avgWidth=0==q.length?0:D/q.length,!d){var R={items:q,textSettings:c};if(!isNaN(f)&&T||(f=0),this._animateAxisText(R,0==f?1:0),0!=f){var L=this;this._enqueueAnimation("series",void 0,void 0,f,function(e,t,i){L._animateAxisText(t,i)},R)}}m.width+=4+x+v.width+k+(t&&v.width>0?2:0),m.height+=4+x+v.height+j+(!t&&v.height>0?2:0),t?m.width+=p.left+p.right:m.height+=p.top+p.bottom;if(!d&&r.line.visible){var G={stroke:r.line.color,"stroke-width":r.line.width,"stroke-dasharray":r.line.dashStyle||""};if(t){var I=s.x+s.width+(i?p.left:-p.right);I=e.jqx._ptrnd(I),this.renderer.line(I,s.y,I,s.y+s.height,G)}else{var F=e.jqx._ptrnd(s.y+(i?s.height-p.bottom:p.top));this.renderer.line(e.jqx._ptrnd(s.x),F,e.jqx._ptrnd(s.x+s.width+1),F,G)}}return m.width=e.jqx._rup(m.width),m.height=e.jqx._rup(m.height),m},_drawPlotAreaLines:function(t,i,r){var s=this.seriesGroups[t],a="horizontal"!=s.orientation;if(this._renderData&&!(this._renderData.length<=t)){var n=i?"valueAxis":"xAxis",o=this._renderData[t][n];if(o){var l=this._renderData.axisDrawState;l||(l=this._renderData.axisDrawState={});var h,d="";i?(d="valueAxis_"+(s.valueAxis?t:"")+(a?"swap":""),h=this._getValueAxis(t)):(d="xAxis_"+(s.xAxis||s.categoryAxis?t:"")+(a?"swap":""),h=this._getXAxis(t)),l=l[d]?l[d]:l[d]={},i||(a=!a);var f=o.settings;if(f&&!f.customDraw){var u=f.gridLines,c=f.tickMarks,g=f.padding,p=o.rect,x=this._plotRect;if(u&&c){var m=.5,v={},_={stroke:u.color,"stroke-width":u.width,"stroke-dasharray":u.dashStyle||""},y=i?p.y+p.height:p.x,b=u.offsets;if(i&&!h.flip&&(b=e.extend([],b),b=b.reverse()),b&&b.length>0)for(var M=NaN,N=(b.length,0);N<b.length;N++)if(a?(lineOffset=e.jqx._ptrnd(p.y+b[N].offset),lineOffset<p.y-m&&(lineOffset=e.jqx._ptrnd(p.y)),lineOffset>p.y+p.height&&(lineOffset=p.y+p.height)):(lineOffset=e.jqx._ptrnd(p.x+b[N].offset),lineOffset>p.x+p.width+m&&(lineOffset=e.jqx._ptrnd(p.x+p.width))),!isNaN(lineOffset)&&(isNaN(M)||!(Math.abs(lineOffset-M)<2))){if(M=lineOffset,r.gridLines&&0!=u.visible&&1!=l.gridLines&&(a?this.renderer.line(e.jqx._ptrnd(x.x),lineOffset,e.jqx._ptrnd(x.x+x.width),lineOffset,_):this.renderer.line(lineOffset,e.jqx._ptrnd(x.y),lineOffset,e.jqx._ptrnd(x.y+x.height),_)),v[lineOffset]=!0,r.alternatingBackground&&(u.alternatingBackgroundColor||u.alternatingBackgroundColor2)&&1!=l.alternatingBackground){var w=N%2==0?u.alternatingBackgroundColor2:u.alternatingBackgroundColor;if(N>0&&w){var A;A=a?this.renderer.rect(e.jqx._ptrnd(x.x),y,e.jqx._ptrnd(x.width-1),lineOffset-y,_):this.renderer.rect(y,e.jqx._ptrnd(x.y),lineOffset-y,e.jqx._ptrnd(x.height),_),this.renderer.attr(A,{"stroke-width":0,fill:w,opacity:u.alternatingBackgroundOpacity||1})}}y=lineOffset}var _={stroke:c.color,"stroke-width":c.width,"stroke-dasharray":c.dashStyle||""};if(r.tickMarks&&c.visible&&1!=l.tickMarks)for(var S=c.size,b=c.offsets,M=NaN,N=0;N<b.length;N++)if(a?(lineOffset=e.jqx._ptrnd(p.y+b[N].offset),lineOffset<p.y-m&&(lineOffset=e.jqx._ptrnd(p.y)),lineOffset>p.y+p.height&&(lineOffset=p.y+p.height)):(lineOffset=e.jqx._ptrnd(p.x+b[N].offset),lineOffset>p.x+p.width+m&&(lineOffset=e.jqx._ptrnd(p.x+p.width))),!isNaN(lineOffset)&&(isNaN(M)||!(Math.abs(lineOffset-M)<2))){if(v[lineOffset-1]?lineOffset--:v[lineOffset+1]&&lineOffset++,a){if(lineOffset>p.y+p.height+m)break}else if(lineOffset>p.x+p.width+m)break;M=lineOffset;var C=o.isMirror?S:-S;if(a){var j=p.x+p.width+("right"==h.position?g.left:-g.right);i||(j=p.x+(o.isMirror?g.left:-g.right+p.width)),this.renderer.line(j,lineOffset,j+C,lineOffset,_)}else{var k=p.y+(o.isMirror?p.height:0);k+=o.isMirror?-g.bottom:g.top,k=e.jqx._ptrnd(k),this.renderer.line(lineOffset,k,lineOffset,k-C,_)}}l.tickMarks=l.tickMarks||r.tickMarks,l.gridLines=l.gridLines||r.gridLines,l.alternatingBackground=l.alternatingBackground||r.alternatingBackground}}}}},_calcValueAxisItems:function(e,t,i){var r=this._stats.seriesGroups[e];if(!r||!r.isValid)return!1;var s=this.seriesGroups[e],a=(s.orientation,this._getValueAxis(e)),n=0!=a.valuesOnTicks,o=(a.dataField,r.intervals),l=t/o,h=r.min,d=r.mu,f=1==a.logarithmicScale,u=a.logarithmicScaleBase||10,c=-1!=s.type.indexOf("stacked")&&-1!=s.type.indexOf("100");for(f&&(d=isNaN(a.unitInterval)?1:a.unitInterval),n||(o=Math.max(o-1,1));this._renderData.length<e+1;)this._renderData.push({});this._renderData[e].valueAxis={};var g=this._renderData[e].valueAxis;g.itemWidth=g.intervalWidth=l,g.items=[];for(var p=g.items,x=0;x<=o;x++){var m=0;m=f?c?r.max/Math.pow(u,o-x):h*Math.pow(u,x):n?h+x*d:h+(x+.5)*d,x%i==0?p.push(m):p.push(NaN)}return g.rangeLength=f&&!c?r.intervals:r.intervals*d,1!=a.flip&&(p=p.reverse()),!0},_getDecimalPlaces:function(e,t,i){var r=0;isNaN(i)&&(i=10);for(var s=0;s<e.length;s++){var a=void 0===t?e[s]:e[s][t];if(!isNaN(a)){for(var n=a.toString(),o=0;o<n.length;o++)if((n[o]<"0"||n[o]>"9")&&(r=n.length-(o+1))>=0)return Math.min(r,i);for(r>0&&(a*=Math.pow(10,r));Math.round(a)!=a&&r<i;)r++,a*=10}}return r},_renderValueAxis:function(e,t,i,r){var s=this.seriesGroups[e],a="horizontal"==s.orientation,n=this._getValueAxis(e);if(!n)throw"SeriesGroup "+e+" is missing valueAxis definition";var o={width:0,height:0};if(!this._isGroupVisible(e)||this._isPieOnlySeries()||"spider"==s.type)return o;var l=0!=n.valuesOnTicks,h=this._stats.seriesGroups[e],d=h.mu,f=1==n.logarithmicScale;n.logarithmicScaleBase;if(f&&(d=isNaN(n.unitInterval)?1:n.unitInterval),0==d&&(d=1),isNaN(d))return o;var u=this._getAxisSettings(n),c=u.title,g=u.labels,p=n.labels||{};this._get([n.horizontalTextAlignment,p.horizontalAlignment])||0!=g.angle||(g.halign=a?"center":"right"==n.position?"left":"right");var x=this._get([g.step,g.unitInterval/d]);if(isNaN(x)&&(x=1),x=Math.max(1,Math.round(x)),!this._calcValueAxisItems(e,a?t.width:t.height,x)||!u.visible)return o;a||(c.angle=this.rtl?90:-90,"centercenter"==c.rotationPoint&&("top"==c.valign?c.rotationPoint="rightcenter":"bottom"==c.valign&&(c.rotationPoint="leftcenter")));var m=this._renderData[e].valueAxis,v=g.formatSettings;-1!=s.type.indexOf("stacked")&&-1!=s.type.indexOf("100")&&!v&&(v={sufix:"%"}),g.formatFunction||v&&v.decimalPlaces||(v=v||{},v.decimalPlaces=this._getDecimalPlaces([h.min,h.max,d],void 0,3));var _=u.gridLines,y=(f||this._getInterval(_,d),a?t.width:t.height),b=1==n.flip;n.flip=!b;var M={min:h.min,max:h.max,logAxis:{enabled:1==f,base:n.logarithmicScaleBase,minPow:h.minPow,maxPow:h.maxPow}};(_.visible||n.alternatingBackgroundColor||n.alternatingBackgroundColor2)&&(_.offsets=this._getOffsets("gridLines",n,y,M,u,{left:0,right:0},l,d));var N=u.tickMarks;N.visible&&(N.offsets=this._getOffsets("tickMarks",n,y,M,u,{left:0,right:0},l,d)),labelOffsets=this._getOffsets("labels",n,y,M,u,{left:0,right:0},l,d,!l),n.flip=b;var w,A=[];this._elementRenderInfo&&this._elementRenderInfo.length>e&&(w=this._elementRenderInfo[e].valueAxis);for(var S=0;S<labelOffsets.length;S++){var C=labelOffsets[S].value;if(isNaN(labelOffsets[S].offset))A.push(void 0);else{var j=g.formatFunction?g.formatFunction(C):isNaN(C)?C:this._formatNumber(C,v),k={key:C,text:j};w&&w.itemOffsets[C]&&(k.x=w.itemOffsets[C].x,k.y=w.itemOffsets[C].y),k.targetX=labelOffsets[S].offset,isNaN(k.targetX)||A.push(k)}}var q=a&&"top"==n.position||!a&&"right"==n.position||!a&&this.rtl&&"left"!=n.position,T={items:A,renderData:m},D=this._getAnimProps(e),P=D.enabled&&A.length<500?D.duration:0;return 0==this.enableAxisTextAnimation&&(P=0),m.settings=u,m.isMirror=q,m.rect=t,this._renderAxis(!a,q,u,t,r,d,f,!0,T,i,P)},_objectsArraysToArray:function(t,i){var r=[];if(!e.isArray(t))return r;for(var s=0;s<t.length;s++)r.push(t[s][i]);return r},_arraysToObjectsArray:function(e,t){var i=[];if(e.length!=t.length)return i;for(var r=0;r<e.length;r++)for(var s=0;s<e[r].length;s++)i.length<=s&&i.push({}),i[s][t[r]]=e[r][s];return i},_valuesToOffsets:function(t,i,r,s,a,n,o){var l=[];if(!i||!e.isArray(t))return l;var h=r.logAxis.base,d=r.logAxis.enabled?"logarithmic":"linear",f=i.flip,u=s,c=0,g=0;a&&!isNaN(a.left)&&(c=a.left),a&&!isNaN(a.right)&&(g=a.right),u=s-c-g,s=u;for(var p=0;p<t.length;p++)x=this._jqxPlot.scale(t[p],{min:r.min.valueOf(),max:r.max.valueOf(),type:d,base:h},{min:0,max:n?s:u,flip:f},{}),isNaN(x)?l.push(NaN):(isNaN(o)||(x+=o),x<=s+c+g+1?l.push(e.jqx._ptrnd(x)):l.push(NaN));return l},_generateIntervalValues:function(e,t,i,r,s){var a=[],n=e.min,o=e.max;if(e.logAxis&&e.logAxis.enabled&&(n=e.logAxis.minPow,o=e.logAxis.maxPow),void 0==n||void 0==o)return a;if(n==o)return e.logAxis&&e.logAxis.enabled?[Math.pow(e.logAxis.base,n)]:[n];var l=1;i<1&&(l=1e6,n*=l,o*=l,i*=l);for(var h=n;h<=o;h+=i)a.push(h/l+(s?i/2:0));if(t>i){for(var d=[],f=Math.round(t/i),h=0;h<a.length;h++)h%f==0&&d.push(a[h]);a=d}if(e.logAxis&&e.logAxis.enabled)for(var h=0;h<a.length;h++)a[h]=Math.pow(e.logAxis.base,a[h]);return a},_generateDTOffsets:function(t,i,r,s,a,n,o,l,h,d,f){o||(o="day");var u=[];if(t>i)return u;if(t==i)return d?u.push({offset:l?r/2:s.left,value:t}):l&&u.push({offset:r/2,value:t}),u;var c=r-s.left-s.right,g=t,p=s.left,x=p;n=Math.max(n,1);var m=n,v=Math.min(1,n);for(n>1&&"millisecond"!=o&&(n=1);e.jqx._ptrnd(x)<=e.jqx._ptrnd(s.left+c+(l?0:s.right));){u.push({offset:x,value:g});var _=new Date(g.valueOf());if("millisecond"==o)_.setMilliseconds(g.getMilliseconds()+n);else if("second"==o)_.setSeconds(g.getSeconds()+n);else if("minute"==o)_.setMinutes(g.getMinutes()+n);else if("hour"==o){var y=_.valueOf();_.setHours(g.getHours()+n),y==_.valueOf()&&_.setHours(g.getHours()+n+1)}else"day"==o?_.setDate(g.getDate()+n):"month"==o?_.setMonth(g.getMonth()+n):"year"==o&&_.setFullYear(g.getFullYear()+n);g=_,x=p+(g.valueOf()-t.valueOf())*v/(i.valueOf()-t.valueOf())*c}if(f)for(var b=0;b<u.length;b++)u[b].offset=r-u[b].offset;if(m>1&&"millisecond"!=o){for(var M=[],b=0;b<u.length;b+=m)M.push({offset:u[b].offset,value:u[b].value});u=M}if(!l&&!d&&u.length>1){var M=[];M.push({offset:0,value:void 0});for(var b=1;b<u.length;b++)M.push({offset:u[b-1].offset+(u[b].offset-u[b-1].offset)/2,value:void 0});var N=M.length;N>1?M.push({offset:M[N-1].offset+(M[N-1].offset-M[N-2].offset)}):M.push({offset:r,value:void 0}),u=M}if(a>n){for(var M=[],w=Math.round(a/m),b=0;b<u.length;b++)b%w==0&&M.push({offset:u[b].offset,value:u[b].value});u=M}return u},_hasStackValueReversal:function(e,t){var i=this.seriesGroups[e];if(-1==i.type.indexOf("stacked"))return!1;for(var r=-1!=i.type.indexOf("waterfall"),s=this._getDataLen(e),a=0,n=!1,o=[],l=0;l<i.series.length;l++)o[l]=this._isSerieVisible(e,l);for(var h=0;h<s;h++){var d=void 0;r||(n=!1);for(var f=0;f<i.series.length;f++)if(o[f]&&(val=this._getDataValueAsNumber(h,i.series[f].dataField,e),!isNaN(val))){if(i.series[f].summary){var u=this._getDataValue(h,i.series[f].summary,e);if(void 0!==u)continue}var c=n?val<0:val<t;if(n=!0,void 0==d&&(d=c),c!=d)return!0;d=c,a+=val}}return!1},_getValueAxis:function(e){var t=void 0==e?this.valueAxis:this.seriesGroups[e].valueAxis||this.valueAxis;return t||(t=this.valueAxis={}),t},_buildStats:function(e){var t={seriesGroups:[]};this._stats=t;for(var i=0;i<this.seriesGroups.length;i++){var r=this.seriesGroups[i];t.seriesGroups[i]={};var s=this._getXAxis(i),a=this._getValueAxis(i),n=this._getXAxisStats(i,s,"horizontal"!=r.orientation?e.width:e.height),o=t.seriesGroups[i];o.isValid=!0;var l="horizontal"==r.orientation?e.width:e.height,h=1==a.logarithmicScale,d=a.logarithmicScaleBase;isNaN(d)&&(d=10);var f=-1!=r.type.indexOf("stacked"),u=f&&-1!=r.type.indexOf("100"),c=-1!=r.type.indexOf("range"),g=-1!=r.type.indexOf("waterfall");if(g&&!this._moduleWaterfall)throw"Please include 'jqxchart.waterfall.js'";u&&(o.psums=[],o.nsums=[]);var p=NaN,x=NaN,m=NaN,v=NaN,_=a?a.baselineValue:NaN;isNaN(_)&&(_=h&&!u?1:0);var y=!1;0!=_&&f&&(y=this._hasStackValueReversal(i,_))&&(_=0),f&&g&&(y=this._hasStackValueReversal(i,_));var b=this._getDataLen(i),M=0,N=NaN,w=[];if(g)for(var A=0;A<r.series.length;A++)w.push(NaN);for(var S=NaN,C=0;C<b&&o.isValid;C++){if(s.rangeSelector){var j=s.dataField?this._getDataValue(C,s.dataField,i):C;if(j&&n.isDateTime&&(j=this._castAsDate(j,s.dateFormat)),n.useIndeces&&(j=C),j&&(j.valueOf()<n.min.valueOf()||j.valueOf()>n.max.valueOf()))continue}var k=a.minValue,q=a.maxValue;a.baselineValue&&(k=isNaN(k)?_:Math.min(_,k),q=isNaN(q)?_:Math.max(_,q));for(var T=0,D=0,A=0;A<r.series.length;A++)if(this._isSerieVisible(i,A)){var P=NaN,O=NaN,I=NaN;if(-1!=r.type.indexOf("candle")||-1!=r.type.indexOf("ohlc")){var F=["Open","Low","Close","High"];for(var R in F){var L=this._getDataValueAsNumber(C,r.series[A]["dataField"+F[R]],i);isNaN(L)||(I=isNaN(O)?L:Math.min(I,L),O=isNaN(O)?L:Math.max(O,L))}}else if(c){var G=this._getDataValueAsNumber(C,r.series[A].dataFieldFrom,i),E=this._getDataValueAsNumber(C,r.series[A].dataFieldTo,i);O=Math.max(G,E),I=Math.min(G,E)}else{if(P=this._getDataValueAsNumber(C,r.series[A].dataField,i),g){if(this._isSummary(i,C)){var V=this._getDataValue(C,r.series[A].summary,i);if(void 0!==V)continue}f?(isNaN(S)||(P+=S),S=P):(isNaN(w[A])?w[A]=P:P+=w[A],w[A]=P)}if(isNaN(P)||h&&P<=0)continue;I=O=P}(isNaN(q)||O>q)&&(isNaN(a.maxValue)||O<=a.maxValue)&&(q=O),(isNaN(k)||I<k)&&(isNaN(a.minValue)||I>=a.minValue)&&(k=I),isNaN(P)||!f||g||(P>_?T+=P:P<_&&(D+=P))}if(u||(isNaN(a.maxValue)||(T=Math.min(a.maxValue,T)),isNaN(a.minValue)||(D=Math.max(a.minValue,D))),h&&u)for(var A=0;A<r.series.length;A++)if(this._isSerieVisible(i,A)){var P=this._getDataValueAsNumber(C,r.series[A].dataField,i);if(isNaN(P)||P<=0)N=.01;else{var H=0==T?0:P/T;(isNaN(N)||H<N)&&(N=H)}}else N=.01;var B=T-D;M<B&&(M=B),u&&(o.psums[C]=T,o.nsums[C]=D),(q>x||isNaN(x))&&(x=q),(k<p||isNaN(p))&&(p=k),(T>m||isNaN(m))&&(m=T),(D<v||isNaN(v))&&(v=D)}u&&(m=0==m?0:Math.max(m,-v),v=0==v?0:Math.min(v,-m)),p==x&&(0==p?(p=-1,x=1):p<0?x=0:h?1==p&&(p/=d,x*=d):p=0);var z={gmin:p,gmax:x,gsumP:m,gsumN:v,gbase:_,isLogAxis:h,logBase:d,minPercent:N,gMaxRange:M,isStacked:f,isStacked100:u,isWaterfall:g,hasStackValueReversal:y,valueAxis:a,valueAxisSize:l};z.isStacked&&(z.gsumN<0&&(z.gmin=Math.min(z.gmin,z.gbase+z.gsumN)),z.gsumP>0&&(z.gmax=Math.max(z.gmax,z.gbase+z.gsumP))),o.context=z}this._mergeCommonValueAxisStats();for(var C=0;C<t.seriesGroups.length;C++){var o=t.seriesGroups[C];if(o.isValid){var W=this._calcOutputGroupStats(o.context);for(var R in W)o[R]=W[R];delete o.context}}},_mergeCommonValueAxisStats:function(){for(var e={},t=0;t<this.seriesGroups.length;t++)if(this._isGroupVisible(t)&&!this.seriesGroups[t].valueAxis){var i=this._stats.seriesGroups[t].context;e.gbase=i.gbase,(isNaN(e.gmin)||i.gmin<e.gmin)&&(e.gmin=i.gmin),(isNaN(e.gmax)||i.gmax>e.gmax)&&(e.gmax=i.gmax),(isNaN(e.gsumP)||i.gsumP>e.gsumP)&&(e.gsumP=i.gsumP),(isNaN(e.gsumN)||i.gsumN<e.gsumN)&&(e.gsumN=i.gsumN),(isNaN(e.logBase)||i.logBase<e.logBase)&&(e.logBase=i.logBase),(isNaN(e.minPercent)||i.minPercent<e.minPercent)&&(e.minPercent=i.minPercent),e.gsumN>0&&(e.gmin=Math.min(e.gmin,e.gbase+e.gsumN)),e.gsumP>0&&(e.gmax=Math.max(e.gmax,e.gbase+e.gsumP))}for(var t=0;t<this.seriesGroups.length;t++)if(!this.seriesGroups[t].valueAxis){var r=this._stats.seriesGroups[t].context;for(var s in e)r[s]=e[s]}},_calcOutputGroupStats:function(t){var i=t.gmin,r=t.gmax,s=t.gsumP,a=t.gsumN,n=t.gbase,o=t.isLogAxis,l=t.logBase,h=t.minPercent,d=t.gMaxRange,f=t.isStacked,u=t.isStacked100,c=t.isWaterfall,g=t.hasStackValueReversal,p=t.valueAxis,x=t.valueAxisSize,m=t.valueAxis.unitInterval;m||(m=this._calcInterval(i,r,Math.max(x/80,2))),i==r&&(i=n,r*=2);var v=NaN,_=0,y=0;if(o){if(u){v=0;var b=1;for(_=y=e.jqx.log(100,l);b>h;)b/=l,_--,v++;i=Math.pow(l,_)}else f&&!c&&(r=Math.max(r,s)),y=e.jqx._rnd(e.jqx.log(r,l),1,!0),r=Math.pow(l,y),_=e.jqx._rnd(e.jqx.log(i,l),1,!1),i=Math.pow(l,_);m=l}i<a&&(a=i),r>s&&(s=r);var M=o?i:e.jqx._rnd(i,m,!1),N=o?r:e.jqx._rnd(r,m,!0);if(u&&N>100&&(N=100),u&&!o&&(N=N>0?100:0,M=M<0?-100:0,m=p.unitInterval,(isNaN(m)||m<=0||m>=100)&&(m=10),100%m!=0))for(;m>=1&&100%m!=0;m--);return isNaN(N)||isNaN(M)||isNaN(m)?{}:(isNaN(v)&&(v=parseInt(((N-M)/(0==m?1:m)).toFixed())),o&&!u&&(v=y-_,d=Math.pow(l,v)),v<1?{}:{min:M,max:N,logarithmic:o,logBase:l,base:o?M:n,minPow:_,maxPow:y,sumP:s,sumN:a,mu:m,maxRange:d,intervals:v,hasStackValueReversal:g})},_getDataLen:function(t){var i=this.source;return void 0!=t&&-1!=t&&this.seriesGroups[t].source&&(i=this.seriesGroups[t].source),i instanceof e.jqx.dataAdapter&&(i=i.records),i?i.length:0},_getDataValue:function(t,i,r){var s=this.source;if(void 0!=r&&-1!=r&&(s=this.seriesGroups[r].source||s),s instanceof e.jqx.dataAdapter&&(s=s.records),!(!s||t<0||t>s.length-1))return e.isFunction(i)?i(t,s):i&&""!=i?s[t][i]:s[t]},_getDataValueAsNumber:function(e,t,i){var r=this._getDataValue(e,t,i);return this._isDate(r)?r.valueOf():("number"!=typeof r&&(r=parseFloat(r)),"number"!=typeof r&&(r=void 0),r)},_isPieGroup:function(e){var t=this.seriesGroups[e];return!(!t||!t.type)&&(-1!=t.type.indexOf("pie")||-1!=t.type.indexOf("donut"))},_renderPieSeries:function(t,i){for(var r=this._getDataLen(t),s=this.seriesGroups[t],a=this._calcGroupOffsets(t,i).offsets,n=0;n<s.series.length;n++){var o=s.series[n];if(!o.customDraw){var l=this._getSerieSettings(t,n),h=(o.colorScheme||s.colorScheme||this.colorScheme,this._getAnimProps(t,n)),d=h.enabled&&r<5e3&&!this._isToggleRefresh&&1!=this._isVML?h.duration:0;e.jqx.mobile.isMobileBrowser()&&this.renderer instanceof e.jqx.HTML5Renderer&&(d=0);var f=this._get([o.minAngle,o.startAngle]);(isNaN(f)||f<0||f>360)&&(f=0);var u=this._get([o.maxAngle,o.endAngle]);(isNaN(u)||u<0||u>360)&&(u=360);for(var c={rect:i,minAngle:f,maxAngle:u,groupIndex:t,serieIndex:n,settings:l,items:[]},g=0;g<r;g++){var p=a[n][g];if(p.visible){var x=p.fromAngle,m=p.toAngle,v=this.renderer.pieslice(p.x,p.y,p.innerRadius,p.outerRadius,x,0==d?m:x,p.centerOffset);this._setRenderInfo(t,n,g,{element:v});var _={displayValue:p.displayValue,itemIndex:g,visible:p.visible,x:p.x,y:p.y,innerRadius:p.innerRadius,outerRadius:p.outerRadius,fromAngle:x,toAngle:m,centerOffset:p.centerOffset};c.items.push(_)}}this._animatePieSlices(c,0);var y=this;this._enqueueAnimation("series",void 0,void 0,d,function(e,t,i){y._animatePieSlices(t,i)},c)}}},_sliceSortFunction:function(e,t){return e.fromAngle-t.fromAngle},_animatePieSlices:function(e,t){var i;this._elementRenderInfo&&this._elementRenderInfo.length>e.groupIndex&&this._elementRenderInfo[e.groupIndex].series&&this._elementRenderInfo[e.groupIndex].series.length>e.serieIndex&&(i=this._elementRenderInfo[e.groupIndex].series[e.serieIndex]);for(var r=this.seriesGroups[e.groupIndex],s=this._getLabelsSettings(e.groupIndex,e.serieIndex,NaN),a=s.visible,n=[],o=0;o<e.items.length;o++){var l=e.items[o];if(l.visible){var h=l.fromAngle,d=l.fromAngle+t*(l.toAngle-l.fromAngle);if(i&&i[l.displayValue]){var f=i[l.displayValue].fromAngle,u=i[l.displayValue].toAngle;h=f+(h-f)*t,d=u+(d-u)*t}n.push({index:o,from:h,to:d})}}i&&n.sort(this._sliceSortFunction);for(var c=NaN,o=0;o<n.length;o++){var l=e.items[n[o].index],g=this._getRenderInfo(e.groupIndex,e.serieIndex,l.itemIndex),h=n[o].from,d=n[o].to;i&&(!isNaN(c)&&h>c&&(h=c),c=d,o==n.length-1&&d!=n[0].from&&(d=e.maxAngle+n[0].from));var p=this.renderer.pieSlicePath(l.x,l.y,l.innerRadius,l.outerRadius,h,d,l.centerOffset);this.renderer.attr(g.element,{d:p});var x=this._getColors(e.groupIndex,e.serieIndex,l.itemIndex,"radialGradient",l.outerRadius),m=e.settings;g.colors=x,g.settings=m,this.renderer.attr(g.element,{fill:x.fillColor,stroke:x.lineColor,"stroke-width":m.stroke,"fill-opacity":m.opacity,"stroke-opacity":m.opacity,"stroke-dasharray":"none"});r.series[e.serieIndex];a&&this._showPieLabel(e.groupIndex,e.serieIndex,l.itemIndex,s),1==t&&this._installHandlers(g.element,"pieslice",e.groupIndex,e.serieIndex,l.itemIndex)}},_showPieLabel:function(t,i,r,s,a){var n=this._renderData[t].offsets[i][r];if(n.elementInfo.labelElement&&this.renderer.removeElement(n.elementInfo.labelElement),s||(s=this._getLabelsSettings(t,i,NaN)),s.visible){var o=n.fromAngle,l=n.toAngle,h=Math.abs(o-l);h>360&&(o=0,l=360);var d=(Math.PI,Math.PI,h/2+o);d%=360;var f,u=d*Math.PI*2/360;1==s.autoRotate&&(f=d<90||d>270?360-d:180-d);var c=s.linesEnabled,g=this._showLabel(t,i,r,{x:0,y:0,width:0,height:0},"center","center",!0,!1,!1,f),p=s.radius||n.outerRadius+Math.max(g.width,g.height);this._isPercent(p)&&(p=parseFloat(p)/100*Math.min(this._plotRect.width,this._plotRect.height)/2),p+=n.centerOffset,isNaN(a)&&(a=0),p+=a;var x=this.seriesGroups[t],m=x.series[i],v=e.jqx.getNum([m.offsetX,x.offsetX,this._plotRect.width/2]),_=e.jqx.getNum([m.offsetY,x.offsetY,this._plotRect.height/2]),y=this._plotRect.x+v,b=this._plotRect.y+_,M=this._adjustTextBoxPosition(y,b,g,p,d,n.outerRadius>p,0!=s.linesAngles,1==s.autoRotate),N={}
;if(n.elementInfo.labelElement=this._showLabel(t,i,r,{x:M.x,y:M.y,width:g.width,height:g.height},"left","top",!1,!1,!1,f,N),p>n.outerRadius+5&&0!=c){var w={lineColor:n.elementInfo.colors.lineColor,stroke:n.elementInfo.settings.stroke,opacity:n.elementInfo.settings.opacity,dashStyle:n.elementInfo.settings.dashStyle};n.elementInfo.labelArrowPath=this._updateLebelArrowPath(n.elementInfo.labelArrowPath,y,b,p,n.outerRadius+a,u,0!=s.linesAngles,w,N)}}},_updateLebelArrowPath:function(t,i,r,s,a,n,o,l,h){var d=e.jqx._ptrnd(i+(s-0)*Math.cos(n)),f=e.jqx._ptrnd(r-(s-0)*Math.sin(n)),u=e.jqx._ptrnd(i+(a+2)*Math.cos(n)),c=e.jqx._ptrnd(r-(a+2)*Math.sin(n)),g=[];g.push({x:h.x+h.width/2,y:h.y}),g.push({x:h.x+h.width/2,y:h.y+h.height}),g.push({x:h.x,y:h.y+h.height/2}),g.push({x:h.x+h.width,y:h.y+h.height/2}),o||(g.push({x:h.x,y:h.y}),g.push({x:h.x+h.width,y:h.y}),g.push({x:h.x+h.width,y:h.y+h.height}),g.push({x:h.x,y:h.y+h.height})),g=g.sort(function(t,s){return e.jqx._ptdist(t.x,t.y,i,r)-e.jqx._ptdist(s.x,s.y,i,r)}),g=g.sort(function(e,t){return Math.abs(e.x-i)+Math.abs(e.y-r)-(Math.abs(t.x-i)+Math.abs(t.y-r))});for(var p=0;p<g.length;p++)g[p].x=e.jqx._ptrnd(g[p].x),g[p].y=e.jqx._ptrnd(g[p].y);d=g[0].x,f=g[0].y;var x="M "+d+","+f+" L"+u+","+c;return o&&(x="M "+d+","+f+" L"+u+","+f+" L"+u+","+c),t?this.renderer.attr(t,{d:x}):t=this.renderer.path(x,{}),this.renderer.attr(t,{fill:"none",stroke:l.lineColor,"stroke-width":l.stroke,"stroke-opacity":l.opacity,"stroke-dasharray":"none"}),t},_adjustTextBoxPosition:function(t,i,r,s,a,n,o,l){var h=a*Math.PI*2/360,d=e.jqx._ptrnd(t+s*Math.cos(h)),f=e.jqx._ptrnd(i-s*Math.sin(h));if(l){var u=r.width,c=r.height,g=Math.atan(c/u)%(2*Math.PI),p=h%(2*Math.PI),x=0;p<=g?x=u/2*Math.cos(h):p>=g&&p<Math.PI-g?x=c/2*Math.sin(h):p>=Math.PI-g&&p<Math.PI+g?x=u/2*Math.cos(h):p>=Math.PI+g&&p<2*Math.PI-g?x=c/2*Math.sin(h):p>=2*Math.PI-g&&p<2*Math.PI&&(x=u/2*Math.cos(h)),s+=Math.abs(x)+3;var d=e.jqx._ptrnd(t+s*Math.cos(h)),f=e.jqx._ptrnd(i-s*Math.sin(h));return d-=r.width/2,f-=r.height/2,{x:d,y:f}}return n?(d-=r.width/2,f-=r.height/2):o?a>=90&&a<270?(f-=r.height/2,d-=r.width):f-=r.height/2:a>=0&&a<45||a>=315&&a<360?f-=r.height/2:a>=45&&a<135?(f-=r.height,d-=r.width/2):a>=135&&a<225?(f-=r.height/2,d-=r.width):a>=225&&a<315&&(d-=r.width/2),{x:d,y:f}},_isColumnType:function(e){return-1!=e.indexOf("column")||-1!=e.indexOf("waterfall")},_getColumnGroupsCount:function(e){var t=0;e=e||"vertical";for(var i=this.seriesGroups,r=0;r<i.length;r++){var s=i[r].orientation||"vertical";this._isColumnType(i[r].type)&&s==e&&t++}return this.columnSeriesOverlap&&(t=1),t},_getColumnGroupIndex:function(e){for(var t=0,i=this.seriesGroups[e].orientation||"vertical",r=0;r<e;r++){var s=this.seriesGroups[r],a=s.orientation||"vertical";this._isColumnType(s.type)&&a==i&&t++}return t},_renderAxisBands:function(t,i,r){var s=r?this._getXAxis(t):this._getValueAxis(t),a=this.seriesGroups[t],n=r?void 0:a.bands;if(!n){for(var o=0;o<t;o++){if((r?this._getXAxis(o):this._getValueAxis(o))==s)return}n=s.bands}if(e.isArray(n)){var l=i,h="horizontal"==a.orientation;h&&(l={x:i.y,y:i.x,width:i.height,height:i.width}),this._calcGroupOffsets(t,l);for(var o=0;o<n.length;o++){var d,f=n[o],u=this._get([f.minValue,f.from]),c=this._get([f.maxValue,f.to]),g=r?this.getXAxisDataPointOffset(u,t):this.getValueAxisDataPointOffset(u,t),p=r?this.getXAxisDataPointOffset(c,t):this.getValueAxisDataPointOffset(c,t),x=Math.abs(g-p);if(a.polar||a.spider){var m=this._renderData[t],v=m.polarCoords;if(r)if(a.spider){p1=this.getPolarDataPointOffset(u,this._stats.seriesGroups[t].max,t),p2=this.getPolarDataPointOffset(c,this._stats.seriesGroups[t].max,t);var _="M "+v.x+","+v.y;_+=" L "+p1.x+","+p1.y,_+=" L "+p2.x+","+p2.y,d=this.renderer.path(_)}else{var y={},b={x:Math.min(g,p),y:i.y,width:x,height:i.height};this._columnAsPieSlice(y,i,v,b),d=y.element}else{var M=this._toPolarCoord(v,i,i.x,m.baseOffset),N=this._toPolarCoord(v,i,i.x,g),w=this._toPolarCoord(v,i,i.x,p),A=e.jqx._ptdist(M.x,M.y,N.x,N.y),S=e.jqx._ptdist(M.x,M.y,w.x,w.y),C=Math.round(360*-v.startAngle/(2*Math.PI)),j=Math.round(360*-v.endAngle/(2*Math.PI));if(C>j){var k=C;C=j,j=k}if(a.spider){var q=m.xAxis.offsetAngles,_="",T=[S,A],D=q;v.isClosedCircle&&(D=e.extend([],q),D.push(D[0]));for(var P in T){for(var O=0;O<D.length;O++){var I=0==P?O:q.length-O-1,F=v.x+T[P]*Math.cos(D[I]),R=v.y+T[P]*Math.sin(D[I]);_+=""==_?"M ":" L",_+=e.jqx._ptrnd(F)+","+e.jqx._ptrnd(R)}if(0==P){var F=v.x+T[1]*Math.cos(D[I]),R=v.y+T[1]*Math.sin(D[I]);_+=" L"+e.jqx._ptrnd(F)+","+e.jqx._ptrnd(R)}}_+=" Z",d=this.renderer.path(_)}else d=this.renderer.pieslice(v.x,v.y,A,S,C,j)}}else{var L={x:Math.min(g,p),y:l.y,width:x,height:l.height};if(r||(L={x:l.x,y:Math.min(g,p),width:l.width,height:x}),h){var k=L.x;L.x=L.y,L.y=k,k=L.width,L.width=L.height,L.height=k}d=0==x||1==x?this.renderer.line(e.jqx._ptrnd(L.x),e.jqx._ptrnd(L.y),e.jqx._ptrnd(L.x+(h?0:L.width)),e.jqx._ptrnd(L.y+(h?L.height:0))):this.renderer.rect(L.x,L.y,L.width,L.height)}var G=f.fillColor||f.color||"#AAAAAA",E=f.lineColor||G,V=f.lineWidth;isNaN(V)&&(V=1);var H=f.opacity;(isNaN(H)||H<0||H>1)&&(H=1),this.renderer.attr(d,{fill:G,"fill-opacity":H,stroke:E,"stroke-opacity":H,"stroke-width":V,"stroke-dasharray":f.dashStyle})}}},_getColumnGroupWidth:function(e,t,i){var r=this.seriesGroups[e],s=-1!=r.type.indexOf("stacked"),a=(s||r.series.length,this._getColumnGroupsCount(r.orientation));(isNaN(a)||0==a)&&(a=1);var n=t.rangeLength>=1?t.itemWidth:.9*i,o=r.columnsMinWidth;isNaN(o)&&(o=1),isNaN(r.columnsMaxWidth)||(o=Math.min(r.columnsMaxWidth,o)),o>n&&t.length>0&&(n=Math.max(n,.9*i/t.length));var l=o;if(!s){var h=r.seriesGapPercent;(isNaN(h)||h<0)&&(h=10),h/=100;var d=o;d*=1+h,l+=r.series.length*d}return{requiredWidth:l,availableWidth:n,targetWidth:Math.max(n/a,l)}},_getColumnSerieWidthAndOffset:function(e,t){var i=this.seriesGroups[e],r=(i.series[t],"horizontal"==i.orientation),s=this._plotRect;r&&(s={x:s.y,y:s.x,width:s.height,height:s.width});var a=this._calcGroupOffsets(e,s);if(a&&0!=a.xoffsets.length){var n=this._getColumnGroupsCount(i.orientation);"candlestick"!=i.type&&"ohlc"!=i.type||(n=1);var o=this._getColumnGroupIndex(e),l=this._getColumnGroupWidth(e,a.xoffsets,r?s.height:s.width),h=0,d=l.targetWidth;(1==this.columnSeriesOverlap||Math.round(d)>Math.round(l.availableWidth/n))&&(n=1,o=0),h-=d*n/2,h+=d*o;var f=i.columnsGapPercent;f<=0&&(f=0),(isNaN(f)||f>=100)&&(f=25),f/=100;var u=d*f;u+l.requiredWidth>l.targetWidth&&(u=Math.max(0,l.targetWidth-l.requiredWidth)),Math.round(d)>Math.round(l.availableWidth)&&(u=0),d-=u,h+=u/2;var c=i.seriesGapPercent;(isNaN(c)||c<0)&&(c=10);var g=-1!=i.type.indexOf("stacked"),p=d;g||(p/=i.series.length);var x=this._get([i.seriesGap,d*c/100/(i.series.length-1)]);(1==i.polar||1==i.spider||g||i.series.length<=1)&&(x=0);var m=x*(i.series.length-1);i.series.length>1&&m>d-1*i.series.length&&(m=d-1*i.series.length,x=m/Math.max(1,i.series.length-1));var v=p-m/i.series.length,_=0,y=i.columnsMaxWidth;isNaN(y)||v>y&&(_=v-y,v=y);var b=0;if(g)b=_/2;else{b=(d-v*i.series.length-m)/2+v*t+Math.max(0,t)*x}return{width:v,offset:h+b}}},_renderColumnSeries:function(t,i){var r=this.seriesGroups[t];if(r.series&&0!=r.series.length){var s=(this._getDataLen(t),"horizontal"==r.orientation),a=i;s&&(a={x:i.y,y:i.x,width:i.height,height:i.width});var n=this._calcGroupOffsets(t,a);if(n&&0!=n.xoffsets.length){var o;1!=r.polar&&1!=r.spider||(o=this._getPolarAxisCoords(t,a));var l={groupIndex:t,rect:i,vertical:!s,seriesCtx:[],renderData:n,polarAxisCoords:o};l.columnGroupWidth=this._getColumnGroupWidth(t,n.xoffsets,s?a.height:a.width);for(var h=this._getGroupGradientType(t),d=0;d<r.series.length;d++){var f=r.series[d];if(!f.customDraw){var u=(f.dataField,this._getAnimProps(t,d)),c=u.enabled&&!this._isToggleRefresh&&n.xoffsets.length<100?u.duration:0,g=this._getColumnSerieWidthAndOffset(t,d),p=this._isSerieVisible(t,d),x=this._getSerieSettings(t,d),m=this._getColors(t,d,NaN,this._getGroupGradientType(t),4),v=[];if(e.isFunction(f.colorFunction)&&!o)for(var _=n.xoffsets.first;_<=n.xoffsets.last;_++)v.push(this._getColors(t,d,_,h,4));var y={seriesIndex:d,serieColors:m,itemsColors:v,settings:x,columnWidth:g.width,xAdjust:g.offset,isVisible:p};l.seriesCtx.push(y)}}this._animColumns(l,0==c?1:0);var b=this;this._enqueueAnimation("series",void 0,void 0,c,function(e,t,i){b._animColumns(t,i)},l)}}},_getPercent:function(e,t,i,r){return isNaN(e)&&(e=t),!isNaN(i)&&!isNaN(e)&&e<i&&(e=i),!isNaN(r)&&!isNaN(e)&&e>r&&(e=r),isNaN(e)?NaN:e},_getColumnVOffsets:function(e,t,i,r,s,a){var n=this.seriesGroups[t],o=this._getPercent(n.columnsTopWidthPercent,100,0,100),l=this._getPercent(n.columnsBottomWidthPercent,100,0,100);0==o&&0==l&&(l=100);for(var h=this._getPercent(n.columnsNeckHeightPercent,NaN,0,100)/100,d=this._getPercent(n.columnsNeckWidthPercent,100,0,100)/100,f=[],u=NaN,c=0;c<i.length;c++){var g,p=i[c],x=p.seriesIndex,m=(n.series[x],e.offsets[x][r].from),v=e.offsets[x][r].to,_=e.xoffsets.data[r],y=p.isVisible;y||(v=m);var b=this._elementRenderInfo;if(y&&b&&b.length>t&&b[t].series.length>x){var M=e.xoffsets.xvalues[r];g=b[t].series[x][M],!g||isNaN(g.from)||isNaN(g.to)||(m=g.from+(m-g.from)*a,v=g.to+(v-g.to)*a,_=g.xoffset+(_-g.xoffset)*a)}g||(v=m+(v-m)*(s?1:a)),isNaN(m)&&(m=isNaN(u)?e.baseOffset:u),u=!isNaN(v)&&s?v:m,isNaN(v)&&(v=m);var N={from:m,to:v,xOffset:_};100==o&&100==l||(N.funnel=!0,N.toWidthPercent=o,N.fromWidthPercent=l),f.push(N)}if(s&&f.length>1&&!(this._elementRenderInfo&&this._elementRenderInfo.length>t)){for(var w=0,A=0,S=-1/0,C=1/0,j=1/0,k=-1/0,q=0;q<f.length;q++){var p=i[q];p.isVisible&&(f[q].to>=f[q].from?(A+=f[q].to-f[q].from,j=Math.min(j,f[q].from),k=Math.max(k,f[q].to)):(w+=f[q].from-f[q].to,S=Math.max(S,f[q].from),C=Math.min(C,f[q].to)))}var T=w,D=A;w*=a,A*=a;for(var P=0,O=0,q=0;q<f.length;q++)if(f[q].to>=f[q].from){var I=f[q].to-f[q].from;I+O>A&&(I=Math.max(0,A-O),f[q].to=f[q].from+I),100==o&&100==l||(f[q].funnel=!0,!isNaN(h)&&D*h>=O?f[q].fromWidthPercent=100*d:f[q].fromWidthPercent=Math.abs(f[q].from-j)/D*(o-l)+l,!isNaN(h)&&D*h>=0+(O+I)?f[q].toWidthPercent=100*d:f[q].toWidthPercent=Math.abs(f[q].to-j)/D*(o-l)+l),O+=I}else{var I=f[q].from-f[q].to;I+P>w&&(I=Math.max(0,w-P),f[q].to=f[q].from-I),100==o&&100==l||(f[q].funnel=!0,!isNaN(h)&&T*h>=P?f[q].fromWidthPercent=100*d:f[q].fromWidthPercent=Math.abs(f[q].from-S)/T*(o-l)+l,!isNaN(h)&&T*h>=0+(P+I)?f[q].toWidthPercent=100*d:f[q].toWidthPercent=Math.abs(f[q].to-S)/T*(o-l)+l),P+=I}}return f},_columnAsPieSlice:function(t,i,r,s){var a=this._toPolarCoord(r,i,s.x,s.y),n=this._toPolarCoord(r,i,s.x,s.y+s.height),o=e.jqx._ptdist(r.x,r.y,n.x,n.y),l=e.jqx._ptdist(r.x,r.y,a.x,a.y),h=i.width,d=180*Math.abs(r.startAngle-r.endAngle)/Math.PI,f=-(s.x-i.x)*d/h,u=-(s.x+s.width-i.x)*d/h,c=r.startAngle;if(c=360*c/(2*Math.PI),f-=c,u-=c,t)if(void 0!=t.element){var g=this.renderer.pieSlicePath(r.x,r.y,o,l,u,f,0);g+=" Z",this.renderer.attr(t.element,{d:g})}else t.element=this.renderer.pieslice(r.x,r.y,o,l,u,f,0);return{fromAngle:u,toAngle:f,innerRadius:o,outerRadius:l}},_setRenderInfo:function(e,t,i,r){this._renderData[e].offsets[t][i].elementInfo=r},_getRenderInfo:function(e,t,i){return this._renderData[e].offsets[t][i].elementInfo||{}},_animColumns:function(t,i){for(var r=this,s=t.groupIndex,a=this.seriesGroups[s],n=t.renderData,o=-1!=a.type.indexOf("waterfall"),l=this._getXAxis(s),h=-1!=a.type.indexOf("stacked"),d=t.polarAxisCoords,f=(this._getGroupGradientType(s),t.columnGroupWidth.targetWidth,-1),u=0;u<a.series.length;u++)if(this._isSerieVisible(s,u)){f=u;break}for(var c=NaN,g=NaN,u=0;u<t.seriesCtx.length;u++){var p=t.seriesCtx[u];(isNaN(c)||c>p.xAdjust)&&(c=p.xAdjust),(isNaN(g)||g<p.xAdjust+p.columnWidth)&&(g=p.xAdjust+p.columnWidth)}var x=Math.abs(g-c),m=this._get([a.columnsGapPercent,25])/100;(isNaN(m)<0||m>=1)&&(m=.25);for(var v=m*x,_=t.renderData.xoffsets,y=-1,b={},M=1==a.skipOverlappingPoints,N=_.first;N<=_.last;N++){var w=_.data[N];if(!isNaN(w)&&!(-1!=y&&Math.abs(w-y)<x-1+v&&M)){y=w;var A=this._getColumnVOffsets(n,s,t.seriesCtx,N,h,i),S=!1;if(o)for(var C=0;C<a.series.length;C++)a.series[C].summary&&_.xvalues[N][a.series[C].summary]&&(S=!0);for(var C=0;C<t.seriesCtx.length;C++){var p=t.seriesCtx[C],j=p.seriesIndex,k=a.series[j],q=A[C].from,T=A[C].to,D=A[C].xOffset,P=(t.vertical?t.rect.x:t.rect.y)+p.xAdjust,O=p.settings,I=0!=p.itemsColors.length?p.itemsColors[N-n.xoffsets.first]:p.serieColors,F=this._isSerieVisible(s,j);if(F){var w=e.jqx._ptrnd(P+D),R={x:w,width:p.columnWidth};A[C].funnel&&(R.fromWidthPercent=A[C].fromWidthPercent,R.toWidthPercent=A[C].toWidthPercent);var L=!0;t.vertical?(R.y=q,R.height=T-q,R.height<0&&(R.y+=R.height,R.height=-R.height,L=!1)):(R.x=q<T?q:T,R.width=Math.abs(q-T),L=q-T<0,R.y=w,R.height=p.columnWidth);var G=q-T;if(!isNaN(G)){G=Math.abs(G);var E=void 0,V=r._getRenderInfo(s,j,N),H=V.element,B=V.labelElement,z=void 0==H;if(B&&(r.renderer.removeElement(B),B=void 0),d){var W={element:H};E=this._columnAsPieSlice(W,t.rect,d,R),H=W.element;var I=this._getColors(s,j,void 0,"radialGradient",E.outerRadius)}else if(A[C].funnel){var X=this._getTrapezoidPath(e.extend({},R),t.vertical,L);z?H=this.renderer.path(X,{}):this.renderer.attr(H,{d:X})}else z?H=this.renderer.rect(R.x,R.y,t.vertical?R.width:0,t.vertical?0:R.height):1==t.vertical?this.renderer.attr(H,{x:R.x,y:R.y,height:G}):this.renderer.attr(H,{x:R.x,y:R.y,width:G});if(G<1&&(1!=i||d)?this.renderer.attr(H,{display:"none"}):this.renderer.attr(H,{display:"block"}),z&&this.renderer.attr(H,{fill:I.fillColor,"fill-opacity":O.opacity,"stroke-opacity":O.opacity,stroke:I.lineColor,"stroke-width":O.stroke,"stroke-dasharray":O.dashStyle}),B&&this.renderer.removeElement(B),!F||0==G&&i<1)V={element:H,labelElement:B},r._setRenderInfo(s,j,N,V);else{if(o&&0!=this._get([k.showWaterfallLines,a.showWaterfallLines])){if(!h||h&&C==f){var U=h?-1:C;if(1==i&&!isNaN(n.offsets[C][N].from)&&!isNaN(n.offsets[C][N].to)){var Y=b[U];if(void 0!=Y){var Z={x:Y.x,y:e.jqx._ptrnd(Y.y)},J={x:w,y:Z.y},Q=a.columnsTopWidthPercent/100;isNaN(Q)?Q=1:(Q>1||Q<0)&&(Q=1);var $=a.columnsBottomWidthPercent/100;isNaN($)?$=1:($>1||$<0)&&($=1);var K=t.vertical?R.width:R.height;if(Z.x=Z.x-K/2+K/2*Q,S){var ee=K*Q/2;J.x=J.x+K/2-(l.flip?-ee:ee)}else{var ee=K*$/2;J.x=J.x+K/2-(l.flip?-ee:ee)}t.vertical||(this._swapXY([Z]),this._swapXY([J])),this.renderer.line(Z.x,Z.y,J.x,J.y,{stroke:Y.color,"stroke-width":O.stroke,"stroke-opacity":O.opacity,"fill-opacity":O.opacity,"stroke-dasharray":O.dashStyle})}}}1==i&&0!=G&&(b[h?-1:C]={y:T,x:t.vertical?R.x+R.width:R.y+R.height,color:I.lineColor})}if(d){var K=(this._toPolarCoord(d,t.rect,R.x+R.width/2,R.y),this._showLabel(s,j,N,R,void 0,void 0,!0)),te=E.outerRadius+10;labelOffset=this._adjustTextBoxPosition(d.x,d.y,K,te,(E.fromAngle+E.toAngle)/2,!0,!1,!1),B=this._showLabel(s,j,N,{x:labelOffset.x,y:labelOffset.y},void 0,void 0,!1,!1,!1)}else B=this._showLabel(s,j,N,R,void 0,void 0,!1,!1,L);V={element:H,labelElement:B},r._setRenderInfo(s,j,N,V),1==i&&this._installHandlers(H,"column",s,j,N)}}}}}}},_getTrapezoidPath:function(t,i,r){var s="",a=t.fromWidthPercent/100,n=t.toWidthPercent/100;if(!i){var o=t.width;t.width=t.height,t.height=o,o=t.x,t.x=t.y,t.y=o}var l=t.x+t.width/2,h=[{x:l-t.width*(r?n:a)/2,y:t.y+t.height},{x:l-t.width*(r?a:n)/2,y:t.y},{x:l+t.width*(r?a:n)/2,y:t.y},{x:l+t.width*(r?n:a)/2,y:t.y+t.height}];i||this._swapXY(h),s+="M "+e.jqx._ptrnd(h[0].x)+","+e.jqx._ptrnd(h[0].y);for(var d=1;d<h.length;d++)s+=" L "+e.jqx._ptrnd(h[d].x)+","+e.jqx._ptrnd(h[d].y);return s+=" Z"},_swapXY:function(e){for(var t=0;t<e.length;t++){var i=e[t].x;e[t].x=e[t].y,e[t].y=i}},_renderCandleStickSeries:function(t,i,r){var s=this,a=s.seriesGroups[t];if(a.series&&0!=a.series.length){var n="horizontal"==a.orientation,o=i;n&&(o={x:i.y,y:i.x,width:i.height,height:i.width});var l=s._calcGroupOffsets(t,o);if(l&&0!=l.xoffsets.length){var h;o.width;(a.polar||a.spider)&&(h=s._getPolarAxisCoords(t,o),2*h.r);for(var d=(s._alignValuesWithTicks(t),s._getGroupGradientType(t)),f=[],u=0;u<a.series.length;u++)f[u]=s._getColumnSerieWidthAndOffset(t,u);for(var u=0;u<a.series.length;u++)if(this._isSerieVisible(t,u)){var c=s._getSerieSettings(t,u),g=a.series[u];if(!g.customDraw){var p=e.isFunction(g.colorFunction)?void 0:s._getColors(t,u,NaN,d),x={rect:i,inverse:n,groupIndex:t,seriesIndex:u,symbolType:g.symbolType,symbolSize:g.symbolSize,"fill-opacity":c.opacity,"stroke-opacity":c.opacity,"stroke-width":c.stroke,"stroke-dasharray":c.dashStyle,gradientType:d,colors:p,renderData:l,polarAxisCoords:h,columnsInfo:f,isOHLC:r,items:[],self:s},m=s._getAnimProps(t,u),v=m.enabled&&!s._isToggleRefresh&&l.xoffsets.length<5e3?m.duration:0;s._animCandleStick(x,0);s._enqueueAnimation("series",void 0,void 0,v,function(e,t,i){s._animCandleStick(t,i)},x)}}}}},_animCandleStick:function(t,i){var r=["Open","Low","Close","High"],s=t.columnsInfo[t.seriesIndex].width,a=t.self.seriesGroups[t.groupIndex],n=t.renderData.xoffsets,o=-1,l=Math.abs(n.data[n.last]-n.data[n.first]);l*=i;for(var h=NaN,d=NaN,f=0;f<t.columnsInfo.length;f++){var u=t.columnsInfo[f];(isNaN(h)||h>u.offset)&&(h=u.offset),(isNaN(d)||d<u.offset+u.width)&&(d=u.offset+u.width)}for(var c=Math.abs(d-h),g=0!=a.skipOverlappingPoints,p=n.first;p<=n.last;p++){var x=n.data[p];if(!isNaN(x)&&!(-1!=o&&Math.abs(x-o)<c&&g)){if(Math.abs(n.data[p]-n.data[n.first])>l)break;o=x;var m=t.items[p]=t.items[p]||{};for(var f in r){var v=t.self._getDataValueAsNumber(p,a.series[t.seriesIndex]["dataField"+r[f]],t.groupIndex);if(isNaN(v))break;var _=t.renderData.offsets[t.seriesIndex][p][r[f]];if(isNaN(_))break;m[r[f]]=_}if(x+=t.inverse?t.rect.y:t.rect.x,t.polarAxisCoords){var y=this._toPolarCoord(t.polarAxisCoords,this._plotRect,x,_);x=y.x,_=y.y}x=e.jqx._ptrnd(x);for(var b in r)m[b]=e.jqx._ptrnd(m[b]);var M=t.colors;if(M||(M=t.self._getColors(t.groupIndex,t.seriesIndex,p,t.gradientType)),t.isOHLC){var N="M"+x+","+m.Low+" L"+x+","+m.High+" M"+(x-s/2)+","+m.Open+" L"+x+","+m.Open+" M"+(x+s/2)+","+m.Close+" L"+x+","+m.Close;t.inverse&&(N="M"+m.Low+","+x+" L"+m.High+","+x+" M"+m.Open+","+(x-s/2)+" L"+m.Open+","+x+" M"+m.Close+","+x+" L"+m.Close+","+(x+s/2));var w=m.lineElement;w||(w=this.renderer.path(N,{}),this.renderer.attr(w,{fill:M.fillColor,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:M.lineColor,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]}),m.lineElement=w),1==i&&this._installHandlers(w,"column",t.groupIndex,t.seriesIndex,p)}else{var w=m.lineElement;w||(w=t.inverse?this.renderer.line(m.Low,x,m.High,x):this.renderer.line(x,m.Low,x,m.High),this.renderer.attr(w,{fill:M.fillColor,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:M.lineColor,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]}),m.lineElement=w);var A=m.stickElement;if(x-=s/2,!A){var S=M.fillColor;m.Close<=m.Open&&M.fillColorAlt&&(S=M.fillColorAlt),A=t.inverse?this.renderer.rect(Math.min(m.Open,m.Close),x,Math.abs(m.Close-m.Open),s):this.renderer.rect(x,Math.min(m.Open,m.Close),s,Math.abs(m.Close-m.Open)),this.renderer.attr(A,{fill:S,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:M.lineColor,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]}),m.stickElement=A}1==i&&this._installHandlers(A,"column",t.groupIndex,t.seriesIndex,p)}}}},_renderScatterSeries:function(t,i,r){var s=this.seriesGroups[t];if(s.series&&0!=s.series.length){var a=-1!=s.type.indexOf("bubble"),n="horizontal"==s.orientation,o=i;n&&(o={x:i.y,y:i.x,width:i.height,height:i.width});var l=this._calcGroupOffsets(t,o);if(l&&0!=l.xoffsets.length){var h,d=o.width;(s.polar||s.spider)&&(h=this._getPolarAxisCoords(t,o),d=2*h.r);var f=(this._alignValuesWithTicks(t),this._getGroupGradientType(t));r||(r="to");for(var u=0;u<s.series.length;u++){var c=this._getSerieSettings(t,u),g=s.series[u];if(!g.customDraw){var p=g.dataField,x=e.isFunction(g.colorFunction),m=this._getColors(t,u,NaN,f),v=NaN,_=NaN;if(a)for(var y=l.xoffsets.first;y<=l.xoffsets.last;y++){var b=this._getDataValueAsNumber(y,g.radiusDataField||g.sizeDataField,t);if("number"!=typeof b)throw"Invalid radiusDataField value at ["+y+"]";isNaN(b)||((isNaN(v)||b<v)&&(v=b),(isNaN(_)||b>_)&&(_=b))}var M=g.minRadius||g.minSymbolSize;isNaN(M)&&(M=d/50);var N=g.maxRadius||g.maxSymbolSize;isNaN(N)&&(N=d/25),M>N&&(N=M);var w=g.radius;w=isNaN(w)&&!isNaN(g.symbolSize)?"circle"==g.symbolType?g.symbolSize/2:g.symbolSize:5;for(var A=this._getAnimProps(t,u),S=A.enabled&&!this._isToggleRefresh&&l.xoffsets.length<5e3?A.duration:0,C={groupIndex:t,seriesIndex:u,symbolType:g.symbolType,symbolSize:g.symbolSize,"fill-opacity":c.opacity,"stroke-opacity":c.opacity,"stroke-width":c.stroke,"stroke-width-symbol":c.strokeSymbol,"stroke-dasharray":c.dashStyle,items:[],polarAxisCoords:h},y=l.xoffsets.first;y<=l.xoffsets.last;y++){var b=this._getDataValueAsNumber(y,p,t);if("number"==typeof b){var j=l.xoffsets.data[y],k=l.xoffsets.xvalues[y],q=l.offsets[u][y][r];if(!(q<o.y||q>o.y+o.height||isNaN(j)||isNaN(q))){if(n){var T=j;j=q,q=T+i.y}else j+=i.x;var D=w;if(a){var P=this._getDataValueAsNumber(y,g.radiusDataField||g.sizeDataField,t);if("number"!=typeof P)continue;D=M+(N-M)*(P-v)/Math.max(1,_-v),isNaN(D)&&(D=M)}l.offsets[u][y].radius=D;var O=NaN,I=NaN,F=0,R=this._elementRenderInfo;if(void 0!=k&&R&&R.length>t&&R[t].series.length>u){var L=R[t].series[u][k];if(L&&!isNaN(L.to)){if(O=L.to,I=L.xoffset,F=w,n){var T=I;I=O,O=T+i.y}else I+=i.x;a&&(F=M+(N-M)*(L.valueRadius-v)/Math.max(1,_-v),isNaN(F)&&(F=M))}}x&&(m=this._getColors(t,u,y,f)),C.items.push({from:F,to:D,itemIndex:y,fill:m.fillColor,stroke:m.lineColor,x:j,y:q,xFrom:I,yFrom:O})}}}this._animR(C,0);var G=this;this._enqueueAnimation("series",void 0,void 0,S,function(e,t,i){G._animR(t,i)},C)}}}}},_animR:function(t,i){for(var r=t.items,s=t.symbolType||"circle",a=t.symbolSize,n=0;n<r.length;n++){var o=r[n],l=o.x,h=o.y,d=Math.round((o.to-o.from)*i+o.from);if(isNaN(o.yFrom)||(h=o.yFrom+(h-o.yFrom)*i),isNaN(o.xFrom)||(l=o.xFrom+(l-o.xFrom)*i),t.polarAxisCoords){var f=this._toPolarCoord(t.polarAxisCoords,this._plotRect,l,h);l=f.x,h=f.y}l=e.jqx._ptrnd(l),h=e.jqx._ptrnd(h),d=e.jqx._ptrnd(d);var u=this._getRenderInfo(t.groupIndex,t.seriesIndex,r[n].itemIndex),c=u.element,g=u.labelElement;"circle"==s?(c||(c=this.renderer.circle(l,h,d),this.renderer.attr(c,{fill:o.fill,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:o.stroke,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]})),this._isVML?this.renderer.updateCircle(c,void 0,void 0,d):this.renderer.attr(c,{r:d,cy:h,cx:l})):(c&&this.renderer.removeElement(c),c=this._drawSymbol(s,l,h,o.fill,t["fill-opacity"],o.stroke,t["stroke-opacity"]||t["fill-opacity"],t["stroke-width-symbol"],t["stroke-dasharray"],a||d)),g&&this.renderer.removeElement(g),g=this._showLabel(t.groupIndex,t.seriesIndex,o.itemIndex,{x:l-d,y:h-d,width:2*d,height:2*d}),i>=1&&this._installHandlers(c,"circle",t.groupIndex,t.seriesIndex,o.itemIndex),this._setRenderInfo(t.groupIndex,t.seriesIndex,r[n].itemIndex,{element:c,labelElement:g})}},_showToolTip:function(t,i,r,s,a){var n=this,o=n._getXAxis(r),l=n._getValueAxis(r);if(!n._ttEl||r!=n._ttEl.gidx||s!=n._ttEl.sidx||a!=n._ttEl.iidx){var h=n.seriesGroups[r],d=h.series[s],f=n.enableCrosshairs;n._pointMarker?(t=parseInt(n._pointMarker.x+5),i=parseInt(n._pointMarker.y-5)):f=!1;var u=f&&0==n.showToolTips;t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i);n._ttEl;if(0!=h.showToolTips&&0!=d.showToolTips){var c=n._get([d.toolTipFormatSettings,h.toolTipFormatSettings,l.toolTipFormatSettings,n.toolTipFormatSettings]),g=n._get([d.toolTipFormatFunction,h.toolTipFormatFunction,l.toolTipFormatFunction,n.toolTipFormatFunction]),p=n._getColors(r,s,a),x=n._getDataValue(a,o.dataField,r);void 0!=o.dataField&&""!=o.dataField||(x=a),"date"==o.type&&(x=n._castAsDate(x,(c?c.dateFormat:void 0)||o.dateFormat));var m="";if(e.isFunction(g)){var v={},_=0;for(var y in d)0==y.indexOf("dataField")&&(v[y.substring(9,y.length).toLowerCase()]=n._getDataValue(a,d[y],r),_++);0==_?v=n._getDataValue(a,void 0,r):1==_&&(v=v[""]),m=g(v,a,d,h,x,o)}else{m=n._getFormattedValue(r,s,a,c,g);var b=this._getAxisSettings(o),M=b.toolTipFormatSettings,N=b.toolTipFormatFunction;N||M||"date"!=o.type||(N=this._getDefaultDTFormatFn(o.baseUnit||"day"));var w=n._formatValue(x,M,N,r,s,a);if(n._isPieGroup(r))x=n._getDataValue(a,d.displayText||d.dataField,r),w=n._formatValue(x,M,N,r,s,a),m=w+": "+m;else{var A=o.displayText||o.dataField||"";m=A.length>0?A+": "+w+"<br>"+m:w+"<br>"+m}}if(n._ttEl||(n._ttEl={}),n._ttEl.sidx=s,n._ttEl.gidx=r,n._ttEl.iidx=a,rect=n.renderer.getRect(),f){var S=e.jqx._ptrnd(n._pointMarker.x),C=e.jqx._ptrnd(n._pointMarker.y),j=n.crosshairsColor||n._defaultLineColor;if(h.polar||h.spider){var k=this._getPolarAxisCoords(r,this._plotRect);if(e.jqx._ptdist(S,C,k.x,k.y)>k.r)return;var q=Math.atan2(C-k.y,S-k.x),T=Math.cos(q)*k.r+k.x,D=Math.sin(q)*k.r+k.y;n._ttEl.vLine?n.renderer.attr(n._ttEl.vLine,{x1:k.x,y1:k.y,x2:T,y2:D}):n._ttEl.vLine=n.renderer.line(k.x,k.y,T,D,{stroke:j,"stroke-width":n.crosshairsLineWidth||1,"stroke-dasharray":n.crosshairsDashStyle||""})}else n._ttEl.vLine&&n._ttEl.hLine?(n.renderer.attr(n._ttEl.vLine,{x1:S,x2:S}),n.renderer.attr(n._ttEl.hLine,{y1:C,y2:C})):(n._ttEl.vLine=n.renderer.line(S,n._plotRect.y,S,n._plotRect.y+n._plotRect.height,{stroke:j,"stroke-width":n.crosshairsLineWidth||1,"stroke-dasharray":n.crosshairsDashStyle||""}),n._ttEl.hLine=n.renderer.line(n._plotRect.x,C,n._plotRect.x+n._plotRect.width,C,{stroke:j,"stroke-width":n.crosshairsLineWidth||1,"stroke-dasharray":n.crosshairsDashStyle||""}))}if(!u&&0!=n.showToolTips){var P=d.toolTipClass||h.toolTipClass||this.toThemeProperty("jqx-chart-tooltip-text",null),O=d.toolTipBackground||h.toolTipBackground||"#FFFFFF",I=d.toolTipLineColor||h.toolTipLineColor||p.lineColor,F=this._get([d.toolTipOpacity,h.toolTipOpacity,1]),R=this.getItemCoord(r,s,a),L=0;n._pointMarker&&n._pointMarker.element&&(L=d.symbolSizeSelected,isNaN(L)&&(L=d.symbolSize),(isNaN(L)||L>50||L<0)&&(L=h.symbolSize),(isNaN(L)||L>50||L<0)&&(L=8)),n._createTooltip(R,h,m,{css:P,fill:O,stroke:I,fillOpacity:F,symbolSize:L})}}}},_fitTooltip:function(e,t,i,r,s){var a={},n=2+s/2;if(t.x-i.width-7-n>e.x&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(a.left={arrowLocation:"right",x:t.x-i.width-7-n,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.x+t.width+i.width+7+n<e.x+e.width&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(a.right={arrowLocation:"left",x:t.x+t.width+n,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.y-i.height-n-7>e.y&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(a.top={arrowLocation:"bottom",x:t.x+t.width/2-i.width/2,y:t.y-i.height-n-7,width:i.width,height:i.height+7}),t.y+t.height+i.height+7+n<e.y+e.height&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(a.bottom={arrowLocation:"top",x:t.x+t.width/2-i.width/2,y:t.y+t.height+n,width:i.width,height:i.height+7}),t.width>t.height||(-1!=r.type.indexOf("stackedcolumn")||-1!=r.type.indexOf("stackedwaterfall"))&&"horizontal"!=r.orientation){if(a.left)return a.left;if(a.right)return a.right}else{if(a.top)return a.top;if(a.bottom)return a.bottom}for(var o in a)if(a[o])return a[o];return{arrowLocation:""}},_createTooltip:function(t,i,r,s){var a=this,n=i.type,o=!1,l=a._ttEl.box;if(!l){o=!0,l=a._ttEl.box=document.createElement("div");l.style.position="absolute",l.style.cursor="default",e(h).css({"z-index":1e7,"box-sizing":"content-box"}),e(document.body).append(l);var h=document.createElement("div");h.id="arrowOuterDiv",h.style.width="0px",h.style.height="0px",h.style.position="absolute",e(h).css({"z-index":1e7+1,"box-sizing":"content-box"});var d=document.createElement("div");d.id="arrowInnerDiv",d.style.width="0px",d.style.height="0px",d.style.position="absolute";var f=document.createElement("div");f.id="contentDiv",f.style.position="absolute",e(f).css({"box-sizing":"content-box"}),e(f).addClass("jqx-rc-all jqx-button"),e(f).appendTo(e(l)),e(h).appendTo(e(l)),e(d).appendTo(e(l)),e(d).css({"z-index":1e7+2,"box-sizing":"content-box"})}if(!r||0==r.length)return void e(l).fadeTo(0,0);f=e(l).find("#contentDiv")[0],h=e(l).find("#arrowOuterDiv")[0],d=e(l).find("#arrowInnerDiv")[0],d.style.opacity=h.style.opacity=s.fillOpacity,f.style.backgroundColor=s.fill,f.style.borderColor=s.stroke,f.style.opacity=s.fillOpacity;var u="<span class='"+s.css+"'>"+r+"</span>";e(f).html(u);var c=this._measureHtml(u,"jqx-rc-all jqx-button");if(rect=a._plotRect,!(c.width>rect.width||c.height>rect.height)){var g={width:c.width,height:c.height};arrowLocation="";var p=a._isColumnType(n);if(x=Math.max(t.x,rect.x),y=Math.max(t.y,rect.y),"dataPoint"==a.toolTipAlignment){if(-1!=n.indexOf("pie")||-1!=n.indexOf("donut")){var m=(t.fromAngle+t.toAngle)/2;m*=Math.PI/180;var v=!isNaN(t.innerRadius)&&t.innerRadius>0?(t.innerRadius+t.outerRadius)/2:.75*t.outerRadius;x=t.x=t.center.x+Math.cos(m)*v,y=t.y=t.center.y-Math.sin(m)*v,t.width=t.height=1}else p&&(i.polar||i.spider)&&(t.width=t.height=1);var _=this._fitTooltip(this._plotRect,t,g,i,s.symbolSize);""!=_.arrowLocation&&(arrowLocation=_.arrowLocation,x=_.x,y=_.y,g.width=_.width,g.height=_.height)}else arrowLocation="";"top"==arrowLocation||"bottom"==arrowLocation?(g.height+=7,x-=3.5,"bottom"==arrowLocation&&(y-=7)):"left"!=arrowLocation&&"right"!=arrowLocation||(g.width+=7,y-=3.5,"right"==arrowLocation&&(x-=7)),x+g.width>rect.x+rect.width&&(arrowLocation="",x=rect.x+rect.width-g.width),y+g.height>rect.y+rect.height&&(arrowLocation="",y=rect.y+rect.height-g.height);var b={x:0,y:0};e(f).css({width:c.width,height:c.height,left:0,top:0}),h.style["margin-top"]=h.style["margin-left"]=0,d.style["margin-top"]=d.style["margin-left"]=0,f.style["margin-top"]=f.style["margin-left"]=0;var M="7px solid",N="7px solid transparent";switch(arrowLocation){case"left":b={x:0,y:(c.height-7)/2},contentPostion={x:7,y:0},f.style["margin-left"]="7px",h.style["margin-left"]="0px",h.style["margin-top"]=b.y+"px",h.style["border-left"]="",h.style["border-right"]=M+" "+s.stroke,h.style["border-top"]=N,h.style["border-bottom"]=N,d.style["margin-left"]="1px",d.style["margin-top"]=b.y+"px",d.style["border-left"]="",d.style["border-right"]=M+" "+s.fill,d.style["border-top"]=N,d.style["border-bottom"]=N;break;case"right":b={x:g.width-7,y:(c.height-7)/2},contentPostion={x:0,y:0},h.style["margin-left"]=b.x+"px",h.style["margin-top"]=b.y+"px",h.style["border-left"]=M+" "+s.stroke,h.style["border-right"]="",h.style["border-top"]=N,h.style["border-bottom"]=N,d.style["margin-left"]=b.x-1+"px",d.style["margin-top"]=b.y+"px",d.style["border-left"]=M+" "+s.fill,d.style["border-right"]="",d.style["border-top"]=N,d.style["border-bottom"]=N;break;case"top":b={x:g.width/2-3.5,y:0},contentPostion={x:0,y:7},f.style["margin-top"]=contentPostion.y+"px",h.style["margin-left"]=b.x+"px",h.style["border-top"]="",h.style["border-bottom"]=M+" "+s.stroke,h.style["border-left"]=N,h.style["border-right"]=N,d.style["margin-left"]=b.x+"px",d.style["margin-top"]="1px",d.style["border-top"]="",d.style["border-bottom"]=M+" "+s.fill,d.style["border-left"]=N,d.style["border-right"]=N;break;case"bottom":b={x:g.width/2-3.5,y:g.height-7},contentPostion={x:0,y:0},h.style["margin-left"]=b.x+"px",h.style["margin-top"]=b.y+"px",h.style["border-top"]=M+" "+s.stroke,h.style["border-bottom"]="",h.style["border-left"]=N,h.style["border-right"]=N,d.style["margin-left"]=b.x+"px",d.style["margin-top"]=b.y-1+"px",d.style["border-top"]=M+" "+s.fill,d.style["border-bottom"]="",d.style["border-left"]=N,d.style["border-right"]=N}""==arrowLocation?(e(h).hide(),e(d).hide()):(e(h).show(),e(d).show()),e(l).css({width:g.width+"px",height:g.height+"px"});var w=a.host.coord();o&&(e(l).fadeOut(0,0),l.style.left=x+w.left+"px",l.style.top=y+w.top+"px"),e(l).clearQueue(),e(l).animate({left:x+w.left,top:y+w.top,opacity:1},a.toolTipMoveDuration,"easeInOutCirc"),e(l).fadeTo(400,1)}},
_measureHtml:function(t,i){var r=this._measureDiv;r||(this._measureDiv=r=document.createElement("div"),r.style.position="absolute",r.style.cursor="default",r.style.overflow="hidden",r.style.display="none",e(r).addClass(i),this.host.append(r)),e(r).html(t);var s={width:e(r).width()+2,height:e(r).height()+2};return e.jqx.browser&&e.jqx.browser.mozilla&&(s.height+=3),s},_hideToolTip:function(t){this._ttEl&&(this._ttEl.box&&(0==t?e(this._ttEl.box).hide():e(this._ttEl.box).fadeOut()),this._hideCrosshairs(),this._ttEl.gidx=void 0)},_hideCrosshairs:function(){this._ttEl&&(this._ttEl.vLine&&(this.renderer.removeElement(this._ttEl.vLine),this._ttEl.vLine=void 0),this._ttEl.hLine&&(this.renderer.removeElement(this._ttEl.hLine),this._ttEl.hLine=void 0))},_get:function(t){return e.jqx.getByPriority(t)},_getAxisSettings:function(e){if(!e)return{};var t=this,i=e.gridLines||{},r={visible:this._get([i.visible,e.showGridLines,!0]),color:t._get([i.color,e.gridLinesColor,t._defaultLineColor]),unitInterval:t._get([i.unitInterval,i.interval,e.gridLinesInterval]),step:t._get([i.step,e.gridLinesStep]),dashStyle:t._get([i.dashStyle,e.gridLinesDashStyle]),width:t._get([i.lineWidth,1]),offsets:[],alternatingBackgroundColor:e.alternatingBackgroundColor,alternatingBackgroundColor2:e.alternatingBackgroundColor2,alternatingBackgroundOpacity:e.alternatingBackgroundOpacity},s=e.tickMarks||{},a={visible:this._get([s.visible,e.showTickMarks,!0]),color:t._get([s.color,e.tickMarksColor,t._defaultLineColor]),unitInterval:t._get([s.unitInterval,s.interval,e.tickMarksInterval]),step:t._get([s.step,e.tickMarksStep]),dashStyle:t._get([s.dashStyle,e.tickMarksDashStyle]),width:t._get([s.lineWidth,1]),size:t._get([s.size,4]),offsets:[]},n=e.title||{},o={visible:t._get([n.visible,!0]),text:t._get([e.description,n.text]),style:t._get([e.descriptionClass,n.class,t.toThemeProperty("jqx-chart-axis-description",null)]),halign:t._get([e.horizontalDescriptionAlignment,n.horizontalAlignment,"center"]),valign:t._get([e.verticalDescriptionAlignment,n.verticalAlignment,"center"]),angle:0,rotationPoint:t._get([n.rotationPoint,"centercenter"]),offset:t._get([n.offset,{x:0,y:0}])},l=e.line||{},h={visible:t._get([l.visible,!0]),color:t._get([l.color,r.color,t._defaultLineColor]),dashStyle:t._get([l.dashStyle,r.dashStyle,""]),width:t._get([l.lineWidth,1]),angle:t._get([l.angle,NaN])},d=e.padding||{};d={left:d.left||0,right:d.right||0,top:d.top||0,bottom:d.bottom||0};var f=this._getAxisLabelsSettings(e);return{visible:this._get([e.visible,e.showValueAxis,e.showXAxis,e.showCategoryAxis,!0]),customDraw:this._get([e.customDraw,!1]),gridLines:r,tickMarks:a,line:h,title:o,labels:f,padding:d,toolTipFormatFunction:this._get([e.toolTipFormatFunction,e.formatFunction,f.formatFunction]),toolTipFormatSettings:this._get([e.toolTipFormatSettings,e.formatSettings,f.formatSettings])}},_getAxisLabelsSettings:function(e){var t=this,i=e.labels||{};return{visible:t._get([e.showLabels,i.visible,!0]),unitInterval:t._get([i.unitInterval,i.interval,e.labelsInterval]),step:t._get([i.step,e.labelsStep]),angle:t._get([e.textRotationAngle,i.angle,0]),style:t._get([e.class,i.class,t.toThemeProperty("jqx-chart-axis-text",null)]),halign:t._get([e.horizontalTextAlignment,i.horizontalAlignment,"center"]),valign:t._get([e.verticalTextAlignment,i.verticalAlignment,"center"]),textRotationPoint:t._get([e.textRotationPoint,i.rotationPoint,"auto"]),textOffset:t._get([e.textOffset,i.offset,{x:0,y:0}]),autoRotate:t._get([e.labelsAutoRotate,i.autoRotate,!1]),formatSettings:t._get([e.formatSettings,i.formatSettings,void 0]),formatFunction:t._get([e.formatFunction,i.formatFunction,void 0])}},_getLabelsSettings:function(t,i,r,s){for(var a=this.seriesGroups[t],n=a.series[i],o=isNaN(r)?void 0:this._getDataValue(r,n.dataField,t),l=s||["Visible","Offset","Angle","HorizontalAlignment","VerticalAlignment","Class","BackgroundColor","BorderColor","BorderOpacity","Padding","Opacity","BackgroundOpacity","LinesAngles","LinesEnabled","AutoRotate","Radius"],h={},d=0;d<l.length;d++){var f=l[d],u="labels"+f,c="label"+f,g=f.substring(0,1).toLowerCase()+f.substring(1),p=void 0;a.labels&&"object"==typeof a.labels&&(p=a.labels[g]),n.labels&&"object"==typeof n.labels&&void 0!=n.labels[g]&&(p=n.labels[g]),p=this._get([n[u],n[c],p,a[u],a[c]]),e.isFunction(p)?h[g]=p(o,r,n,a):h[g]=p}h.class=h.class||this.toThemeProperty("jqx-chart-label-text",null),h.visible=this._get([h.visible,n.showLabels,a.showLabels,void 0!=n.labels||void 0,void 0!=a.labels||void 0]);var x=h.padding||1;return h.padding={left:this._get([x.left,isNaN(x)?1:x]),right:this._get([x.right,isNaN(x)?1:x]),top:this._get([x.top,isNaN(x)?1:x]),bottom:this._get([x.bottom,isNaN(x)?1:x])},h},_showLabel:function(e,t,i,r,s,a,n,o,l,h,d){var f=this.seriesGroups[e],u=(f.series[t],{width:0,height:0});if(!isNaN(i)){var c=this._getLabelsSettings(e,t,i);if(!c.visible)return n?u:void 0;if(r.width<0||r.height<0)return n?u:void 0;var g=c.angle;isNaN(h)||(g=h);var p=c.offset||{},x={x:p.x,y:p.y};isNaN(x.x)&&(x.x=0),isNaN(x.y)&&(x.y=0),s=s||c.horizontalAlignment||"center",a=a||c.verticalAlignment||"center";var m=this._getFormattedValue(e,t,i,void 0,void 0,!0),v=r.width,_=r.height;if(1==o&&"center"!=s&&(s="right"==s?"left":"right"),1==l&&"center"!=a&&"middle"!=a&&(a="top"==a?"bottom":"top",x.y*=-1),u=this.renderer.measureText(m,g,{class:c.class}),n)return u;var y=0,b=0;v>0&&(""==s||"center"==s?y+=(v-u.width)/2:"right"==s&&(y+=v-u.width)),_>0&&(""==a||"center"==a?b+=(_-u.height)/2:"bottom"==a&&(b+=_-u.height)),y+=r.x+x.x,b+=r.y+x.y;var M=this._plotRect;y<=M.x&&(y=M.x+2),b<=M.y&&(b=M.y+2);var N={width:Math.max(u.width,1),height:Math.max(u.height,1)};b+N.height>=M.y+M.height&&(b=M.y+M.height-N.height-2),y+N.width>=M.x+M.width&&(y=M.x+M.width-N.width-2);var w,A=c.backgroundColor,S=c.borderColor,C=c.padding;if(A||S){w=this.renderer.beginGroup();var r=this.renderer.rect(y-C.left,b-C.top,u.width+C.left+C.right,u.height+C.bottom+C.bottom,{fill:A||"transparent","fill-opacity":c.backgroundOpacity||1,stroke:S||"transparent","stroke-opacity":c.borderOpacity,"stroke-width":1})}var j=this.renderer.text(m,y,b,u.width,u.height,g,{class:c.class,opacity:c.opacity||1},!1,"center","center");return d&&(d.x=y-C.left,d.y=b-C.top,d.width=u.width+C.left+C.right,d.height=u.height+C.bottom+C.bottom),this._isVML&&(this.renderer.removeElement(j),this.renderer.getContainer()[0].appendChild(j)),w&&this.renderer.endGroup(),w||j}},_getAnimProps:function(e,t){var i=this.seriesGroups[e],r=isNaN(t)?void 0:i.series[t],s=1==this.enableAnimations;i.enableAnimations&&(s=1==i.enableAnimations),r&&r.enableAnimations&&(s=1==r.enableAnimations);var a=this.animationDuration;isNaN(a)&&(a=1e3);var n=i.animationDuration;if(isNaN(n)||(a=n),r){var o=r.animationDuration;isNaN(o)||(a=o)}return a>5e3&&(a=1e3),{enabled:s,duration:a}},_isColorTransition:function(e,t,i,r){if(r-1<i.xoffsets.first)return!1;var s=this._getColors(e,t,r,this._getGroupGradientType(e)),a=this._getColors(e,t,r-1,this._getGroupGradientType(e));return s.fillColor!=a.fillColor},_renderLineSeries:function(t,i){var r=this.seriesGroups[t];if(r.series&&0!=r.series.length){var s=-1!=r.type.indexOf("area"),a=-1!=r.type.indexOf("stacked"),n=a&&-1!=r.type.indexOf("100"),o=-1!=r.type.indexOf("spline"),l=-1!=r.type.indexOf("step"),h=-1!=r.type.indexOf("range"),d=1==r.polar||1==r.spider;if(d&&(l=!1),!l||!o){var f=this._getDataLen(t),u=(i.width,"horizontal"==r.orientation),c=1==this._getXAxis(t).flip,g=i;u&&(g={x:i.y,y:i.x,width:i.height,height:i.width});var p=this._calcGroupOffsets(t,g);if(p&&0!=p.xoffsets.length){this._linesRenderInfo||(this._linesRenderInfo={}),this._linesRenderInfo[t]={};for(var x=r.series.length-1;x>=0;x--){var m=this._getSerieSettings(t,x),v={groupIndex:t,rect:g,serieIndex:x,swapXY:u,isArea:s,isSpline:o,isRange:h,isPolar:d,settings:m,segments:[],pointsLength:0};if(this._isSerieVisible(t,x)){var _=r.series[x];if(!_.customDraw){var y,b=e.isFunction(_.colorFunction),M=p.xoffsets.first,N=M,w=this._getColors(t,x,NaN,this._getGroupGradientType(t));do{var A=[],S=[],C=[],j=0,k=0,q=NaN,T=NaN,D=NaN;if(!(p.xoffsets.length<1)){var P=this._getAnimProps(t,x),O=P.enabled&&!this._isToggleRefresh&&p.xoffsets.length<1e4&&1!=this._isVML?P.duration:0,I=M;y=!1;for(var F=(this._getColors(t,x,M,this._getGroupGradientType(t)),void 0),R=M;R<=p.xoffsets.last;R++){M=R;var L=p.xoffsets.data[R],G=p.xoffsets.xvalues[R];if(!isNaN(L)&&(L=Math.max(L,1),j=L,k=p.offsets[x][R].to,!(F&&this.enableSampling&&e.jqx._ptdist(F.x,F.y,j,k)<1))){F={x:j,y:k};var E=p.offsets[x][R].from;if(isNaN(k)||isNaN(E)){if("connect"==_.emptyPointsDisplay)continue;if("zero"!=_.emptyPointsDisplay){y=!0;break}isNaN(k)&&(k=p.baseOffset),isNaN(E)&&(E=p.baseOffset)}if(b&&this._isColorTransition(t,x,p,M)&&A.length>1){M--;break}var V=this._elementRenderInfo;if(V&&V.length>t&&V[t].series.length>x){var H=V[t].series[x][G],D=e.jqx._ptrnd(H?H.to:void 0),B=e.jqx._ptrnd(g.x+(H?H.xoffset:void 0));C.push(u?{y:B,x:D,index:R}:{x:B,y:D,index:R})}N=R,m.stroke<2&&(k-g.y<=1&&(k=g.y+1),E-g.y<=1&&(E=g.y+1),g.y+g.height-k<=1&&(k=g.y+g.height-1),g.y+g.height-E<=1&&(E=g.y+g.height-1)),!s&&n&&(k<=g.y&&(k=g.y+1),k>=g.y+g.height&&(k=g.y+g.height-1),E<=g.y&&(E=g.y+1),E>=g.y+g.height&&(E=g.y+g.height-1)),L=Math.max(L,1),j=L+g.x,1==r.skipOverlappingPoints&&!isNaN(q)&&Math.abs(q-j)<=1||(!l||isNaN(q)||isNaN(T)||T!=k&&A.push(u?{y:j,x:e.jqx._ptrnd(T)}:{x:j,y:e.jqx._ptrnd(T)}),A.push(u?{y:j,x:e.jqx._ptrnd(k),index:R}:{x:j,y:e.jqx._ptrnd(k),index:R}),S.push(u?{y:j,x:e.jqx._ptrnd(E),index:R}:{x:j,y:e.jqx._ptrnd(E),index:R}),q=j,T=k,isNaN(D)&&(D=k))}}if(0!=A.length){var z=A[A.length-1].index;b&&(w=this._getColors(t,x,z,this._getGroupGradientType(t)));var W=g.x+p.xoffsets.data[I],X=g.x+p.xoffsets.data[N];if(s&&1==r.alignEndPointsWithIntervals){if(W>g.x&&(W=g.x),X<g.x+g.width&&(X=g.x+g.width),c){var U=W;W=X,X=U}}X=e.jqx._ptrnd(X),W=e.jqx._ptrnd(W);var Y=p.baseOffset;D=e.jqx._ptrnd(D);var Z=e.jqx._ptrnd(k)||Y;h&&(A=A.concat(S.reverse())),v.pointsLength+=A.length;var J={lastItemIndex:z,colorSettings:w,pointsArray:A,pointsStart:C,left:W,right:X,pyStart:D,pyEnd:Z,yBase:Y,labelElements:[],symbolElements:[]};v.segments.push(J)}else M++}}while(M<p.xoffsets.length-1||y);this._linesRenderInfo[t][x]=v}}else this._linesRenderInfo[t][x]=v}var Q=this._linesRenderInfo[t],$=[];for(var R in Q)$.push(Q[R]);$=$.sort(function(e,t){return e.serieIndex-t.serieIndex}),s&&a&&$.reverse();for(var R=0;R<$.length;R++){var v=$[R];this._animateLine(v,0==O?1:0);var K=this;this._enqueueAnimation("series",void 0,void 0,O,function(e,t,i){K._animateLine(t,i)},v)}}}}},_animateLine:function(e,t){var i=e.settings,r=e.groupIndex,s=e.serieIndex,a=this.seriesGroups[r],n=a.series[s],o=this._getSymbol(r,s),l=this._getLabelsSettings(r,s,NaN,["Visible"]).visible,h=!0;e.isPolar&&(isNaN(a.endAngle)||360==Math.round(Math.abs((isNaN(a.startAngle)?0:a.startAngle)-a.endAngle))||(h=!1));for(var d=0,f=0;f<e.segments.length;f++){var u=e.segments[f],c=this._calculateLine(r,e.pointsLength,d,u.pointsArray,u.pointsStart,u.yBase,t,e.isArea,e.swapXY);if(d+=u.pointsArray.length,""!=c){var g=c.split(" "),p=(g.length,c);p=""!=p?this._buildLineCmd(c,e.isRange,u.left,u.right,u.pyStart,u.pyEnd,u.yBase,e.isArea,e.isPolar,h,e.isSpline,e.swapXY):"M 0 0";var x=u.colorSettings;if(u.pathElement?this.renderer.attr(u.pathElement,{d:p}):(u.pathElement=this.renderer.path(p,{"stroke-width":i.stroke,stroke:x.lineColor,"stroke-opacity":i.opacity,"fill-opacity":i.opacity,"stroke-dasharray":i.dashStyle,fill:e.isArea?x.fillColor:"none"}),this._installHandlers(u.pathElement,"path",r,s,u.lastItemIndex)),u.labelElements){for(var m=0;m<u.labelElements.length;m++)this.renderer.removeElement(u.labelElements[m]);u.labelElements=[]}if(u.symbolElements){for(var m=0;m<u.symbolElements.length;m++)this.renderer.removeElement(u.symbolElements[m]);u.symbolElements=[]}if(u.pointsArray.length==g.length&&("none"!=o||l))for(var v=n.symbolSize,_=this._plotRect,m=0;m<g.length;m++){var y=g[m].split(",");if(y={x:parseFloat(y[0]),y:parseFloat(y[1])},!(y.x<_.x||y.x>_.x+_.width||y.y<_.y||y.y>_.y+_.height)){if("none"!=o){var b=this._getColors(r,s,u.pointsArray[m].index,this._getGroupGradientType(r)),M=this._drawSymbol(o,y.x,y.y,b.fillColorSymbol,i.opacity,b.lineColorSymbol,i.opacity,i.strokeSymbol,void 0,v);u.symbolElements.push(M)}if(l){var N=(m>0?g[m-1]:g[m]).split(",");N={x:parseFloat(N[0]),y:parseFloat(N[1])};var w=(m<g.length-1?g[m+1]:g[m]).split(",");if(w={x:parseFloat(w[0]),y:parseFloat(w[1])},y=this._adjustLineLabelPosition(r,s,u.pointsArray[m].index,y,N,w)){var A=this._showLabel(r,s,u.pointsArray[m].index,{x:y.x,y:y.y,width:0,height:0});u.labelElements.push(A)}}}}if(1==t&&"none"!=o)for(var m=0;m<u.symbolElements.length;m++)isNaN(u.pointsArray[m].index)||this._installHandlers(u.symbolElements[m],"symbol",r,s,u.pointsArray[m].index)}}},_adjustLineLabelPosition:function(e,t,i,r,s,a){var n=this._showLabel(e,t,i,{width:0,height:0},"","",!0);if(n){var o={x:r.x-n.width/2,y:0};return o.y=r.y-1.5*n.height,o}},_calculateLine:function(t,i,r,s,a,n,o,l,h){var d,f=this.seriesGroups[t];1!=f.polar&&1!=f.spider||(d=this._getPolarAxisCoords(t,this._plotRect));var u="",c=s.length;if(!l&&0==a.length){c=i*o-r}for(var g=0;g<c+1&&g<s.length;g++){g>0&&(u+=" ");var p=s[g].y,x=s[g].x,m=l?n:p,v=x;if(a&&a.length>g&&(m=a[g].y,v=a[g].x,(isNaN(m)||isNaN(v))&&(m=p,v=x)),v,c<=s.length&&g>0&&g==c&&(v=s[g-1].x,m=s[g-1].y),h?(x=e.jqx._ptrnd((x-m)*(l?o:1)+m),p=e.jqx._ptrnd(p)):(x=e.jqx._ptrnd((x-v)*o+v),p=e.jqx._ptrnd((p-m)*o+m)),d){var _=this._toPolarCoord(d,this._plotRect,x,p);x=_.x,p=_.y}u+=x+","+p}return u},_buildLineCmd:function(e,t,i,r,s,a,n,o,l,h,d,f){var u=e,c=f?n+","+i:i+","+n,g=f?n+","+r:r+","+n;!o||l||t||(u=c+" "+e+" "+g),d&&(u=this._getBezierPoints(u));var p=u.split(" ");if(0==p.length)return"";if(1==p.length){var x=p[0].split(",");return"M "+p[0]+" L"+(parseFloat(x[0])+1)+","+(parseFloat(x[1])+1)}var m=p[0].replace("M","");return o&&!l?u=t?"M "+m+" L "+m+(d?"":" L "+m+" ")+u:"M "+c+" L "+m+" "+u:d||(u="M "+m+" L "+m+" "+u),(l&&h||t)&&(u+=" Z"),u},_getSerieSettings:function(e,t){var i=this.seriesGroups[e],r=-1!=i.type.indexOf("area"),s=-1!=i.type.indexOf("line"),a=i.series[t],n=a.dashStyle||i.dashStyle||"",o=a.opacity||i.opacity;(isNaN(o)||o<0||o>1)&&(o=1);var l=a.lineWidth;isNaN(l)&&"auto"!=l&&(l=i.lineWidth),("auto"==l||isNaN(l)||l<0||l>15)&&(l=r?2:s?3:1);var h=a.lineWidthSymbol;return isNaN(h)&&(h=1),{stroke:l,strokeSymbol:h,opacity:o,dashStyle:n}},_getColors:function(t,i,r,s,a){var n=this.seriesGroups[t],o=n.series[i],l=this._get([o.useGradientColors,n.useGradientColors,n.useGradient,!0]),h=this._getSeriesColors(t,i,r);h.fillColor||(h.fillColor=_,h.fillColorSelected=e.jqx.adjustColor(_,1.1),h.fillColorAlt=e.jqx.adjustColor(_,4),h.fillColorAltSelected=e.jqx.adjustColor(_,3),h.lineColor=h.symbolColor=e.jqx.adjustColor(_,.9),h.lineColorSelected=h.symbolColorSelected=e.jqx.adjustColor(_,.9));var d=[[0,1.4],[100,1]],f=[[0,1],[25,1.1],[50,1.4],[100,1]],u=[[0,1.3],[90,1.2],[100,1]],c=NaN;if(isNaN(a)||(c=2==a?d:f),l){var g={};for(var p in h)g[p]=h[p];if(h=g,"verticalLinearGradient"==s||"horizontalLinearGradient"==s){var x="verticalLinearGradient"==s?c||d:c||f,m=["fillColor","fillColorSelected","fillColorAlt","fillColorAltSelected"];for(var v in m){var _=h[m[v]];_&&(h[m[v]]=this.renderer._toLinearGradient(_,"verticalLinearGradient"==s,x))}}else if("radialGradient"==s){var y,c=d;("pie"==n.type||"donut"==n.type||n.polar)&&void 0!=r&&this._renderData[t]&&this._renderData[t].offsets[i]&&(y=this._renderData[t].offsets[i][r],c=u),h.fillColor=this.renderer._toRadialGradient(h.fillColor,c,y),h.fillColorSelected=this.renderer._toRadialGradient(h.fillColorSelected,c,y)}}return h},_installHandlers:function(e,t,i,r,s){if(!this.enableEvents)return!1;var a=this,n=this.seriesGroups[i],o=this.seriesGroups[i].series[r],l=-1!=n.type.indexOf("line")||-1!=n.type.indexOf("area");l||0==n.enableSelection||0==o.enableSelection||(this.renderer.addHandler(e,"mousemove",function(e){var t=a._selected;if(!t||!t.isLineType||"click"!=t.linesUnselectMode||t.group==i&&t.series==r){var n=e.pageX||e.clientX||e.screenX,o=e.pageY||e.clientY||e.screenY,l=a.host.offset();n-=l.left,o-=l.top,a._mouseX==n&&a._mouseY==o||a._ttEl&&a._ttEl.gidx==i&&a._ttEl.sidx==r&&a._ttEl.iidx==s||a._startTooltipTimer(i,r,s)}}),this.renderer.addHandler(e,"mouseout",function(e){return})),0!=n.enableSelection&&0!=o.enableSelection&&this.renderer.addHandler(e,"mouseover",function(n){var o=a._selected;o&&o.isLineType&&"click"==o.linesUnselectMode&&(o.group!=i||o.series!=r)||a._select(e,t,i,r,s,s)}),this.renderer.addHandler(e,"click",function(e){clearTimeout(a._hostClickTimer),a._lastClickTs=(new Date).valueOf(),l&&"symbol"!=t&&"pointMarker"!=t||(a._isColumnType(n.type)&&a._unselect(),isNaN(s)||(e.stopImmediatePropagation(),a._raiseItemEvent("click",n,o,s)))})},_getHorizontalOffset:function(t,i,r,s){var a=this._plotRect;if(0==this._getDataLen(t))return{index:void 0,value:r};var n=this._calcGroupOffsets(t,this._plotRect);if(0==n.xoffsets.length)return{index:void 0,value:void 0};var o,l=r,h=s,d=this.seriesGroups[t];(d.polar||d.spider)&&(o=this._getPolarAxisCoords(t,a));for(var f,u,c,g,p=(this._getXAxis(t).flip,n.xoffsets.first);p<=n.xoffsets.last;p++){var x=n.xoffsets.data[p],m=n.offsets[i][p].to,v=0;if(o){var _=this._toPolarCoord(o,a,x+a.x,m);x=_.x,m=_.y,v=e.jqx._ptdist(l,h,x,m)}else if("horizontal"==d.orientation){x+=a.y;var y=m;m=x,x=y,v=e.jqx._ptdist(l,h,x,m)}else x+=a.x,v=Math.abs(l-x);(isNaN(f)||f>v)&&(f=v,u=p,c=x,g=m)}return{index:u,value:n.xoffsets.data[u],polarAxisCoords:o,x:c,y:g}},onmousemove:function(t,i){if((this._mouseX!=t||this._mouseY!=i)&&(this._mouseX=t,this._mouseY=i,this._selected)){var r=this._selected.group,s=this._selected.series,a=this.seriesGroups[r],n=a.series[s],o=this._plotRect;if(this.renderer&&(o=this.renderer.getRect(),o.x+=5,o.y+=5,o.width-=10,o.height-=10),t<o.x||t>o.x+o.width||i<o.y||i>o.y+o.height)return this._hideToolTip(),void this._unselect();var l="horizontal"==a.orientation,o=this._plotRect;if(-1!=a.type.indexOf("line")||-1!=a.type.indexOf("area")){var h=this._getHorizontalOffset(r,this._selected.series,t,i),d=h.index;if(void 0==d)return;if(this._selected.item!=d){for(var f=this._linesRenderInfo[r][s].segments,u=0;d>f[u].lastItemIndex;)if(++u>=f.length)return;var c=f[u].pathElement,g=f[u].lastItemIndex;this._unselect(!1),this._select(c,"path",r,s,d,g)}var p=this._getSymbol(this._selected.group,this._selected.series);"none"==p&&(p="circle");var x=this._calcGroupOffsets(r,o),m=x.offsets[this._selected.series][d].to,v=m;-1!=a.type.indexOf("range")&&(v=x.offsets[this._selected.series][d].from);var _=l?t:i;if(i=!isNaN(v)&&Math.abs(_-v)<Math.abs(_-m)?v:m,isNaN(i))return;if(t=h.value,l){var y=t;t=i,i=y+o.y}else t+=o.x;if(h.polarAxisCoords&&(t=h.x,i=h.y),i=e.jqx._ptrnd(i),t=e.jqx._ptrnd(t),this._pointMarker&&this._pointMarker.element&&(this.renderer.removeElement(this._pointMarker.element),this._pointMarker.element=void 0),isNaN(t)||isNaN(i))return;var b=this._getSeriesColors(r,s,d),M=this._getSerieSettings(r,s),N=n.symbolSizeSelected;isNaN(N)&&(N=n.symbolSize),(isNaN(N)||N>50||N<0)&&(N=a.symbolSize),(isNaN(N)||N>50||N<0)&&(N=8),(this.showToolTips||this.enableCrosshairs)&&(this._pointMarker={type:p,x:t,y:i,gidx:r,sidx:s,iidx:d},this._pointMarker.element=this._drawSymbol(p,t,i,b.fillColorSymbolSelected,M.opacity,b.lineColorSymbolSelected,M.opacity,M.strokeSymbol,M.dashStyle,N),this._installHandlers(this._pointMarker.element,"pointMarker",r,s,d)),this._startTooltipTimer(r,this._selected.series,d)}}},_drawSymbol:function(e,t,i,r,s,a,n,o,l,h){var d,f=h||6,u=f/2;switch(e){case"none":return;case"circle":d=this.renderer.circle(t,i,f/2);break;case"square":f-=1,u=f/2,d=this.renderer.rect(t-u,i-u,f,f);break;case"diamond":var c="M "+(t-u)+","+i+" L"+t+","+(i-u)+" L"+(t+u)+","+i+" L"+t+","+(i+u)+" Z";d=this.renderer.path(c);break;case"triangle_up":case"triangle":var c="M "+(t-u)+","+(i+u)+" L "+(t+u)+","+(i+u)+" L "+t+","+(i-u)+" Z";d=this.renderer.path(c);break;case"triangle_down":var c="M "+(t-u)+","+(i-u)+" L "+t+","+(i+u)+" L "+(t+u)+","+(i-u)+" Z";d=this.renderer.path(c);break;case"triangle_left":var c="M "+(t-u)+","+i+" L "+(t+u)+","+(i+u)+" L "+(t+u)+","+(i-u)+" Z";d=this.renderer.path(c);break;case"triangle_right":var c="M "+(t-u)+","+(i-u)+" L "+(t-u)+","+(i+u)+" L "+(t+u)+","+i+" Z";d=this.renderer.path(c);break;default:d=this.renderer.circle(t,i,f)}return this.renderer.attr(d,{fill:r,"fill-opacity":s,stroke:a,"stroke-width":o,"stroke-opacity":n,"stroke-dasharray":l||""}),"circle"!=e&&(this.renderer.attr(d,{r:f/2}),"square"!=e&&this.renderer.attr(d,{x:t,y:i})),d},_getSymbol:function(e,t){var i,r=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"],s=this.seriesGroups[e],a=s.series[t];return void 0!=a.symbolType&&(i=a.symbolType),void 0==i&&(i=s.symbolType),"default"==i?r[t%r.length]:void 0!=i?i:"none"},_startTooltipTimer:function(e,t,i,r,s,a,n){this._cancelTooltipTimer();var o=this,l=(o.seriesGroups[e],this.toolTipShowDelay||this.toolTipDelay);(isNaN(l)||l>1e4||l<0)&&(l=500),(this._ttEl||1==this.enableCrosshairs&&0==this.showToolTips)&&(l=0),isNaN(a)||(l=a),clearTimeout(this._tttimerHide),isNaN(r)&&(r=o._mouseX),isNaN(s)&&(s=o._mouseY-3),0==l&&o._showToolTip(r,s,e,t,i),this._tttimer=setTimeout(function(){0!=l&&o._showToolTip(r,s,e,t,i);var a=o.toolTipHideDelay;isNaN(n)||(a=n),isNaN(a)&&(a=4e3),o._tttimerHide=setTimeout(function(){o._hideToolTip(),o._unselect()},a)},l)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(e){var t=this.seriesGroups[e];return-1!=t.type.indexOf("area")?"horizontal"==t.orientation?"horizontalLinearGradient":"verticalLinearGradient":this._isColumnType(t.type)||-1!=t.type.indexOf("candle")?t.polar?"radialGradient":"horizontal"==t.orientation?"verticalLinearGradient":"horizontalLinearGradient":-1!=t.type.indexOf("scatter")||-1!=t.type.indexOf("bubble")||this._isPieGroup(e)?"radialGradient":void 0},_select:function(e,t,i,r,s,a){if(this._selected){if(this._selected.item==s&&this._selected.series==r&&this._selected.group==i)return;this._unselect()}var n=this.seriesGroups[i],o=n.series[r];if(0!=n.enableSelection&&0!=o.enableSelection){var l=-1!=n.type.indexOf("line")&&-1==n.type.indexOf("area");this._selected={element:e,type:t,group:i,series:r,item:s,iidxBase:a,isLineType:l,linesUnselectMode:o.linesUnselectMode||n.linesUnselectMode};var h=this._getColors(i,r,a||s,this._getGroupGradientType(i)),d=h.fillColorSelected;l&&(d="none");var f=this._getSerieSettings(i,r),u="symbol"==t?h.lineColorSymbolSelected:h.lineColorSelected;d="symbol"==t?h.fillColorSymbolSelected:d;var c="symbol"==t?1:f.stroke;this.renderer.getAttr(e,"fill")==h.fillColorAlt&&(d=h.fillColorAltSelected),this.renderer.attr(e,{stroke:u,fill:d,"stroke-width":c}),-1==n.type.indexOf("pie")&&-1==n.type.indexOf("donut")||this._applyPieSelect(),this._raiseItemEvent("mouseover",n,o,s)}},_applyPieSelect:function(){var e=this;e._createAnimationGroup("animPieSlice");var t=this._selected;if(t){var i=this.getItemCoord(t.group,t.series,t.item);if(i){var r=this._getRenderInfo(t.group,t.series,t.item),s={element:r,coord:i};this._enqueueAnimation("animPieSlice",void 0,void 0,300,function(i,r,s){var a=r.coord,n=a.selectedRadiusChange*s,o=e.renderer.pieSlicePath(a.center.x,a.center.y,0==a.innerRadius?0:a.innerRadius+n,a.outerRadius+n,a.fromAngle,a.toAngle,a.centerOffset);e.renderer.attr(r.element.element,{d:o}),e._showPieLabel(t.group,t.series,t.item,void 0,n)},s),e._startAnimation("animPieSlice")}}},_applyPieUnselect:function(){this._stopAnimations();var e=this._selected;if(e){var t=this.getItemCoord(e.group,e.series,e.item);if(t&&t.center){var i=this.renderer.pieSlicePath(t.center.x,t.center.y,t.innerRadius,t.outerRadius,t.fromAngle,t.toAngle,t.centerOffset);this.renderer.attr(e.element,{d:i}),this._showPieLabel(e.group,e.series,e.item,void 0,0)}}},_unselect:function(){var e=this;if(e._selected){var t=e._selected.group,i=e._selected.series,r=e._selected.item,s=e._selected.iidxBase,a=e._selected.type,n=e.seriesGroups[t],o=n.series[i],l=-1!=n.type.indexOf("line")&&-1==n.type.indexOf("area"),h=e._getColors(t,i,s||r,e._getGroupGradientType(t)),d=h.fillColor;l&&(d="none");var f=e._getSerieSettings(t,i),u="symbol"==a?h.lineColorSymbol:h.lineColor;d="symbol"==a?h.fillColorSymbol:d,this.renderer.getAttr(e._selected.element,"fill")==h.fillColorAltSelected&&(d=h.fillColorAlt);var c="symbol"==a?1:f.stroke;e.renderer.attr(e._selected.element,{stroke:u,fill:d,"stroke-width":c}),-1==n.type.indexOf("pie")&&-1==n.type.indexOf("donut")||this._applyPieUnselect(),e._selected=void 0,isNaN(r)||e._raiseItemEvent("mouseout",n,o,r)}e._pointMarker&&(e._pointMarker.element&&(e.renderer.removeElement(e._pointMarker.element),e._pointMarker.element=void 0),e._pointMarker=void 0,e._hideCrosshairs())},_raiseItemEvent:function(t,i,r,s){for(var a=r[t]||i[t],n=0;n<this.seriesGroups.length&&this.seriesGroups[n]!=i;n++);if(n!=this.seriesGroups.length){var o={event:t,seriesGroup:i,serie:r,elementIndex:s,elementValue:this._getDataValue(s,r.dataField,n)};a&&e.isFunction(a)&&a(o),this._raiseEvent(t,o)}},_raiseEvent:function(t,i){var r=new e.Event(t);return r.owner=this,i.event=t,r.args=i,this.host.trigger(r)},_calcInterval:function(e,t,i){var r=Math.abs(t-e),s=r/i,a=[1,2,3,4,5,10,15,20,25,50,100],n=[.5,.25,.125,.1],o=.1,l=a;s<1&&(l=n,o=10);var h=0;do{h=0,s>=1?o*=10:o/=10;for(var d=1;d<l.length&&Math.abs(l[h]*o-s)>Math.abs(l[d]*o-s);d++)h=d}while(h==l.length-1);return l[h]*o},_renderDataClone:function(){if(this._renderData&&!this._isToggleRefresh){var e=this._elementRenderInfo=[];if(!this._isSelectorRefresh)for(var t=0;t<this._renderData.length;t++){for(this._getXAxis(t).dataField;e.length<=t;)e.push({});var i=e[t],r=this._renderData[t];if(r.offsets){if(r.valueAxis){i.valueAxis={itemOffsets:{}};for(var s in r.valueAxis.itemOffsets)i.valueAxis.itemOffsets[s]=r.valueAxis.itemOffsets[s]}if(r.xAxis){i.xAxis={itemOffsets:{}};for(var s in r.xAxis.itemOffsets)i.xAxis.itemOffsets[s]=r.xAxis.itemOffsets[s]}i.series=[];for(var a=i.series,n=this._isPieGroup(t),o=0;o<r.offsets.length;o++){a.push({});for(var l=0;l<r.offsets[o].length;l++)if(n){var h=r.offsets[o][l];a[o][h.displayValue]={value:h.value,x:h.x,y:h.y,fromAngle:h.fromAngle,toAngle:h.toAngle}}else a[o][r.xoffsets.xvalues[l]]={value:r.offsets[o][l].value,valueRadius:r.offsets[o][l].valueRadius,xoffset:r.xoffsets.data[l],from:r.offsets[o][l].from,to:r.offsets[o][l].to}}}}}},getPolarDataPointOffset:function(e,t,i){var r=this._renderData[i];if(!r)return{x:NaN,y:NaN};var s=this.getValueAxisDataPointOffset(t,i),a=this.getXAxisDataPointOffset(e,i),n=this._toPolarCoord(r.polarCoords,r.xAxis.rect,a,s);return{x:n.x,y:n.y}},_getDataPointOffsetDiff:function(e,t,i,r,s,a,n){var o=this._getDataPointOffset(e,i,r,s,a,n),l=this._getDataPointOffset(t,i,r,s,a,n);return Math.abs(o-l)},_getXAxisRenderData:function(e){if(!(e>=this._renderData.length)){var t=this.seriesGroups[e],i=this._renderData[e].xAxis;if(i){if(void 0==t.xAxis){for(var r=0;r<=e&&void 0!=this.seriesGroups[r].xAxis;r++);i=this._renderData[r].xAxis}return i}}},getXAxisDataPointOffset:function(e,t){var i=this.seriesGroups[t];if(isNaN(e))return NaN;if(renderData=this._getXAxisRenderData(t),!renderData)return NaN;var r=renderData.data.axisStats,s=r.min.valueOf(),a=r.max.valueOf(),n=a-s;if(0==n&&(n=1),e.valueOf()>a||e.valueOf()<s)return NaN;var o=this._getXAxis(t),l="horizontal"==i.orientation?"height":"width",h="horizontal"==i.orientation?"y":"x",d=(e.valueOf()-s)/n,f=renderData.rect[l]-renderData.data.padding.left-renderData.data.padding.right;if(i.polar||i.spider){this._renderData[t].polarCoords.isClosedCircle&&(f=renderData.data.axisSize)}return this._plotRect[h]+renderData.data.padding.left+f*(o.flip?1-d:d)},getValueAxisDataPointOffset:function(e,t){var i=this._getValueAxis(t);if(!i)return NaN;var r=this._renderData[t];if(!r)return NaN;var s=1==i.flip,a=r.logBase,n=r.scale,o=r.gbase,l=r.baseOffset;return this._getDataPointOffset(e,o,a,n,l,s)},_getDataPointOffset:function(t,i,r,s,a,n){var o;return isNaN(t)&&(t=i),o=isNaN(r)?(t-i)*s:(e.jqx.log(t,r)-e.jqx.log(i,r))*s,this._isVML&&(o=Math.round(o)),o=n?a+o:a-o},_calcGroupOffsets:function(t,i){for(var r=this.seriesGroups[t];this._renderData.length<t+1;)this._renderData.push({});if(null!=this._renderData[t]&&void 0!=this._renderData[t].offsets)return this._renderData[t];if(this._isPieGroup(t))return this._calcPieSeriesGroupOffsets(t,i);var s=this._getValueAxis(t);if(!s||!r.series||0==r.series.length)return this._renderData[t];var a=1==s.flip,n=1==s.logarithmicScale,o=s.logarithmicScaleBase||10,l=[],h=-1!=r.type.indexOf("stacked"),d=h&&-1!=r.type.indexOf("100"),f=-1!=r.type.indexOf("range"),u=this._isColumnType(r.type),c=-1!=r.type.indexOf("waterfall"),g=this._getDataLen(t),p=r.baselineValue||s.baselineValue||0;d&&(p=0);var x=this._stats.seriesGroups[t];if(x&&x.isValid){var m=x.hasStackValueReversal;if(m&&(p=0),c&&h){if(m)return;p=x.base}p>x.max&&(p=x.max),p<x.min&&(p=x.min);var v=d||n?x.maxRange:x.max-x.min,_=x.min,y=x.max,b=i.height/(n?x.intervals:v),M=0;d?_*y<0?(v/=2,M=-(v+p)*b):M=-p*b:M=-(p-_)*b,a?M=i.y-M:M+=i.y+i.height;var N,w=[],A=[],S=[];n&&(N=e.jqx.log(y,o)-e.jqx.log(p,o),h&&(N=x.intervals,p=d?0:_),x.intervals-N,a||(M=i.y+N/x.intervals*i.height)),M=e.jqx._ptrnd(M);var C=_*y<0?i.height/2:i.height,j=[],k=[],q=h&&(u||n),T=[];l=new Array(r.series.length);for(var D=0;D<r.series.length;D++)l[D]=new Array(g);for(var P=0;P<g;P++){!c&&h&&(k=[]);for(var D=0;D<r.series.length;D++){!h&&n&&(j=[]);var O=r.series[D],I=O.dataField,F=O.dataFieldFrom,R=O.dataFieldTo,L=O.radiusDataField||O.sizeDataField;l[D][P]={};var G=this._isSerieVisible(t,D);if(-1==r.type.indexOf("candle")&&-1==r.type.indexOf("ohlc")){if(h)for(;k.length<=P;)k.push(0);var E=NaN;f&&(E=this._getDataValueAsNumber(P,F,t),isNaN(E)&&(E=p));var V=NaN;V=f?this._getDataValueAsNumber(P,R,t):this._getDataValueAsNumber(P,I,t);var H=this._getDataValueAsNumber(P,L,t);if(h&&(k[P]+=G?V:0),G||(V=NaN),isNaN(V)||n&&V<=0)l[D][P]={from:void 0,to:void 0};else{var B;h&&(q?B=V>=p?w:A:V=k[P]);var z=b*(V-p);if(f&&(z=b*(V-E)),h&&q&&(T[P]?z=b*V:(T[P]=!0,z=b*(V-p))),n){for(;j.length<=P;)j.push({p:{value:0,height:0},n:{value:0,height:0}});var W=f||f?E:p,X=V>W?j[P].p:j[P].n;X.value+=V,d?(V=X.value/(x.psums[P]+x.nsums[P])*100,z=(e.jqx.log(V,o)-x.minPow)*b):(z=e.jqx.log(X.value,o)-e.jqx.log(W,o),z*=b),z-=X.height,X.height+=z}var U=M;if(f){var Y=0;Y=n?(e.jqx.log(E,o)-e.jqx.log(p,o))*b:(E-p)*b,U+=a?Y:-Y}if(h){if(d&&!n){var Z=x.psums[P]-x.nsums[P];V>p?(z=x.psums[P]/Z*C,0!=x.psums[P]&&(z*=V/x.psums[P])):(z=x.nsums[P]/Z*C,0!=x.nsums[P]&&(z*=V/x.nsums[P]))}q&&(isNaN(B[P])&&(B[P]=U),U=B[P])}isNaN(S[P])&&(S[P]=0);var J=S[P];z=Math.abs(z);var Q=z;if(z>=1&&(h_new=this._isVML?Math.round(z):e.jqx._ptrnd(z)-1,z=Math.abs(z-h_new)>.5?Math.round(z):h_new),J+=z-Q,h||(J=0),Math.abs(J)>.5&&(J>0?(z-=1,J-=1):(z+=1,J+=1)),S[P]=J,D==r.series.length-1&&d){for(var $=0,K=0;K<D;K++)$+=Math.abs(l[K][P].to-l[K][P].from);if(($+=z)<C)if(z>.5)z=e.jqx._ptrnd(z+C-$);else for(var K=D-1;K>=0;){var ee=Math.abs(l[K][P].to-l[K][P].from);if(ee>1){l[K][P].from>l[K][P].to&&(l[K][P].from+=C-$);break}K--}}a&&(z*=-1);var te=V<p;f&&(te=E>V);var ie=isNaN(E)?V:{from:E,to:V};te?(q&&(B[P]+=z),l[D][P]={from:U,to:U+z,value:ie,valueRadius:H}):(q&&(B[P]-=z),l[D][P]={from:U,to:U-z,value:ie,valueRadius:H})}}else{var re=["Open","Close","High","Low"];for(var se in re){var ae="dataField"+re[se];O[ae]&&(l[D][P][re[se]]=this._getDataPointOffset(this._getDataValueAsNumber(P,O[ae],t),p,n?o:NaN,b,M,a))}}}}var ne=this._renderData[t];return ne.baseOffset=M,ne.gbase=p,ne.logBase=n?o:NaN,ne.scale=b,ne.offsets=c?this._applyWaterfall(l,g,t,M,p,n?o:NaN,b,a,h):l,ne.xoffsets=this._calculateXOffsets(t,i.width),this._renderData[t]}},_isPercent:function(e){return"string"==typeof e&&e.length>0&&e.indexOf("%")==e.length-1},_calcPieSeriesGroupOffsets:function(t,i){
for(var r=this,s=this._getDataLen(t),a=this.seriesGroups[t],n=this._renderData[t]={},o=n.offsets=[],l=0;l<a.series.length;l++){var h=a.series[l],d=this._get([h.minAngle,h.startAngle]);(isNaN(d)||d<0||d>360)&&(d=0);var f=this._get([h.maxAngle,h.endAngle]);(isNaN(f)||f<0||f>360)&&(f=360);var u=f-d,c=h.initialAngle||0;c<d&&(c=d),c>f&&(c=f);var g=h.centerOffset||0,p=e.jqx.getNum([h.offsetX,a.offsetX,i.width/2]),x=e.jqx.getNum([h.offsetY,a.offsetY,i.height/2]),m=Math.min(i.width,i.height)/2,v=c,_=h.radius;r._isPercent(_)&&(_=parseFloat(_)/100*m),isNaN(_)&&(_=.4*m);var y=h.innerRadius;r._isPercent(y)&&(y=parseFloat(y)/100*m),(isNaN(y)||y>=_)&&(y=0);var b=h.selectedRadiusChange;r._isPercent(b)&&(b=parseFloat(b)/100*(_-y)),isNaN(b)&&(b=.1*(_-y)),o.push([]);for(var M=0,N=0,w=0;w<s;w++){var A=this._getDataValueAsNumber(w,h.dataField,t);isNaN(A)||(this._isSerieVisible(t,l,w)||1==h.hiddenPointsDisplay)&&(A>0?M+=A:N+=A)}var S=M-N;0==S&&(S=1);for(var w=0;w<s;w++){var A=this._getDataValueAsNumber(w,h.dataField,t);if(isNaN(A))o[l].push({});else{var C=h.displayText||h.displayField,j=this._getDataValue(w,C,t);void 0==j&&(j=w);var k=0,q=this._isSerieVisible(t,l,w);(q||1==h.hiddenPointsDisplay)&&(k=Math.abs(A)/S*u);var T=i.x+p,D=i.y+x,P=g;e.isFunction(g)&&(P=g({seriesIndex:l,seriesGroupIndex:t,itemIndex:w})),isNaN(P)&&(P=0);var O={key:t+"_"+l+"_"+w,value:A,displayValue:j,x:T,y:D,fromAngle:v,toAngle:v+k,centerOffset:P,innerRadius:y,outerRadius:_,selectedRadiusChange:b,visible:q};o[l].push(O),v+=k}}}return n},_isPointSeriesOnly:function(){for(var e=0;e<this.seriesGroups.length;e++){var t=this.seriesGroups[e];if(-1==t.type.indexOf("line")&&-1==t.type.indexOf("area")&&-1==t.type.indexOf("scatter")&&-1==t.type.indexOf("bubble"))return!1}return!0},_hasColumnSeries:function(){for(var e=["column","ohlc","candlestick","waterfall"],t=0;t<this.seriesGroups.length;t++){var i=this.seriesGroups[t];for(var r in e)if(-1!=i.type.indexOf(e[r]))return!0}return!1},_alignValuesWithTicks:function(e){var t=this._isPointSeriesOnly(),i=this.seriesGroups[e],r=this._getXAxis(e),s=void 0==r.valuesOnTicks?t:0!=r.valuesOnTicks;return r.logarithmicScale&&(s=!0),void 0==e?s:void 0==i.valuesOnTicks?s:i.valuesOnTicks},_getYearsDiff:function(e,t){return t.getFullYear()-e.getFullYear()},_getMonthsDiff:function(e,t){return 12*(t.getFullYear()-e.getFullYear())+t.getMonth()-e.getMonth()},_getDateDiff:function(t,i,r,s){var a=0;switch("year"!=r&&"month"!=r&&(a=i.valueOf()-t.valueOf()),r){case"year":a=this._getYearsDiff(t,i);break;case"month":a=this._getMonthsDiff(t,i);break;case"day":a/=864e5;break;case"hour":a/=36e5;break;case"minute":a/=6e4;break;case"second":a/=1e3}return"year"!=r&&"month"!=r&&0!=s&&(a=e.jqx._rnd(a,1,!0)),a},_getBestDTUnit:function(e,t,i,r,s){var a="day",n=t.valueOf()-e.valueOf();a=n<1e3?"second":n<36e5?"minute":n<864e5?"hour":n<2592e6?"day":n<31104e6?"month":"year";for(var o=[{key:"year",cnt:n/31536e6},{key:"month",cnt:n/2592e6},{key:"day",cnt:n/864e5},{key:"hour",cnt:n/36e5},{key:"minute",cnt:n/6e4},{key:"second",cnt:n/1e3},{key:"millisecond",cnt:n}],l=-1,h=0;h<o.length;h++)if(o[h].key==a){l=h;break}for(var d=-1,f=-1;l<o.length&&!(o[l].cnt/100>r);l++){var u=this._estAxisInterval(e,t,i,r,o[l].key,s),c=this._getDTIntCnt(e,t,u,o[l].key);(-1==d||d<c)&&(d=c,f=l)}return a=o[f].key},_getXAxisStats:function(t,i,r){var s=this._getDataLen(t),a="date"==i.type||"time"==i.type;if(a&&!this._autoDateFormats){this._autoDateFormats||(this._autoDateFormats=[]);var n=this._testXAxisDateFormat();n&&this._autoDateFormats.push(n)}var o=a?this._castAsDate(i.minValue,i.dateFormat):this._castAsNumber(i.minValue),l=a?this._castAsDate(i.maxValue,i.dateFormat):this._castAsNumber(i.maxValue);if(this._selectorRange&&this._selectorRange[t]){var h=this._selectorRange[t].min;isNaN(h)||(o=a?this._castAsDate(h,i.dateFormat):this._castAsNumber(h));var d=this._selectorRange[t].max;isNaN(d)||(l=a?this._castAsDate(d,i.dateFormat):this._castAsNumber(d))}for(var f,u,c=o,g=l,p=void 0==i.type||"auto"==i.type,x=p||"basic"==i.type,m=0,v=0,_=0;_<s&&i.dataField;_++){var y=this._getDataValue(_,i.dataField,t);y=a?this._castAsDate(y,i.dateFormat):this._castAsNumber(y),isNaN(y)||(a?m++:v++,(isNaN(f)||y<f)&&(f=y),(isNaN(u)||y>=u)&&(u=y))}p&&(!a&&v==s||a&&m==s)&&(x=!1),x&&(f=0,u=Math.max(0,s-1)),isNaN(c)&&(c=f),isNaN(g)&&(g=u),a?(this._isDate(c)||(c=this._isDate(g)?g:new Date),this._isDate(g)||(g=this._isDate(c)?c:new Date)):(isNaN(c)&&(c=0),isNaN(g)&&(g=x?Math.max(0,s-1):c)),void 0==f&&(f=c),void 0==u&&(u=g);var b=i.rangeSelector;if(b){var M=b.minValue||c;M&&a&&(M=this._castAsDate(M,b.dateFormat||i.dateFormat));var N=b.maxValue||g;N&&a&&(N=this._castAsDate(N,b.dateFormat||i.rangeSelector)),c<M&&(c=M),g<M&&(g=N),c>N&&(c=M),g>N&&(g=N)}var w,A,S=i.unitInterval;a&&(w=i.baseUnit,w||(w=this._getBestDTUnit(c,g,t,r)),A="hour"==w||"minute"==w||"second"==w||"millisecond"==w);var C=1==i.logarithmicScale,j=i.logarithmicScaleBase;(isNaN(j)||j<=1)&&(j=10);var S=i.unitInterval;C?S=1:(isNaN(S)||S<=0)&&(S=this._estAxisInterval(c,g,t,r,w));var k={min:c,max:g},q=this.seriesGroups[t];if(C){c||(c=1,g&&c>g&&(c=g)),g||(g=c),k={min:c,max:g};var T=e.jqx._rnd(e.jqx.log(c,j),1,!1),D=e.jqx._rnd(e.jqx.log(g,j),1,!0);g=Math.pow(j,D),c=Math.pow(j,T)}else a||!q.polar&&!q.spider||(c=e.jqx._rnd(c,S,!1),g=e.jqx._rnd(g,S,!0));return{min:c,max:g,logAxis:{enabled:C,base:j,minPow:T,maxPow:D},dsRange:{min:f,max:u},filterRange:k,useIndeces:x,isDateTime:a,isTimeUnit:A,dateTimeUnit:w,interval:S}},_getDefaultDTFormatFn:function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return"year"==e||"month"==e||"day"==e?function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()}:function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()+"<br>"+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}},_getDTIntCnt:function(e,t,i,r){var s=0,a=new Date(e),n=new Date(t);if(n=n.valueOf(),i<=0)return 1;for(;a.valueOf()<n;)"millisecond"==r?a=new Date(a.valueOf()+i):"second"==r?a=new Date(a.valueOf()+1e3*i):"minute"==r?a=new Date(a.valueOf()+6e4*i):"hour"==r?a=new Date(a.valueOf()+6e4*i*24):"day"==r?a.setDate(a.getDate()+i):"month"==r?a.setMonth(a.getMonth()+i):"year"==r&&a.setFullYear(a.getFullYear()+i),s++;return s},_estAxisInterval:function(e,t,i,r,s,a){if(isNaN(e)||isNaN(t))return NaN;var n=[1,2,5,10,15,20,50,100,200,500],o=0,l=r/(!isNaN(a)&&a>0?a:50);if(this._renderData&&this._renderData.length>i&&this._renderData[i].xAxis&&!isNaN(this._renderData[i].xAxis.avgWidth)){var h=Math.max(1,this._renderData[i].xAxis.avgWidth);0!=h&&isNaN(a)&&(l=.9*r/h)}if(l<=1)return Math.abs(t-e);for(;;){var d=o>=n.length?Math.pow(10,3+o-n.length):n[o];if((this._isDate(e)&&this._isDate(t)?this._getDTIntCnt(e,t,d,s):(t-e)/d)<=l)break;o++}var f=this.seriesGroups[i];return(f.spider||f.polar)&&2*d>t-e&&(d=t-e),d},_getPaddingSize:function(e,t,i,r,s,a,n){var o=e.min,l=e.max;e.logAxis.enabled&&(o=e.logAxis.minPow,l=e.logAxis.maxPow);var h=e.interval,d=e.dateTimeUnit;if(s){var f=r/Math.max(1,l-o+h)*h;return a?{left:0,right:f}:i?{left:0,right:0}:{left:f/2,right:f/2}}if(i&&!n)return{left:0,right:0};if(this._isDate(o)&&this._isDate(l)){var u=this._getDTIntCnt(o,l,Math.min(h,l-o),d),c=r/Math.max(2,u);return{left:c/2,right:c/2}}var u=Math.max(1,l-o);if(1==u)return sz=r/4,{left:sz,right:sz};var c=r/(u+1);return{left:c/2,right:c/2}},_calculateXOffsets:function(t,i){var r=this.seriesGroups[t],s=this._getXAxis(t),a=[],n=[],o=this._getDataLen(t),l=this._getXAxisStats(t,s,i),h=l.min,d=l.max,f=l.isDateTime,u=l.isTimeUnit,c=this._hasColumnSeries(),g=r.polar||r.spider,p=this._get([r.startAngle,r.minAngle,0]),x=this._get([r.endAngle,r.maxAngle,360]),m=g&&!(Math.abs(Math.abs(x-p)-360)>1e-4),v=this._alignValuesWithTicks(t),_=this._getPaddingSize(l,s,v,i,g,m,c),y=d-h,b=l.filterRange;0==y&&(y=1);var M=i-_.left-_.right;g&&v&&!m&&(_.left=_.right=0);for(var N=-1,w=-1,A=0;A<o;A++){var S=void 0===s.dataField?A:this._getDataValue(A,s.dataField,t);if(l.useIndeces){if(A<b.min||A>b.max){a.push(NaN),n.push(void 0);continue}if(j=_.left+(A-h)/y*M,1==l.logAxis.enabled){var C=l.logAxis.base;j=this._jqxPlot.scale(S,{min:h.valueOf(),max:d.valueOf(),type:"logarithmic",base:C},{min:0,max:M,flip:!1})}a.push(e.jqx._ptrnd(j)),n.push(S),-1==N&&(N=A),(-1==w||w<A)&&(w=A)}else if(S=f?this._castAsDate(S,s.dateFormat):this._castAsNumber(S),isNaN(S)||S<b.min||S>b.max)a.push(NaN),n.push(void 0);else{var j=0;if(1==l.logAxis.enabled){var C=l.logAxis.base;j=this._jqxPlot.scale(S,{min:h.valueOf(),max:d.valueOf(),type:"logarithmic",base:C},{min:0,max:M,flip:!1})}else!f||f&&u?(diffFromMin=S-h,j=(S-h)*M/y):j=(S.valueOf()-h.valueOf())/(d.valueOf()-h.valueOf())*M;j=e.jqx._ptrnd(_.left+j),a.push(j),n.push(S),-1==N&&(N=A),(-1==w||w<A)&&(w=A)}}if(1==s.flip)for(var A=0;A<a.length;A++)isNaN(a[A])||(a[A]=i-a[A]);(u||f)&&(y=this._getDateDiff(h,d,s.baseUnit),y=e.jqx._rnd(y,1,!1));var k=Math.max(1,y),q=M/k;return N==w&&1==k&&(a[N]=_.left+M/2),{axisStats:l,data:a,xvalues:n,first:N,last:w,length:-1==w?0:w-N+1,itemWidth:q,intervalWidth:q*l.interval,rangeLength:y,useIndeces:l.useIndeces,padding:_,axisSize:M}},_getXAxis:function(e){return void 0==e||this.seriesGroups.length<=e?this.categoryAxis||this.xAxis:this.seriesGroups[e].categoryAxis||this.seriesGroups[e].xAxis||this.categoryAxis||this.xAxis},_isGreyScale:function(e,t){var i=this.seriesGroups[e],r=i.series[t];return 1==r.greyScale||0!=r.greyScale&&(1==i.greyScale||0!=i.greyScale&&1==this.greyScale)},_getSeriesColors:function(t,i,r){var s=this._getSeriesColorsInternal(t,i,r);if(this._isGreyScale(t,i))for(var a in s)s[a]=e.jqx.toGreyScale(s[a]);return s},_getColorFromScheme:function(e,t,i){var r="#000000",s=this.seriesGroups[e],a=s.series[t];if(this._isPieGroup(e)){var n=this._getDataLen(e);r=this._getItemColorFromScheme(a.colorScheme||s.colorScheme||this.colorScheme,t*n+i,e,t)}else{for(var o=0,l=0;l<=e;l++)for(var h in this.seriesGroups[l].series){if(l==e&&h==t)break;o++}var d=this.colorScheme;if(s.colorScheme&&(d=s.colorScheme,sidex=seriesIndex),void 0!=d&&""!=d||(d=this.colorSchemes[0].name),!d)return r;for(var l=0;l<this.colorSchemes.length;l++){var f=this.colorSchemes[l];if(f.name==d){for(;o>f.colors.length;)o-=f.colors.length,++l>=this.colorSchemes.length&&(l=0),f=this.colorSchemes[l];r=f.colors[o%f.colors.length]}}}return r},_createColorsCache:function(){this._colorsCache={get:function(e){if(this._store[e])return this._store[e]},set:function(e,t){this._size<1e4&&(this._store[e]=t,this._size++)},clear:function(){this._store={},this._size=0},_size:0,_store:{}}},_getSeriesColorsInternal:function(t,i,r){var s=this.seriesGroups[t],a=s.series[i];e.isFunction(a.colorFunction)||"pie"==s.type||"donut"==s.type||(r=NaN);var n=t+"_"+i+"_"+(isNaN(r)?"NaN":r);if(this._colorsCache.get(n))return this._colorsCache.get(n);var o,l={lineColor:"#222222",lineColorSelected:"#151515",lineColorSymbol:"#222222",lineColorSymbolSelected:"#151515",fillColor:"#222222",fillColorSelected:"#333333",fillColorSymbol:"#222222",fillColorSymbolSelected:"#333333",fillColorAlt:"#222222",fillColorAltSelected:"#333333"};if(e.isFunction(a.colorFunction)){var h=isNaN(r)?NaN:this._getDataValue(r,a.dataField,t);if(-1!=s.type.indexOf("range")&&!isNaN(r)){h={from:this._getDataValue(r,a.dataFieldFrom,t),to:this._getDataValue(r,a.dataFieldTo,t)}}if("object"==typeof(o=a.colorFunction(h,r,a,s)))for(var d in o)l[d]=o[d];else l.fillColor=o}else{for(var d in l)a[d]&&(l[d]=a[d]);a.fillColor||a.color?a.fillColor=a.fillColor||a.color:l.fillColor=this._getColorFromScheme(t,i,r)}var f={fillColor:{baseColor:"fillColor",adjust:1},fillColorSelected:{baseColor:"fillColor",adjust:1.1},fillColorSymbol:{baseColor:"fillColor",adjust:1},fillColorSymbolSelected:{baseColor:"fillColorSymbol",adjust:2},fillColorAlt:{baseColor:"fillColor",adjust:4},fillColorAltSelected:{baseColor:"fillColor",adjust:3},lineColor:{baseColor:"fillColor",adjust:.95},lineColorSelected:{baseColor:"lineColor",adjust:.95},lineColorSymbol:{baseColor:"lineColor",adjust:1},lineColorSymbolSelected:{baseColor:"lineColorSelected",adjust:1}};for(var d in l)"object"==typeof o&&o[d]||a[d]&&(l[d]=a[d]);for(var d in l)"object"==typeof o&&o[d]||a[d]||(l[d]=e.jqx.adjustColor(l[f[d].baseColor],f[d].adjust));return this._colorsCache.set(n,l),l},_getItemColorFromScheme:function(t,i,r,s){void 0!=t&&""!=t||(t=this.colorSchemes[0].name);for(var a=0;a<this.colorSchemes.length&&t!=this.colorSchemes[a].name;a++);for(var n=0;n<=i;){a==this.colorSchemes.length&&(a=0);var o=this.colorSchemes[a].colors.length;if(!(n+o<=i)){var l=this.colorSchemes[a].colors[i-n];return this._isGreyScale(r,s)&&0==l.indexOf("#")&&(l=e.jqx.toGreyScale(l)),l}n+=o,a++}},getColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e)return this.colorSchemes[t].colors},addColorScheme:function(e,t){for(var i=0;i<this.colorSchemes.length;i++)if(this.colorSchemes[i].name==e)return void(this.colorSchemes[i].colors=t);this.colorSchemes.push({name:e,colors:t})},removeColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e){this.colorSchemes.splice(t,1);break}},colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_formatValue:function(t,i,r,s,a,n){if(void 0==t)return"";if(this._isObject(t)&&!this._isDate(t)&&!r)return"";if(r){if(!e.isFunction(r))return t.toString();try{return r(t,n,a,s)}catch(e){return e.message}}return this._isNumber(t)?this._formatNumber(t,i):this._isDate(t)?this._formatDate(t,i):i?(i.prefix||"")+t.toString()+(i.sufix||""):t.toString()},_getFormattedValue:function(t,i,r,s,a,n){var o=this.seriesGroups[t],l=o.series[i],h="",d=s,f=a;f||(f=l.formatFunction||o.formatFunction),d||(d=l.formatSettings||o.formatSettings),!l.formatFunction&&l.formatSettings&&(f=void 0);var u={},c=0;for(var g in l)0==g.indexOf("dataField")&&(u[g.substring(9).toLowerCase()]=this._getDataValue(r,l[g],t),c++);if(0==c&&(u=this._getDataValue(r,void 0,t)),-1!=o.type.indexOf("waterfall")&&this._isSummary(t,r)&&(u=this._renderData[t].offsets[i][r].value,c=0),f&&e.isFunction(f))try{return f(1==c?u[""]:u,r,l,o)}catch(e){return e.message}if(1==c&&this._isPieGroup(t))return this._formatValue(u[""],d,f,t,i,r);if(c>0){var p=0;for(var g in u){p>0&&""!=h&&(h+="<br>");var x="dataField"+(g.length>0?g.substring(0,1).toUpperCase()+g.substring(1):""),m="displayText"+(g.length>0?g.substring(0,1).toUpperCase()+g.substring(1):""),v=l[m]||l[x],_=u[g];void 0!=_&&(_=this._formatValue(_,d,f,t,i,r),h+=!0===n?_:v+": "+_,p++)}}else void 0!=u&&(h=this._formatValue(u,d,f,t,i,r));return h||""},_isNumberAsString:function(t){if("string"!=typeof t)return!1;t=e.trim(t);for(var i=0;i<t.length;i++){var r=t.charAt(i);if(!(r>="0"&&r<="9"||","==r||"."==r)&&(("-"!=r||0!=i)&&!("("==r&&0==i||")"==r&&i==t.length-1)))return!1}return!0},_castAsDate:function(t,i){if(t instanceof Date&&!isNaN(t))return t;if("string"==typeof t){var r;if(i&&(r=e.jqx.dataFormat.parsedate(t,i),this._isDate(r)))return r;if(this._autoDateFormats)for(var s=0;s<this._autoDateFormats.length;s++)if(r=e.jqx.dataFormat.parsedate(t,this._autoDateFormats[s]),this._isDate(r))return r;var a=this._detectDateFormat(t);return a&&(r=e.jqx.dataFormat.parsedate(t,a),this._isDate(r))?(this._autoDateFormats.push(a),r):(r=new Date(t),this._isDate(r)&&-1==t.indexOf(":")&&r.setHours(0,0,0,0),r)}},_castAsNumber:function(e){if(e instanceof Date&&!isNaN(e))return e.valueOf();if("string"==typeof e)if(this._isNumber(e))e=parseFloat(e);else if(!/[a-zA-Z]/.test(e)){var t=new Date(e);void 0!=t&&(e=t.valueOf())}return e},_isNumber:function(e){return"string"==typeof e&&this._isNumberAsString(e)&&(e=parseFloat(e)),"number"==typeof e&&isFinite(e)},_isDate:function(e){return e instanceof Date&&!isNaN(e.getDate())},_isBoolean:function(e){return"boolean"==typeof e},_isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},_formatDate:function(t,i){var r=t.toString();return i&&(i.dateFormat&&(r=e.jqx.dataFormat.formatDate(t,i.dateFormat)),r=(i.prefix||"")+r+(i.sufix||"")),r},_formatNumber:function(e,t){if(!this._isNumber(e))return e;t=t||{};var i=".",r="",s=this;s.localization&&(i=s.localization.decimalSeparator||s.localization.decimalseparator||i,r=s.localization.thousandsSeparator||s.localization.thousandsseparator||r),t.decimalSeparator&&(i=t.decimalSeparator),t.thousandsSeparator&&(r=t.thousandsSeparator);var a=t.prefix||"",n=t.sufix||"",o=t.decimalPlaces;isNaN(o)&&(o=this._getDecimalPlaces([e],void 0,3));var l=t.negativeWithBrackets||!1,h=e<0;h&&l&&(e*=-1);var d,f=e.toString(),u=Math.pow(10,o);if(f=(Math.round(e*u)/u).toString(),isNaN(f)&&(f=""),d=f.lastIndexOf("."),o>0)for(d<0?(f+=i,d=f.length-1):"."!==i&&(f=f.replace(".",i));f.length-1-d<o;)f+="0";d=f.lastIndexOf(i),d=d>-1?d:f.length;for(var c=f.substring(d),g=0,p=d;p>0;p--,g++)g%3==0&&p!==d&&(!h||p>1||h&&l)&&(c=r+c),c=f.charAt(p-1)+c;return f=c,h&&l&&(f="("+f+")"),a+f+n},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:!1},_calculateControlPoints:function(e,t){var i=e[t],r=e[t+1],s=e[t+2],a=e[t+3],n=e[t+4],o=e[t+5],l=Math.sqrt(Math.pow(s-i,2)+Math.pow(a-r,2)),h=Math.sqrt(Math.pow(n-s,2)+Math.pow(o-a,2)),d=l+h;0==d&&(d=1);var f=.4*l/d,u=.4-f;return[s+f*(i-n),a+f*(r-o),s-u*(i-n),a-u*(r-o)]},_getBezierPoints:function(t){for(var i="",r=[],s=[],a=t.split(" "),n=0;n<a.length;n++){var o=a[n].split(",");r.push(parseFloat(o[0])),r.push(parseFloat(o[1])),!isNaN(r[r.length-1])&&isNaN(r[r.length-2])}var l=r.length;if(l<=1)return"";if(2==l)return i="M"+e.jqx._ptrnd(r[0])+","+e.jqx._ptrnd(r[1])+" L"+e.jqx._ptrnd(r[0]+1)+","+e.jqx._ptrnd(r[1]+1)+" ";for(var n=0;n<l-4;n+=2)s=s.concat(this._calculateControlPoints(r,n));for(var n=2;n<l-5;n+=2)i+=" C"+e.jqx._ptrnd(s[2*n-2])+","+e.jqx._ptrnd(s[2*n-1])+" "+e.jqx._ptrnd(s[2*n])+","+e.jqx._ptrnd(s[2*n+1])+" "+e.jqx._ptrnd(r[n+2])+","+e.jqx._ptrnd(r[n+3])+" ";return i=l<=4||Math.abs(r[0]-r[2])<3||Math.abs(r[1]-r[3])<3||this._isVML?"M"+e.jqx._ptrnd(r[0])+","+e.jqx._ptrnd(r[1])+" L"+e.jqx._ptrnd(r[2])+","+e.jqx._ptrnd(r[3])+" "+i:"M"+e.jqx._ptrnd(r[0])+","+e.jqx._ptrnd(r[1])+" Q"+e.jqx._ptrnd(s[0])+","+e.jqx._ptrnd(s[1])+" "+e.jqx._ptrnd(r[2])+","+e.jqx._ptrnd(r[3])+" "+i,l>=4&&(Math.abs(r[l-2]-r[l-4])<3||Math.abs(r[l-1]-r[l-3])<3||this._isVML)?i+=" L"+e.jqx._ptrnd(r[l-2])+","+e.jqx._ptrnd(r[l-1])+" ":l>=5&&(i+=" Q"+e.jqx._ptrnd(s[2*l-10])+","+e.jqx._ptrnd(s[2*l-9])+" "+e.jqx._ptrnd(r[l-2])+","+e.jqx._ptrnd(r[l-1])+" "),i},_animTickInt:50,_createAnimationGroup:function(e){this._animGroups||(this._animGroups={}),this._animGroups[e]={animations:[],startTick:NaN}},_startAnimation:function(e){var t=new Date,i=t.getTime();this._animGroups[e].startTick=i,this._runAnimation(),this._enableAnimTimer()},_enqueueAnimation:function(e,t,i,r,s,a,n){r<0&&(r=0),void 0==n&&(n="easeInOutSine"),this._animGroups[e].animations.push({key:t,properties:i,duration:r,fn:s,context:a,easing:n})},_stopAnimations:function(){clearTimeout(this._animtimer),this._animtimer=void 0,this._animGroups=void 0},_enableAnimTimer:function(){if(!this._animtimer){var e=this;this._animtimer=setTimeout(function(){e._runAnimation()},this._animTickInt)}},_runAnimation:function(t){if(this._animGroups){var i=new Date,r=i.getTime(),s={};for(var a in this._animGroups){for(var n=this._animGroups[a].animations,o=this._animGroups[a].startTick,l=0,h=0;h<n.length;h++){var d=n[h],f=r-o;d.duration>l&&(l=d.duration);var u=d.duration>0?f/d.duration:1,c=u;if(d.easing&&0!=d.duration&&(c=e.easing[d.easing](u,f,0,1,d.duration)),u>1&&(u=1,c=1),d.fn)d.fn(d.key,d.context,c);else{for(var g={},a=0;a<d.properties.length;a++){var p=d.properties[a],x=0;x=1==u?p.to:easeParecent*(p.to-p.from)+p.from,g[p.key]=x}this.renderer.attr(d.key,g)}}o+l>r&&(s[a]={startTick:o,animations:n})}this._animGroups=s,this.renderer instanceof e.jqx.HTML5Renderer&&this.renderer.refresh()}this._animtimer=null;for(var a in this._animGroups){this._enableAnimTimer();break}},_fixCoords:function(e,t){if("horizontal"!=this.seriesGroups[t].orientation)return e;var i=e.x;e.x=e.y,e.y=i+this._plotRect.y-this._plotRect.x;var i=e.width;return e.width=e.height,e.height=i,e},getItemCoord:function(e,t,i){var r=this;if(r._isPieGroup(e)&&(!r._isSerieVisible(e,t,i)||!r._renderData||r._renderData.length<=e))return{x:NaN,y:NaN};if(!r._isSerieVisible(e,t)||!r._renderData||r._renderData.length<=e)return{x:NaN,y:NaN};var s=r.seriesGroups[e],a=s.series[t],n=r._getItemCoord(e,t,i);if(r._isPieGroup(e)){if(isNaN(n.x)||isNaN(n.y)||isNaN(n.fromAngle)||isNaN(n.toAngle))return{x:NaN,y:NaN};var o=this._plotRect,l=n.fromAngle*(Math.PI/180),h=n.toAngle*(Math.PI/180);x1=o.x+n.center.x+Math.cos(l)*n.outerRadius,x2=o.x+n.center.x+Math.cos(h)*n.outerRadius,y1=o.y+n.center.y-Math.sin(l)*n.outerRadius,y2=o.y+n.center.y-Math.sin(h)*n.outerRadius;var d=Math.min(x1,x2),f=Math.abs(x2-x1),u=Math.min(y1,y2);return n={x:d,y:u,width:f,height:Math.abs(y2-y1),center:n.center,centerOffset:n.centerOffset,innerRadius:n.innerRadius,outerRadius:n.outerRadius,selectedRadiusChange:n.selectedRadiusChange,fromAngle:n.fromAngle,toAngle:n.toAngle}}if(-1!=s.type.indexOf("column")||-1!=s.type.indexOf("waterfall")){var c=this._getColumnSerieWidthAndOffset(e,t);n.height=Math.abs(n.y.to-n.y.from),n.y=Math.min(n.y.to,n.y.from),n.x+=c.offset,n.width=c.width}else if(-1!=s.type.indexOf("ohlc")||-1!=s.type.indexOf("candlestick")){var c=this._getColumnSerieWidthAndOffset(e,t),u=n.y,g=Math.min(u.Open,u.Close,u.Low,u.High),p=Math.max(u.Open,u.Close,u.Low,u.High);n.height=Math.abs(p-g),n.y=g,n.x+=c.offset,n.width=c.width}else if(-1!=s.type.indexOf("line")||-1!=s.type.indexOf("area"))n.width=n.height=0,n.y=n.y.to;else if(-1!=s.type.indexOf("bubble")||-1!=s.type.indexOf("scatter")){n.center={x:n.x,y:n.y.to};var x=n.y.radius;"circle"!=a.symbolType&&void 0!=a.symbolType&&(x/=2),n.y=n.y.to,n.radius=x,n.width=2*x,n.height=2*x}if(n=this._fixCoords(n,e),s.polar||s.spider){var m=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,n.x,n.y);n.x=m.x,n.y=m.y,n.center&&(n.center=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,n.center.x,n.center.y))}return-1==s.type.indexOf("bubble")&&-1==s.type.indexOf("scatter")||(n.x-=x,n.y-=x),n},_getItemCoord:function(e,t,i){var r,s,a=this.seriesGroups[e];if(!a||!this._renderData)return{x:NaN,y:NaN};if(!a.series[t])return{x:NaN,y:NaN};var n=this._plotRect;if(this._isPieGroup(e)){var o=this._renderData[e].offsets[t][i];if(!o)return{x:NaN,y:NaN};var l=(o.fromAngle+o.toAngle)/2*(Math.PI/180);return r=n.x+o.x+Math.cos(l)*o.outerRadius,s=n.y+o.y-Math.sin(l)*o.outerRadius,{x:r,y:s,center:{x:o.x,y:o.y},centerOffset:o.centerOffset,innerRadius:o.innerRadius,outerRadius:o.outerRadius,selectedRadiusChange:o.selectedRadiusChange,fromAngle:o.fromAngle,toAngle:o.toAngle}}if(r=n.x+this._renderData[e].xoffsets.data[i],s=this._renderData[e].offsets[t][i],isNaN(r)||!s)return{x:NaN,y:NaN};var h={};for(var d in s)h[d]=s[d];return{x:r,y:h}},getXAxisValue:function(t,i){var r=this.seriesGroups[i];if(r){var s=this._getXAxis(i),a=this._plotRect,n=0,o=NaN,l=this._renderData[0].xoffsets.axisStats,h=0,d=0;if(r.polar||r.spider){if(isNaN(t.x)||isNaN(t.y))return NaN;var f=this._getPolarAxisCoords(i,a);if(e.jqx._ptdist(t.x,t.y,f.x,f.y)>f.r)return NaN;var u=Math.atan2(f.y-t.y,t.x-f.x);u=Math.PI/2-u,u<0&&(u=2*Math.PI+u),o=u*f.r;var c=f.startAngle+Math.PI/2,g=f.endAngle+Math.PI/2;h=c*f.r,d=g*f.r,n=(g-c)*f.r;var p=this._getPaddingSize(l,s,s.valuesOnTicks,n,!0,f.isClosedCircle,this._hasColumnSeries());f.isClosedCircle?(n-=p.left+p.right,d-=p.left+p.right):s.valuesOnTicks||(h+=p.left,d-=p.right)}else{if("horizontal"!=r.orientation){if(t<a.x||t>a.x+a.width)return NaN;o=t-a.x,n=a.width}else{if(t<a.y||t>a.y+a.height)return NaN;o=t-a.y,n=a.height}if(this._renderData[i]&&this._renderData[i].xoffsets){var p=this._renderData[i].xoffsets.padding;n-=p.left+p.right,o-=p.left}d=n}return this._jqxPlot.scale(o,{min:h,max:d},{min:l.min.valueOf(),max:l.max.valueOf(),type:l.logAxis.enabled?"logarithmic":"linear",base:l.logAxis.base,flip:s.flip})}},getValueAxisValue:function(t,i){var r=this.seriesGroups[i];if(r){var s=this._getValueAxis(i),a=this._plotRect,n=0,o=NaN;if(r.polar||r.spider){if(isNaN(t.x)||isNaN(t.y))return NaN;var l=this._getPolarAxisCoords(i,a);o=e.jqx._ptdist(t.x,t.y,l.x,l.y),n=l.r,o=n-o}else if("horizontal"==r.orientation){if(t<a.x||t>a.x+a.width)return NaN;o=t-a.x,n=a.width}else{if(t<a.y||t>a.y+a.height)return NaN;o=t-a.y,n=a.height}var h=this._stats.seriesGroups[i];return this._jqxPlot.scale(o,{min:0,max:n},{min:h.min.valueOf(),max:h.max.valueOf(),type:h.logarithmic?"logarithmic":"linear",base:h.logBase,flip:!s.flip})}},_detectDateFormat:function(t,i){var r={en_US_d:"M/d/yyyy",en_US_D:"dddd, MMMM dd, yyyy",en_US_t:"h:mm tt",en_US_T:"h:mm:ss tt",en_US_f:"dddd, MMMM dd, yyyy h:mm tt",en_US_F:"dddd, MMMM dd, yyyy h:mm:ss tt",en_US_M:"MMMM dd",en_US_Y:"yyyy MMMM",en_US_S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",en_CA_d:"dd/MM/yyyy",en_CA_D:"MMMM-dd-yy",en_CA_f:"MMMM-dd-yy h:mm tt",en_CA_F:"MMMM-dd-yy h:mm:ss tt",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",de_DE_d:"dd.MM.yyyy",de_DE_D:"dddd, d. MMMM yyyy",de_DE_t:"HH:mm",de_DE_T:"HH:mm:ss",de_DE_f:"dddd, d. MMMM yyyy HH:mm",de_DE_F:"dddd, d. MMMM yyyy HH:mm:ss",de_DE_M:"dd MMMM",de_DE_Y:"MMMM yyyy",fr_FR_d:"dd/MM/yyyy",fr_FR_D:"dddd d MMMM yyyy",fr_FR_t:"HH:mm",fr_FR_T:"HH:mm:ss",fr_FR_f:"dddd d MMMM yyyy HH:mm",fr_FR_F:"dddd d MMMM yyyy HH:mm:ss",fr_FR_M:"d MMMM",fr_FR_Y:"MMMM yyyy",it_IT_d:"dd/MM/yyyy",it_IT_D:"dddd d MMMM yyyy",it_IT_t:"HH:mm",it_IT_T:"HH:mm:ss",it_IT_f:"dddd d MMMM yyyy HH:mm",it_IT_F:"dddd d MMMM yyyy HH:mm:ss",it_IT_M:"dd MMMM",it_IT_Y:"MMMM yyyy",ru_RU_d:"dd.MM.yyyy",ru_RU_D:"d MMMM yyyy '?.'",ru_RU_t:"H:mm",ru_RU_T:"H:mm:ss",ru_RU_f:"d MMMM yyyy '?.' H:mm",ru_RU_F:"d MMMM yyyy '?.' H:mm:ss",ru_RU_Y:"MMMM yyyy",cs_CZ_d:"d.M.yyyy",cs_CZ_D:"d. MMMM yyyy",cs_CZ_t:"H:mm",cs_CZ_T:"H:mm:ss",cs_CZ_f:"d. MMMM yyyy H:mm",cs_CZ_F:"d. MMMM yyyy H:mm:ss",cs_CZ_M:"dd MMMM",cs_CZ_Y:"MMMM yyyy",he_IL_d:"dd MMMM yyyy",he_IL_D:"dddd dd MMMM yyyy",he_IL_t:"HH:mm",he_IL_T:"HH:mm:ss",he_IL_f:"dddd dd MMMM yyyy HH:mm",he_IL_F:"dddd dd MMMM yyyy HH:mm:ss",he_IL_M:"dd MMMM",he_IL_Y:"MMMM yyyy",hr_HR_d:"d.M.yyyy.",hr_HR_D:"d. MMMM yyyy.",hr_HR_t:"H:mm",hr_HR_T:"H:mm:ss",hr_HR_f:"d. MMMM yyyy. H:mm",hr_HR_F:"d. MMMM yyyy. H:mm:ss",hr_HR_M:"d. MMMM",hu_HU_d:"yyyy.MM.dd.",hu_HU_D:"yyyy. MMMM d.",hu_HU_t:"H:mm",hu_HU_T:"H:mm:ss",hu_HU_f:"yyyy. MMMM d. H:mm",hu_HU_F:"yyyy. MMMM d. H:mm:ss",hu_HU_M:"MMMM d.",hu_HU_Y:"yyyy. MMMM",jp_JP_d:"gg y/M/d",jp_JP_D:"gg y'?'M'?'d'?'",jp_JP_t:"H:mm",jp_JP_T:"H:mm:ss",jp_JP_f:"gg y'?'M'?'d'?' H:mm",jp_JP_F:"gg y'?'M'?'d'?' H:mm:ss",jp_JP_M:"M'?'d'?'",jp_JP_Y:"gg y'?'M'?'",lt_LT_d:"yyyy.MM.dd",lt_LT_D:"yyyy 'm.' MMMM d 'd.'",lt_LT_t:"HH:mm",lt_LT_T:"HH:mm:ss",lt_LT_f:"yyyy 'm.' MMMM d 'd.' HH:mm",lt_LT_F:"yyyy 'm.' MMMM d 'd.' HH:mm:ss",lt_LT_M:"MMMM d 'd.'",lt_LT_Y:"yyyy 'm.' MMMM",sa_IN_d:"dd-MM-yyyy",sa_IN_D:"dd MMMM yyyy dddd",sa_IN_t:"HH:mm",sa_IN_T:"HH:mm:ss",sa_IN_f:"dd MMMM yyyy dddd HH:mm",sa_IN_F:"dd MMMM yyyy dddd HH:mm:ss",sa_IN_M:"dd MMMM",basic_y:"yyyy",basic_ym:"yyyy-MM",basic_d:"yyyy-MM-dd",basic_dhm:"yyyy-MM-dd hh:mm",basic_bhms:"yyyy-MM-dd hh:mm:ss",basic2_ym:"MM-yyyy",basic2_d:"MM-dd-yyyy",basic2_dhm:"MM-dd-yyyy hh:mm",basic2_dhms:"MM-dd-yyyy hh:mm:ss",basic3_ym:"yyyy/MM",basic3_d:"yyyy/MM/dd",basic3_dhm:"yyyy/MM/dd hh:mm",basic3_bhms:"yyyy/MM/dd hh:mm:ss",basic4_ym:"MM/yyyy",basic4_d:"MM/dd/yyyy",basic4_dhm:"MM/dd/yyyy hh:mm",basic4_dhms:"MM/dd/yyyy hh:mm:ss"};i&&(r=e.extend({},r,i));var s=[];e.isArray(t)?s=t:s.push(t);for(var a in r)r[a]={format:r[a],count:0};for(var n=0;n<s.length;n++)if(value=s[n],null!=value&&void 0!=value)for(var a in r){var o=e.jqx.dataFormat.parsedate(value,r[a].format);null!=o&&r[a].count++}var l={key:void 0,count:0};for(var a in r)r[a].count>l.count&&(l.key=a,l.count=r[a].count);return l.key?r[l.key].format:""},_testXAxisDateFormat:function(e){var t=this,i=t._getXAxis(e),r=t._getDataLen(e),s={};if(t.localization&&t.localization.patterns)for(var a in t.localization.patterns)s["local_"+a]=t.localization.patterns[a];for(var n=[],o=0;o<r&&o<10;o++)value=t._getDataValue(o,i.dataField,e),null!=value&&void 0!=value&&n.push(value);return t._detectDateFormat(n,s)}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleApi:!0,getItemsCount:function(e,t){var i=this.seriesGroups[e];if(!this._isSerieVisible(e,t))return 0;var r=this._renderData;return!i||!r||r.length<=e?0:i.series[t]?r[e].offsets[t].length:0},getXAxisRect:function(e){var t=this._renderData;if(t&&!(t.length<=e)&&t[e].xAxis)return t[e].xAxis.rect},getXAxisLabels:function(e){var t=[],i=this._renderData;if(!i||i.length<=e)return t;if(!(i=i[e].xAxis))return t;var r=this.seriesGroups[e];if(r.polar||r.spider){for(var s=0;s<i.polarLabels.length;s++){var a=i.polarLabels[s];t.push({offset:{x:a.x,y:a.y},value:a.value})}return t}for(var n=this._getXAxis(e),o=this.getXAxisRect(e),l="top"==n.position||"right"==n.position,h="horizontal"==r.orientation,s=0;s<i.data.length;s++)h?t.push({offset:{x:o.x+(l?0:o.width),y:o.y+i.data.data[s]},value:i.data.xvalues[s]}):t.push({offset:{x:o.x+i.data.data[s],y:o.y+(l?o.height:0)},value:i.data.xvalues[s]});return t},getValueAxisRect:function(e){var t=this._renderData;if(t&&!(t.length<=e)&&t[e].valueAxis)return t[e].valueAxis.rect},getValueAxisLabels:function(e){var t=[],i=this._renderData;if(!i||i.length<=e)return t;if(!(i=i[e].valueAxis))return t;var r=this._getValueAxis(e),s="top"==r.position||"right"==r.position,a=this.seriesGroups[e],n="horizontal"==a.orientation;if(a.polar||a.spider){for(var o=0;o<i.polarLabels.length;o++){var l=i.polarLabels[o];t.push({offset:{x:l.x,y:l.y},value:l.value})}return t}for(var o=0;o<i.items.length;o++)n?t.push({offset:{x:i.itemOffsets[i.items[o]].x+i.itemWidth/2,
y:i.rect.y+(s?i.rect.height:0)},value:i.items[o]}):t.push({offset:{x:i.rect.x+i.rect.width,y:i.itemOffsets[i.items[o]].y+i.itemWidth/2},value:i.items[o]});return t},getPlotAreaRect:function(){return this._plotRect},getRect:function(){return this._rect},showToolTip:function(e,t,i,r,s){var a=this.getItemCoord(e,t,i);isNaN(a.x)||isNaN(a.y)||this._startTooltipTimer(e,t,i,a.x,a.y,r,s)},hideToolTip:function(e){isNaN(e)&&(e=0);var t=this;t._cancelTooltipTimer(),setTimeout(function(){t._hideToolTip(0)},e)}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleRangeSelector:!0,_renderXAxisRangeSelector:function(t,i){var r=this;r._isTouchDevice=e.jqx.mobile.isTouchDevice();var s=r.seriesGroups[t],a=r._getXAxis(t),n=a?a.rangeSelector:void 0;if(!r._isSelectorRefresh){(n&&n.renderTo?n.renderTo:r.host).find(".rangeSelector").remove()}if(!a||0==a.visible||"spider"==s.type)return!1;if(!r._isGroupVisible(t))return!1;if(!n)return!1;var o="horizontal"==s.orientation;n.renderTo&&(o=!1),r.rtl&&(a.flip=!0);var l=o?this.host.height():this.host.width();l-=4;var h=this._getXAxisStats(t,a,l),d=a.position;if(n.renderTo&&n.position&&(d=n.position),!this._isSelectorRefresh){var f=n.renderTo,u=e("<div class='rangeSelector jqx-disableselect' style='position: absolute; background-color: transparent;' onselectstart='return false;'></div>").appendTo(f||this.renderer.getContainer());if(f)u.css({width:f.width(),height:f.height()}),i.width=f.width(),i.height=f.height();else{var c=this.host.coord();c.top=0,c.left=0,selectorSize=this._selectorGetSize(a),o?(u.css("left",c.left+1+i.x+("right"!=d?-selectorSize:i.width)),u.css("top",c.top),u.css("height",l),u.css("width",selectorSize),i.height=selectorSize):(u.css("left",c.left+1),u.css("top",c.top+i.y+("top"!=d?i.height:-selectorSize)),u.css("height",selectorSize),u.css("width",l))}this._refreshSelector(t,a,h,u,i,o)}return this._isSelectorRefresh=!1,!0},_refreshSelector:function(t,i,r,s,a,n){var o={},l=i.rangeSelector;this.seriesGroups[t];for(var h in l)o[h]=l[h];delete o.padding;var d=o.minValue,f=o.maxValue;void 0==d&&(d=Math.min(r.min.valueOf(),r.dsRange.min.valueOf())),void 0==f&&(f=Math.max(r.max.valueOf(),r.dsRange.max.valueOf())),this._isDate(r.min)&&(d=new Date(d)),this._isDate(r.max)&&(f=new Date(f));var u=i.position;l.renderTo&&l.position&&(u=l.position),o.dataField=i.dataField,delete o.rangeSelector,o.type=i.type,o.baseUnit=l.baseUnit||i.baseUnit,o.minValue=d,o.maxValue=f,o.flip=i.flip,o.position=u;var c=2,g=2,p=2,x=2;l.renderTo||(c=n?0:a.x,g=n?0:this._rect.width-a.x-a.width,p=n?a.y:5,x=n?this._paddedRect.height-this._plotRect.height:5);var m=l.padding;m=void 0!=m||l.renderTo?{left:m&&m.left?m.left:c,top:m&&m.top?m.top:p,right:m&&m.right?m.right:g,bottom:m&&m.bottom?m.bottom:x}:{left:c,top:p,right:g,bottom:x};for(var v=i.rangeSelector.dataField,h=0;void 0==v&&h<this.seriesGroups.length;h++)for(var _=0;void 0==v&&_<this.seriesGroups[h].series.length;_++)v=this.seriesGroups[h].series[_].dataField;var y={padding:m,_isRangeSelectorInstance:!0,title:l.title||"",description:l.description||"",titlePadding:l.titlePadding,colorScheme:l.colorScheme||this.colorScheme,backgroundColor:l.backgroundColor||this.backgroundColor||"transparent",backgroundImage:l.backgroundImage||"",showBorderLine:l.showBorderLine||!!l.renderTo,borderLineWidth:l.borderLineWidth||this.borderLineWidth,borderLineColor:l.borderLineColor||this.borderLineColor,rtl:l.rtl||this.rtl,greyScale:l.greyScale||this.greyScale,renderEngine:this.renderEngine,showLegend:!1,enableAnimations:!1,enableEvents:!1,showToolTips:!1,source:this.source,xAxis:o,seriesGroups:[{orientation:n?"horizontal":"vertical",valueAxis:{visible:!1},type:i.rangeSelector.serieType||"area",skipOverlappingPoints:e.jqx.getByPriority([i.rangeSelector.skipOverlappingPoints,!0]),columnSeriesOverlap:e.jqx.getByPriority([i.rangeSelector.columnSeriesOverlap,!1]),columnsGapPercent:e.jqx.getByPriority([i.rangeSelector.columnsGapPercent,25]),seriesGapPercent:e.jqx.getByPriority([i.rangeSelector.seriesGapPercent,25]),series:[{dataField:v,opacity:.8,lineWidth:1}]}]};y.showBorderLine||(y.borderLineWidth=1,y.borderLineColor=e.jqx.getByPriority([this.backgroundColor,this.background,"#FFFFFF"]),y.showBorderLine=!0);var b=this;b._supressBindingRefresh=!0,s.empty(),s.jqxChart(y),b._rangeSelectorInstances[t]=s,b._supressBindingRefresh=!1,s.on(b._getEvent("mousemove"),function(){b._unselect(),b._hideToolTip()});var M=s.jqxChart("getInstance");if(M._plotRect){var N=M._paddedRect;if(N.height=M._plotRect.height,n||"top"!=u){if(n){var w=M._renderData[0].xAxis.rect.width;N.width-=w,"right"!=u&&(N.x+=w)}}else N.y+=M._renderData[0].xAxis.rect.height;b._createSliderElements(t,s,N,l),b.removeHandler(e(document),b._getEvent("mousemove")+"."+this.element.id,b._onSliderMouseMove),b.removeHandler(e(document),b._getEvent("mousedown"),b._onSliderMouseDown),b.removeHandler(e(document),b._getEvent("mouseup")+"."+this.element.id,b._onSliderMouseUp),b.addHandler(e(document),b._getEvent("mousemove")+"."+this.element.id,b._onSliderMouseMove,{self:this,groupIndex:t,renderTo:s,swapXY:n}),b.addHandler(e(s),b._getEvent("mousedown"),this._onSliderMouseDown,{self:this,groupIndex:t,renderTo:s,swapXY:n}),b.addHandler(e(document),b._getEvent("mouseup")+"."+this.element.id,b._onSliderMouseUp,{element:this.element.id,self:this,groupIndex:t,renderTo:s,swapXY:n})}},_createSliderElements:function(t,i,r,s){i.find(".slider").remove();var a=s.selectedRangeColor||"blue",n=e.jqx.getByPriority([s.selectedRangeOpacity,.1]),o=e.jqx.getByPriority([s.unselectedRangeOpacity,.5]),l=s.unselectedRangeColor||"white",h=s.rangeLineColor||"grey",d=e("<div class='slider' style='position: absolute;'></div>");for(d.css({background:a,opacity:n,left:r.x,top:r.y,width:r.width,height:r.height}),d.appendTo(i);this._sliders.length<t+1;)this._sliders.push({});var f="<div class='slider' style='position: absolute;  background: "+l+"; opacity: "+o+";'></div>",u="<div class='slider' style='position: absolute; background:"+h+"; opacity: "+o+";'></div>",c="<div class='slider jqx-rc-all' style='position: absolute; background: white; border-style: solid; border-width: 1px; border-color: "+h+";'></div>";this._sliders[t]={element:d,host:i,_sliderInitialAbsoluteRect:{x:d.coord().left,y:d.coord().top,width:r.width,height:r.height},_hostInitialAbsolutePos:{x:i.coord().left,y:i.coord().top},getRect:function(){return{x:this.host.coord().left-this._hostInitialAbsolutePos.x+this._sliderInitialAbsoluteRect.x,y:this.host.coord().top-this._hostInitialAbsolutePos.y+this._sliderInitialAbsoluteRect.y,width:this._sliderInitialAbsoluteRect.width,height:this._sliderInitialAbsoluteRect.height}},rect:r,left:e(f),right:e(f),leftTop:e(u),rightTop:e(u),leftBorder:e(u),leftBar:e(c),rightBorder:e(u),rightBar:e(c)},this._sliders[t].left.appendTo(i),this._sliders[t].right.appendTo(i),this._sliders[t].leftTop.appendTo(i),this._sliders[t].rightTop.appendTo(i),this._sliders[t].leftBorder.appendTo(i),this._sliders[t].rightBorder.appendTo(i),this._sliders[t].leftBar.appendTo(i),this._sliders[t].rightBar.appendTo(i);var g=this._renderData[t].xAxis,p=g.data.axisStats,x=p.min.valueOf(),m=p.max.valueOf(),v=this._valueToOffset(t,x),_=this._valueToOffset(t,m);if(v>_){var y=_;_=v,v=y}"horizontal"!=this.seriesGroups[t].orientation?d.css({left:Math.round(r.x+v),top:r.y,width:Math.round(_-v),height:r.height}):d.css({top:Math.round(r.y+v),left:r.x,height:Math.round(_-v),width:r.width}),this._setSliderPositions(t,v,_)},_setSliderPositions:function(e,t,i){var r=this.seriesGroups[e],s=this._getXAxis(e),a=s.rangeSelector,n="horizontal"==r.orientation;s.rangeSelector.renderTo&&(n=!1);var o=s.position;a.renderTo&&a.position&&(o=a.position);var l=this._sliders[e],h=n?"top":"left",d=n?"left":"top",f=n?"height":"width",u=n?"width":"height",c=n?"y":"x",g=n?"x":"y",p=l.rect;l.startOffset=t,l.endOffset=i,l.left.css(h,p[c]),l.left.css(d,p[g]),l.left.css(f,t),l.left.css(u,p[u]),l.right.css(h,p[c]+i),l.right.css(d,p[g]),l.right.css(f,p[f]-i+1),l.right.css(u,p[u]),l.leftTop.css(h,p[c]),l.leftTop.css(d,p[g]+(n&&"right"==o||!n&&"top"!=o?0:p[u])),l.leftTop.css(f,t),l.leftTop.css(u,1),l.rightTop.css(h,p[c]+i),l.rightTop.css(d,p[g]+(n&&"right"==o||!n&&"top"!=o?0:p[u])),l.rightTop.css(f,p[f]-i+1),l.rightTop.css(u,1),l.leftBorder.css(h,p[c]+t),l.leftBorder.css(d,p[g]),l.leftBorder.css(f,1),l.leftBorder.css(u,p[u]);var x=p[u]/4;x>20&&(x=20),x<3&&(x=3),l.leftBar.css(h,p[c]+t-3),l.leftBar.css(d,p[g]+p[u]/2-x/2),l.leftBar.css(f,5),l.leftBar.css(u,x),l.rightBorder.css(h,p[c]+i),l.rightBorder.css(d,p[g]),l.rightBorder.css(f,1),l.rightBorder.css(u,p[u]),l.rightBar.css(h,p[c]+i-3),l.rightBar.css(d,p[g]+p[u]/2-x/2),l.rightBar.css(f,5),l.rightBar.css(u,x)},_resizeState:{},_onSliderMouseDown:function(t){t.stopImmediatePropagation(),t.stopPropagation();var i=t.data.self;i._sliders[t.data.groupIndex]&&(void 0==i._resizeState.state&&i._testAndSetReadyResize(t),"ready"==i._resizeState.state&&(e.jqx._rangeSelectorTarget=i,i._resizeState.state="resizing"))},_valueToOffset:function(e,t){var i=this.seriesGroups[e],r=this._sliders[e],s=r.host.jqxChart("getInstance"),a=s._renderData[0].xAxis,n=a.data.axisStats,o=n.min.valueOf(),l=n.max.valueOf(),h=l-o;0==h&&(h=1);var d=this._getXAxis(e),f="horizontal"==i.orientation?"height":"width",u=(t.valueOf()-o)/h;return r.getRect()[f]*(d.flip?1-u:u)},_offsetToValue:function(e,t){var i=this._sliders[e],r=this.seriesGroups[e],s=this._getXAxis(e),a="horizontal"==r.orientation?"height":"width",n=i.getRect()[a];0==n&&(n=1);var o=i.host.jqxChart("getInstance"),l=o._renderData[0].xAxis,h=l.data.axisStats,d=h.min.valueOf(),f=h.max.valueOf(),u=t/n*(f-d)+d;return 1==s.flip&&(u=f-t/n*(f-d)),this._isDate(h.min)||this._isDate(h.max)?u=new Date(u):((void 0==s.dataField||h.useIndeces)&&(u=Math.round(u)),u<h.min&&(u=h.min),u>h.max&&(u=h.max)),u},_onSliderMouseUp:function(t){var i=e.jqx._rangeSelectorTarget;if(i){var r=t.data.groupIndex,s=t.data.swapXY,a=i._sliders[r];if(a&&"resizing"==i._resizeState.state){t.stopImmediatePropagation(),t.stopPropagation(),i._resizeState={},i.host.css("cursor","default");var n=s?"top":"left",o=s?"y":"x",l=a.element.coord()[n],h=l+(s?a.element.height():a.element.width()),d=a.getRect(),f=i._offsetToValue(r,l-d[o]),u=i._offsetToValue(r,h-d[o]);!a.host.jqxChart("getInstance")._renderData[0].xAxis.data.axisStats.isTimeUnit&&u.valueOf()-f.valueOf()>864e5&&(f.setHours(0,0,0,0),u.setDate(u.getDate()+1),u.setHours(0,0,0,0));var c=i._getXAxis(r);if(c.flip){var g=f;f=u,u=g}for(var p=0;p<i.seriesGroups.length;p++){i._getXAxis(p)==c&&(i._selectorRange[p]={min:f,max:u})}i._isSelectorRefresh=!0;var x=i.enableAnimations;i._raiseEvent("rangeSelectionChanging",{instance:i,minValue:f,maxValue:u}),i.enableAnimations=!1,i.update(),i.enableAnimations=x,i._raiseEvent("rangeSelectionChanged",{instance:i,minValue:f,maxValue:u})}}},_onSliderMouseMove:function(t){var i=t.data.self,r=(t.data.renderTo,t.data.groupIndex),s=i._sliders[r],a=t.data.swapXY;if(s){var n=s.getRect(),o=s.element,l=e.jqx.position(t),h=o.coord(),d=a?"top":"left",f=a?"height":"width",u=a?"y":"x";if("resizing"==i._resizeState.state){if(t.stopImmediatePropagation(),t.stopPropagation(),"left"==i._resizeState.side){var c=Math.round(l[d]-h[d]),g=n[u];if(h[d]+c>=g&&h[d]+c<=g+n[f]){var p=parseInt(o.css(d)),x=Math.max(2,(a?o.height():o.width())-c);o.css(f,x),o.css(d,p+c)}}else if("right"==i._resizeState.side){var m=a?o.height():o.width(),c=Math.round(l[d]-h[d]-m),g=n[u];if(h[d]+m+c>=g&&h[d]+c+m<=g+n[f]){var x=Math.max(2,m+c);o.css(f,x)}}else if("move"==i._resizeState.side){var m=a?o.height():o.width(),p=parseInt(o.css(d)),c=Math.round(l[d]-i._resizeState.startPos);h[d]+c>=n[u]&&h[d]+c+m<=n[u]+n[f]&&(i._resizeState.startPos=l[d],o.css(d,p+c))}var v=parseInt(o.css(d))-s.rect[u],_=v+(a?o.height():o.width());i._setSliderPositions(r,v,_)}else i._testAndSetReadyResize(t)}},_testAndSetReadyResize:function(t){var i=t.data.self,r=t.data.renderTo,s=t.data.groupIndex,a=i._sliders[s],n=t.data.swapXY,o=a.getRect(),l=a.element,h=e.jqx.position(t),d=l.coord(),f=n?"left":"top",u=n?"top":"left",c=n?"width":"height",g=i._isTouchDevice?30:5;h[f]>=d[f]&&h[f]<=d[f]+o[c]?Math.abs(h[u]-d[u])<=g?(r.css("cursor",n?"row-resize":"col-resize"),i._resizeState={state:"ready",side:"left"}):Math.abs(h[u]-d[u]-(n?l.height():l.width()))<=g?(r.css("cursor",n?"row-resize":"col-resize"),i._resizeState={state:"ready",side:"right"}):h[u]+g>d[u]&&h[u]-g<d[u]+(n?l.height():l.width())?(r.css("cursor","pointer"),i._resizeState={state:"ready",side:"move",startPos:h[u]}):(r.css("cursor","default"),i._resizeState={}):(r.css("cursor","default"),i._resizeState={})},_selectorGetSize:function(e){return e.rangeSelector.renderTo?0:e.rangeSelector.size||this._paddedRect.height/3}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleAnnotations:!0,_renderAnnotation:function(e,t,i){var r=this.seriesGroups[e],s=this.renderer;if(!isNaN(e)){var a=this._get([this.getXAxisDataPointOffset(t.xValue,e),t.x]),n=this._get([this.getValueAxisDataPointOffset(t.yValue,e),t.y]),o=this._get([this.getXAxisDataPointOffset(t.xValue2,e),t.x2]),l=this._get([this.getValueAxisDataPointOffset(t.yValue2,e),t.y2]);if(r.polar||r.spider){var h=this.getPolarDataPointOffset(t.xValue,t.yValue,e);!h||isNaN(h.x)||isNaN(h.y)?(a=t.x,n=t.y):(a=h.x,n=h.y)}if(isNaN(n)||isNaN(a))return!1;if("horizontal"==r.orientation){var d=a;a=n,n=d,d=o,o=l,l=d}t.offset&&(isNaN(t.offset.x)||(a+=t.offset.x,o+=t.offset.x),isNaN(t.offset.y)||(n+=t.offset.y,l+=t.offset.y));var f,u=this._get([t.width,o-a]),c=this._get([t.height,l-n]);switch(t.type){case"rect":f=s.rect(a,n,u,c);break;case"circle":f=s.rect(a,n,t.radius);break;case"line":f=s.rect(a,n,o,l);break;case"path":f=s.path(t.path)}s.attr(f,{fill:t.fillColor,stroke:t.lineColor,opacity:this._get([t.fillOpacity,t.opacity]),"stroke-opacity":this._get([t.lineOpacity,t.opacity]),"stroke-width":t.lineWidth,"stroke-dasharray":t.dashStyle||"none"});var g;if(t.text){var p=t.text,x=0,m=0;p.offset&&(isNaN(p.offset.x)||(x+=p.offset.x),isNaN(p.offset.y)||(m+=p.offset.y)),g=s.text(p.value,a+x,n+m,NaN,NaN,p.angle,{},!0===p.clip,p.horizontalAlignment||"center",p.verticalAlignment||"center",p.rotationPoint||"centermiddle"),s.attr(g,{fill:p.fillColor,stroke:p.lineColor,class:p.class})}for(var v=["click","mouseenter","mouseleave"],_=this,y=0;y<v.length;y++){var b=this._getEvent(v[y])||v[y];f&&this.renderer.addHandler(f,b,function(){_._raiseAnnotationEvent(t,b)}),g&&this.renderer.addHandler(g,b,function(){_._raiseAnnotationEvent(t,b)})}}},_raiseAnnotationEvent:function(e,t){this._raiseEvent("annotation_"+t,{annotation:e})}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleWaterfall:!0,_isSummary:function(e,t){for(var i=this.seriesGroups[e],r=0;r<i.series.length;r++)if(void 0!==i.series[r].summary&&(summaryValue=this._getDataValue(t,i.series[r].summary,e),void 0!==summaryValue))return!0;return!1},_applyWaterfall:function(e,t,i,r,s,a,n,o,l){var h=this.seriesGroups[i];if(0==e.length)return e;for(var d=r,f={},u=[],c=void 0,g=[],p=0;p<h.series.length;p++)g.push(this._isSerieVisible(i,p));for(var x={},m=0;m<t;m++)for(var v=r,_=0,y=this._isSummary(i,m),p=0;p<e.length;p++)if(g[p]){var b=0;if(y){b=v==r?s:0,e[p][m].value=f[p],e[p][m].summary=!0,c=e[p][m].value<b,o&&(c=!c);var M=0;M=isNaN(a)?this._getDataPointOffsetDiff(e[p][m].value,b,b,NaN,n,r,o):this._getDataPointOffsetDiff(e[p][m].value+_,0==_?s:_,b||s,a,n,r,o),e[p][m].to=v+(c?M:-M),e[p][m].from=v,l&&(_+=e[p][m].value,v=e[p][m].to)}else{var N=l?-1:p;if(!isNaN(e[p][m].value)){void 0===x[N]&&(b=s,x[N]=!0),c=e[p][m].value<b,o&&(c=!c);var w=NaN,M=NaN;w=l?d:0==m?r:e[p][u[p]].to;var M=0;M=isNaN(a)?this._getDataPointOffsetDiff(e[p][m].value,b,b,NaN,n,r,o):this._getDataPointOffsetDiff(e[p][m].value+(isNaN(f[N])?0:f[N]),isNaN(f[N])?s:f[N],b||s,a,n,w,o),e[p][m].to=d=w+(c?M:-M),e[p][m].from=w,isNaN(f[N])?f[N]=e[p][m].value:f[N]+=e[p][m].value,-1==N&&(isNaN(f[p])?f[p]=e[p][m].value:f[p]+=e[p][m].value),l||(u[p]=m)}}}return e}})}(jqxBaseFramework);