function Base64(){_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",this.encode=function(r){var e,t,o,a,n,c,h,d="",C=0;for(r=_utf8_encode(r);C<r.length;)e=r.charCodeAt(C++),t=r.charCodeAt(C++),o=r.charCodeAt(C++),a=e>>2,n=(3&e)<<4|t>>4,c=(15&t)<<2|o>>6,h=63&o,isNaN(t)?c=h=64:isNaN(o)&&(h=64),d=d+_keyStr.charAt(a)+_keyStr.charAt(n)+_keyStr.charAt(c)+_keyStr.charAt(h);return d},this.decode=function(r){var e,t,o,a,n,c,h,d="",C=0;for(r=r.replace(/[^A-Za-z0-9\+\/\=]/g,"");C<r.length;)a=_keyStr.indexOf(r.charAt(C++)),n=_keyStr.indexOf(r.charAt(C++)),c=_keyStr.indexOf(r.charAt(C++)),h=_keyStr.indexOf(r.charAt(C++)),e=a<<2|n>>4,t=(15&n)<<4|c>>2,o=(3&c)<<6|h,d+=String.fromCharCode(e),64!=c&&(d+=String.fromCharCode(t)),64!=h&&(d+=String.fromCharCode(o));return d=_utf8_decode(d)},_utf8_encode=function(r){r=r.replace(/\r\n/g,"\n");for(var e="",t=0;t<r.length;t++){var o=r.charCodeAt(t);o<128?e+=String.fromCharCode(o):o>127&&o<2048?(e+=String.fromCharCode(o>>6|192),e+=String.fromCharCode(63&o|128)):(e+=String.fromCharCode(o>>12|224),e+=String.fromCharCode(o>>6&63|128),e+=String.fromCharCode(63&o|128))}return e},_utf8_decode=function(r){for(var e="",t=0,o=c1=c2=0;t<r.length;)o=r.charCodeAt(t),o<128?(e+=String.fromCharCode(o),t++):o>191&&o<224?(c2=r.charCodeAt(t+1),e+=String.fromCharCode((31&o)<<6|63&c2),t+=2):(c2=r.charCodeAt(t+1),c3=r.charCodeAt(t+2),e+=String.fromCharCode((15&o)<<12|(63&c2)<<6|63&c3),t+=3);return e}}
!function($){function loadAndParseFile(e,r){$.ajax({url:e,async:!1,cache:r.cache,contentType:"text/plain;charset="+r.encoding,dataType:"text",success:function(e,a){parseData(e,r.mode)}})}function parseData(data,mode){for(var parsed="",parameters=data.split(/\n/),regPlaceHolder=/(\{\d+\})/g,regRepPlaceHolder=/\{(\d+)\}/g,unicodeRE=/(\\u.{4})/gi,i=0;i<parameters.length;i++)if(parameters[i]=parameters[i].replace(/^\s\s*/,"").replace(/\s\s*$/,""),parameters[i].length>0&&"#"!=parameters[i].match("^#")){var pair=parameters[i].split("=");if(pair.length>0){for(var name=unescape(pair[0]).replace(/^\s\s*/,"").replace(/\s\s*$/,""),value=1==pair.length?"":pair[1];"\\"==value.match(/\\$/);)value=value.substring(0,value.length-1),value+=parameters[++i].replace(/\s\s*$/,"");for(var s=2;s<pair.length;s++)value+="="+pair[s];if(value=value.replace(/^\s\s*/,"").replace(/\s\s*$/,""),"map"==mode||"both"==mode){var unicodeMatches=value.match(unicodeRE);if(unicodeMatches)for(var u=0;u<unicodeMatches.length;u++)value=value.replace(unicodeMatches[u],unescapeUnicode(unicodeMatches[u]));$.i18n.map[name]=value}if("vars"==mode||"both"==mode)if(value=value.replace(/"/g,'\\"'),checkKeyNamespace(name),regPlaceHolder.test(value)){for(var parts=value.split(regPlaceHolder),first=!0,fnArgs="",usedArgs=[],p=0;p<parts.length;p++)!regPlaceHolder.test(parts[p])||0!=usedArgs.length&&-1!=usedArgs.indexOf(parts[p])||(first||(fnArgs+=","),fnArgs+=parts[p].replace(regRepPlaceHolder,"v$1"),usedArgs.push(parts[p]),first=!1);parsed+=name+"=function("+fnArgs+"){";var fnExpr='"'+value.replace(regRepPlaceHolder,'"+v$1+"')+'"';parsed+="return "+fnExpr+";};"}else parsed+=name+'="'+value+'";'}}eval(parsed)}function checkKeyNamespace(key){var regDot=/\./;if(regDot.test(key))for(var fullname="",names=key.split(/\./),i=0;i<names.length;i++)i>0&&(fullname+="."),fullname+=names[i],eval("typeof "+fullname+' == "undefined"')&&eval(fullname+"={};")}function getFiles(e){return e&&e.constructor==Array?e:[e]}function normaliseLanguageCode(e){return e=e.toLowerCase(),e.length>3&&(e=e.substring(0,3)+e.substring(3).toUpperCase()),e}function unescapeUnicode(e){var r=[],a=parseInt(e.substr(2),16);a>=0&&a<Math.pow(2,16)&&r.push(a);for(var t="",n=0;n<r.length;++n)t+=String.fromCharCode(r[n]);return t}$.i18n={},$.i18n.map={},$.i18n.properties=function(e){var r={name:"Messages",language:"",path:"",mode:"vars",cache:!1,encoding:"UTF-8",callback:null};e=$.extend(r,e),null!==e.language&&""!=e.language||(e.language=$.i18n.browserLang()),null===e.language&&(e.language="");var a=getFiles(e.name);for(i=0;i<a.length;i++)loadAndParseFile(e.path+a[i]+"_"+e.language+".properties",e);e.callback&&e.callback()},$.i18n.prop=function(e,r){var a=$.i18n.map[e];if(null==a)return"["+e+"]";var t;2==arguments.length&&$.isArray(arguments[1])&&(t=arguments[1]);var n;if("string"==typeof a){for(n=0;-1!=(n=a.indexOf("\\",n));)a="t"==a.charAt(n+1)?a.substring(0,n)+"\t"+a.substring(2+n++):"r"==a.charAt(n+1)?a.substring(0,n)+"\r"+a.substring(2+n++):"n"==a.charAt(n+1)?a.substring(0,n)+"\n"+a.substring(2+n++):"f"==a.charAt(n+1)?a.substring(0,n)+"\f"+a.substring(2+n++):"\\"==a.charAt(n+1)?a.substring(0,n)+"\\"+a.substring(2+n++):a.substring(0,n)+a.substring(n+1);var s,i,l=[];for(n=0;n<a.length;)if("'"==a.charAt(n))if(n==a.length-1)a=a.substring(0,n);else if("'"==a.charAt(n+1))a=a.substring(0,n)+a.substring(++n);else{for(s=n+2;-1!=(s=a.indexOf("'",s));){if(s==a.length-1||"'"!=a.charAt(s+1)){a=a.substring(0,n)+a.substring(n+1,s)+a.substring(s+1),n=s-1;break}a=a.substring(0,s)+a.substring(++s)}-1==s&&(a=a.substring(0,n)+a.substring(n+1))}else if("{"==a.charAt(n))if(-1==(s=a.indexOf("}",n+1)))n++;else if(i=parseInt(a.substring(n+1,s)),!isNaN(i)&&i>=0){var u=a.substring(0,n);""!=u&&l.push(u),l.push(i),n=0,a=a.substring(s+1)}else n=s+1;else n++;""!=a&&l.push(a),a=l,$.i18n.map[e]=l}if(0==a.length)return"";if(1==a.lengh&&"string"==typeof a[0])return a[0];var u="";for(n=0;n<a.length;n++)"string"==typeof a[n]?u+=a[n]:t&&a[n]<t.length?u+=t[a[n]]:!t&&a[n]+1<arguments.length?u+=arguments[a[n]+1]:u+="{"+a[n]+"}";if("object"==typeof r){for(var p=u,n=0;n<r.length;n++)p=p.replace("{"+n+"}",r[n]);u=p}return u},$.i18n.browserLang=function(){return normaliseLanguageCode(navigator.language||navigator.userLanguage)};var cbSplit;cbSplit||(cbSplit=function(e,r,a){if("[object RegExp]"!==Object.prototype.toString.call(r))return void 0===cbSplit._nativeSplit?e.split(r,a):cbSplit._nativeSplit.call(e,r,a);var t,n,s,i,l=[],u=0,p=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.sticky?"y":""),r=RegExp(r.source,p+"g");if(e+="",cbSplit._compliantExecNpcg||(t=RegExp("^"+r.source+"$(?!\\s)",p)),void 0===a||+a<0)a=1/0;else if(!(a=Math.floor(+a)))return[];for(;(n=r.exec(e))&&!((s=n.index+n[0].length)>u&&(l.push(e.slice(u,n.index)),!cbSplit._compliantExecNpcg&&n.length>1&&n[0].replace(t,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(n[e]=void 0)}),n.length>1&&n.index<e.length&&Array.prototype.push.apply(l,n.slice(1)),i=n[0].length,u=s,l.length>=a));)r.lastIndex===n.index&&r.lastIndex++;return u===e.length?!i&&r.test("")||l.push(""):l.push(e.slice(u)),l.length>a?l.slice(0,a):l},cbSplit._compliantExecNpcg=void 0===/()??/.exec("")[1],cbSplit._nativeSplit=String.prototype.split),String.prototype.split=function(e,r){return cbSplit(this,e,r)}}(jQuery);
!function(t,e){t.fn.monthpicker=function(e){var i=function(){return!1};t(this).on({keypress:i,keydown:i,paste:i});var n=t(this).offset().top+parseFloat(t(this).css("height").replace("px","")),o=t(this).offset().left,s=(new Date).getFullYear(),r=t(this);void 0===e.callback||function(){var t=(new Date).getMonth()+1;t=1==t.toString().length?"0"+t:t,r.attr("value",s+"-"+t)}();for(var h=[],a=0;a<40;a++)h[a]=s-a;var c=e.months||["01","02","03","04","05","06","07","08","09","10","11","12"],l=e.years||h,p=function(e){this._el=t(e),this._init(),this._render(),this._renderYears(),this._renderMonths(),this._bind()};p.prototype={destroy:function(){this._el.off("click"),this._yearsSelect.off("click"),this._container.off("click"),t(document).off("click",t.proxy(this._hide,this)),this._container.remove()},_init:function(){this._el.html(l[0]+"-"+c[0]),this._el.data("monthpicker",this)},_bind:function(){this._el.on("click",t.proxy(this._show,this)),t(document).on("click",t.proxy(this._hide,this)),this._yearsSelect.on("click",function(t){t.stopPropagation()}),this._container.on("click","button",t.proxy(this._selectMonth,this))},_show:function(t){t.preventDefault(),t.stopPropagation(),this._container.css("display","inline-block")},_hide:function(){this._container.css("display","none")},_selectMonth:function(i){var n=t(i.target).data("value"),o=c[n],s=this._yearsSelect.val();if("text"==this._el.attr("type")){var r=this._el.val();if(this._el.val(s+"-"+o),r!=s+"-"+o){var i=t.Event("change");this._el.trigger(i,s+"-"+o)}}else{var r=this._el.html();if(this._el.html(s+"-"+o),r!=s+"-"+o){var i=t.Event("change");this._el.trigger(i,s+"-"+o)}}e.onMonthSelect&&e.onMonthSelect(n,s)},_render:function(){var e=(this._el.position(),{display:"none",position:"absolute",top:n,left:o});this._id=(new Date).valueOf(),this._container=t('<div class="monthpicker" id="monthpicker-'+this._id+'">').css(e).appendTo(t("body"))},_renderYears:function(){var e=t.map(l,function(t){return"<option>"+t+"</option>"}),i=t('<div class="years">').appendTo(this._container);this._yearsSelect=t("<select>").html(e.join("")).appendTo(i)},_renderMonths:function(){var e=["<table>","<tr>"];t.each(c,function(t,i){t>0&&t%4==0&&(e.push("</tr>"),e.push("<tr>")),e.push('<td><button data-value="'+t+'">'+i+"</button></td>")}),e.push("</tr>"),e.push("</table>"),this._container.append(e.join(""))}};var _={destroy:function(){var t=this.data("monthpicker");return t&&t.destroy(),this}};return _[e]?_[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on monthpicker"):this.each(function(){return new p(this)})}}(jQuery);
!function(e,r){var t,n,a,s,u,l,i,c,o,f,d,p,h,g,b,y,m,M,v,k,z,F,A,x;t=function(e){return new t.prototype.init(e)},"undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=t:e.Globalize=t,t.cultures={},t.prototype={constructor:t,init:function(e){return this.cultures=t.cultures,this.cultureSelector=e,this}},t.prototype.init.prototype=t.prototype,t.cultures.default={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},t.cultures.default.calendar=t.cultures.default.calendars.standard,t.cultures.en=t.cultures.default,t.cultureSelector="en",n=/^0x[a-f0-9]+$/i,a=/^[+\-]?infinity$/i,s=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,u=/^\s+|\s+$/g,l=function(e,r){if(e.indexOf)return e.indexOf(r);for(var t=0,n=e.length;t<n;t++)if(e[t]===r)return t;return-1},i=function(e,r){return e.substr(e.length-r.length)===r},c=function(){var e,r,t,n,a,s,u=arguments[0]||{},l=1,i=arguments.length,p=!1;for("boolean"==typeof u&&(p=u,u=arguments[1]||{},l=2),"object"==typeof u||f(u)||(u={});l<i;l++)if(null!=(e=arguments[l]))for(r in e)t=u[r],n=e[r],u!==n&&(p&&n&&(d(n)||(a=o(n)))?(a?(a=!1,s=t&&o(t)?t:[]):s=t&&d(t)?t:{},u[r]=c(p,s,n)):void 0!==n&&(u[r]=n));return u},o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},f=function(e){return"[object Function]"===Object.prototype.toString.call(e)},d=function(e){return"[object Object]"===Object.prototype.toString.call(e)},p=function(e,r){return 0===e.indexOf(r)},h=function(e){return(e+"").replace(u,"")},g=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)},b=function(e,r,t){var n;for(n=e.length;n<r;n+=1)e=t?"0"+e:e+"0";return e},y=function(e,r){for(var t=0,n=!1,a=0,s=e.length;a<s;a++){var u=e.charAt(a);switch(u){case"'":n?r.push("'"):t++,n=!1;break;case"\\":n&&r.push("\\"),n=!n;break;default:r.push(u),n=!1}}return t},m=function(e,r){r=r||"F";var t,n=e.patterns,a=r.length;if(1===a){if(!(t=n[r]))throw"Invalid date format string '"+r+"'.";r=t}else 2===a&&"%"===r.charAt(0)&&(r=r.charAt(1));return r},M=function(e,r,t){function n(e,r){var t,n=e+"";return r>1&&n.length<r?(t=b[r-2]+n,t.substr(t.length-r,r)):t=n}function a(e,r){if(g)return g[r];switch(r){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();default:throw"Invalid part value "+r}}var s,u=t.calendar,l=u.convert;if(!r||!r.length||"i"===r){if(t&&t.name.length)if(l)s=M(e,u.patterns.F,t);else{var i=new Date(e.getTime()),c=z(e,u.eras);i.setFullYear(F(e,u,c)),s=i.toLocaleString()}else s=e.toString();return s}var o=u.eras,f="s"===r;r=m(u,r),s=[];var d,p,h,g,b=["0","00","000"],v=/([^d]|^)(d|dd)([^d]|$)/g,A=0,x=k();for(!f&&l&&(g=l.fromGregorian(e));;){var S=x.lastIndex,I=x.exec(r),w=r.slice(S,I?I.index:r.length);if(A+=y(w,s),!I)break;if(A%2)s.push(I[0]);else{var C=I[0],D=C.length;switch(C){case"ddd":case"dddd":var H=3===D?u.days.namesAbbr:u.days.names;s.push(H[e.getDay()]);break;case"d":case"dd":p=!0,s.push(n(a(e,2),D));break;case"MMM":case"MMMM":var O=a(e,1);s.push(u.monthsGenitive&&function(){return p||h?p:(p=v.test(r),h=!0,p)}()?u.monthsGenitive[3===D?"namesAbbr":"names"][O]:u.months[3===D?"namesAbbr":"names"][O]);break;case"M":case"MM":s.push(n(a(e,1)+1,D));break;case"y":case"yy":case"yyyy":O=g?g[0]:F(e,u,z(e,o),f),D<4&&(O%=100),s.push(n(O,D));break;case"h":case"hh":d=e.getHours()%12,0===d&&(d=12),s.push(n(d,D));break;case"H":case"HH":s.push(n(e.getHours(),D));break;case"m":case"mm":s.push(n(e.getMinutes(),D));break;case"s":case"ss":s.push(n(e.getSeconds(),D));break;case"t":case"tt":O=e.getHours()<12?u.AM?u.AM[0]:" ":u.PM?u.PM[0]:" ",s.push(1===D?O.charAt(0):O);break;case"f":case"ff":case"fff":s.push(n(e.getMilliseconds(),3).substr(0,D));break;case"z":case"zz":d=e.getTimezoneOffset()/60,s.push((d<=0?"+":"-")+n(Math.floor(Math.abs(d)),D));break;case"zzz":d=e.getTimezoneOffset()/60,s.push((d<=0?"+":"-")+n(Math.floor(Math.abs(d)),2)+":"+n(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":u.eras&&s.push(u.eras[z(e,o)].name);break;case"/":s.push(u["/"]);break;default:throw"Invalid date format pattern '"+C+"'."}}}return s.join("")},function(){var e;e=function(e,r,t){var n=t.groupSizes,a=n[0],s=1,u=Math.pow(10,r),l=Math.round(e*u)/u;isFinite(l)||(l=e),e=l;var i=e+"",c="",o=i.split(/e/i),f=o.length>1?parseInt(o[1],10):0;i=o[0],o=i.split("."),i=o[0],c=o.length>1?o[1]:"";f>0?(c=b(c,f,!1),i+=c.slice(0,f),c=c.substr(f)):f<0&&(f=-f,i=b(i,f+1,!0),c=i.slice(-f,i.length)+c,i=i.slice(0,-f)),c=r>0?t["."]+(c.length>r?c.slice(0,r):b(c,r)):"";for(var d=i.length-1,p=t[","],h="";d>=0;){if(0===a||a>d)return i.slice(0,d+1)+(h.length?p+h+c:c);h=i.slice(d-a+1,d+1)+(h.length?p+h:""),d-=a,s<n.length&&(a=n[s],s++)}return i.slice(0,d+1)+p+h+c},v=function(r,t,n){if(!isFinite(r))return r===1/0?n.numberFormat.positiveInfinity:r===-1/0?n.numberFormat.negativeInfinity:n.numberFormat.NaN;if(!t||"i"===t)return n.name.length?r.toLocaleString():r.toString();t=t||"D";var a,s=n.numberFormat,u=Math.abs(r),l=-1;t.length>1&&(l=parseInt(t.slice(1),10));var i,c=t.charAt(0).toUpperCase();switch(c){case"D":a="n",u=g(u),-1!==l&&(u=b(""+u,l,!0)),r<0&&(u="-"+u);break;case"N":i=s;case"C":i=i||s.currency;case"P":i=i||s.percent,a=r<0?i.pattern[0]:i.pattern[1]||"n",-1===l&&(l=i.decimals),u=e(u*("P"===c?100:1),l,i);break;default:throw"Bad number format specifier: "+c}for(var o=/n|\$|-|%/g,f="";;){var d=o.lastIndex,p=o.exec(a);if(f+=a.slice(d,p?p.index:a.length),!p)break;switch(p[0]){case"n":f+=u;break;case"$":f+=s.currency.symbol;break;case"-":/[1-9]/.test(u)&&(f+=s["-"]);break;case"%":f+=s.percent.symbol}}return f}}(),k=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},z=function(e,r){if(!r)return 0;for(var t,n=e.getTime(),a=0,s=r.length;a<s;a++)if(null===(t=r[a].start)||n>=t)return a;return 0},F=function(e,r,t,n){var a=e.getFullYear();return!n&&r.eras&&(a-=r.eras[t].offset),a},function(){var e,r,t,n,a,s,u;e=function(e,r){if(r<100){var t=new Date,n=z(t),a=F(t,e,n),s=e.twoDigitYearMax;s="string"==typeof s?(new Date).getFullYear()%100+parseInt(s,10):s,r+=a-a%100,r>s&&(r-=100)}return r},r=function(e,r,t){var n,a=e.days,i=e._upperDays;return i||(e._upperDays=i=[u(a.names),u(a.namesAbbr),u(a.namesShort)]),r=s(r),t?-1===(n=l(i[1],r))&&(n=l(i[2],r)):n=l(i[0],r),n},t=function(e,r,t){var n=e.months,a=e.monthsGenitive||e.months,i=e._upperMonths,c=e._upperMonthsGen;i||(e._upperMonths=i=[u(n.names),u(n.namesAbbr)],e._upperMonthsGen=c=[u(a.names),u(a.namesAbbr)]),r=s(r);var o=l(t?i[1]:i[0],r);return o<0&&(o=l(t?c[1]:c[0],r)),o},n=function(e,r){var t=e._parseRegExp;if(t){var n=t[r];if(n)return n}else e._parseRegExp=t={};for(var a,s=m(e,r).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),u=["^"],l=[],i=0,c=0,o=k();null!==(a=o.exec(s));){var f=s.slice(i,a.index);if(i=o.lastIndex,(c+=y(f,u))%2)u.push(a[0]);else{var d,p=a[0],h=p.length;switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":d="(\\D+)";break;case"tt":case"t":d="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":d="(\\d{"+h+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":d="(\\d\\d?)";break;case"zzz":d="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":d="([+-]?\\d\\d?)";break;case"/":d="(\\/)";break;default:throw"Invalid date format pattern '"+p+"'."}d&&u.push(d),l.push(a[0])}}y(s.slice(i),u),u.push("$");var g=u.join("").replace(/\s+/g,"\\s+"),b={regExp:g,groups:l};return t[r]=b},a=function(e,r,t){return e<r||e>t},s=function(e){return e.split(" ").join(" ").toUpperCase()},u=function(e){for(var r=[],t=0,n=e.length;t<n;t++)r[t]=s(e[t]);return r},A=function(s,u,l){s=h(s);var i=l.calendar,c=n(i,u),o=new RegExp(c.regExp).exec(s);if(null===o)return null;for(var f,d=c.groups,g=null,b=null,y=null,m=null,M=null,v=0,k=0,z=0,F=0,A=null,x=!1,S=0,I=d.length;S<I;S++){var w=o[S+1];if(w){var C=d[S],D=C.length,H=parseInt(w,10);switch(C){case"dd":case"d":if(m=H,a(m,1,31))return null;break;case"MMM":case"MMMM":if(y=t(i,w,3===D),a(y,0,11))return null;break;case"M":case"MM":if(y=H-1,a(y,0,11))return null;break;case"y":case"yy":case"yyyy":if(b=D<4?e(i,H):H,a(b,0,9999))return null;break;case"h":case"hh":if(v=H,12===v&&(v=0),a(v,0,11))return null;break;case"H":case"HH":if(v=H,a(v,0,23))return null;break;case"m":case"mm":if(k=H,a(k,0,59))return null;break;case"s":case"ss":if(z=H,a(z,0,59))return null;break;case"tt":case"t":if(!(x=i.PM&&(w===i.PM[0]||w===i.PM[1]||w===i.PM[2]))&&(!i.AM||w!==i.AM[0]&&w!==i.AM[1]&&w!==i.AM[2]))return null;break;case"f":case"ff":case"fff":if(F=H*Math.pow(10,3-D),a(F,0,999))return null;break;case"ddd":case"dddd":if(M=r(i,w,3===D),a(M,0,6))return null;break;case"zzz":var O=w.split(/:/);if(2!==O.length)return null;if(f=parseInt(O[0],10),a(f,-12,13))return null;var N=parseInt(O[1],10);if(a(N,0,59))return null;A=60*f+(p(w,"-")?-N:N);break;case"z":case"zz":if(f=H,a(f,-12,13))return null;A=60*f;break;case"g":case"gg":var T=w;if(!T||!i.eras)return null;T=h(T.toLowerCase());for(var j=0,$=i.eras.length;j<$;j++)if(T===i.eras[j].name.toLowerCase()){g=j;break}if(null===g)return null}}}var P,G=new Date,E=i.convert;if(P=E?E.fromGregorian(G)[0]:G.getFullYear(),null===b?b=P:i.eras&&(b+=i.eras[g||0].offset),null===y&&(y=0),null===m&&(m=1),E){if(null===(G=E.toGregorian(b,y,m)))return null}else{if(G.setFullYear(b,y,m),G.getDate()!==m)return null;if(null!==M&&G.getDay()!==M)return null}if(x&&v<12&&(v+=12),G.setHours(v,k,z,F),null!==A){var Y=G.getMinutes()-(A+G.getTimezoneOffset());G.setHours(G.getHours()+parseInt(Y/60,10),Y%60)}return G}}(),x=function(e,r,t){var n,a=r["-"],s=r["+"];switch(t){case"n -":a=" "+a,s=" "+s;case"n-":i(e,a)?n=["-",e.substr(0,e.length-a.length)]:i(e,s)&&(n=["+",e.substr(0,e.length-s.length)]);break;case"- n":a+=" ",s+=" ";case"-n":p(e,a)?n=["-",e.substr(a.length)]:p(e,s)&&(n=["+",e.substr(s.length)]);break;case"(n)":p(e,"(")&&i(e,")")&&(n=["-",e.substr(1,e.length-2)])}return n||["",e]},t.prototype.findClosestCulture=function(e){return t.findClosestCulture.call(this,e)},t.prototype.format=function(e,r,n){return t.format.call(this,e,r,n)},t.prototype.localize=function(e,r){return t.localize.call(this,e,r)},t.prototype.parseInt=function(e,r,n){return t.parseInt.call(this,e,r,n)},t.prototype.parseFloat=function(e,r,n){return t.parseFloat.call(this,e,r,n)},t.prototype.culture=function(e){return t.culture.call(this,e)},t.addCultureInfo=function(e,r,t){var n={},a=!1;"string"!=typeof e?(t=e,e=this.culture().name,n=this.cultures[e]):"string"!=typeof r?(t=r,a=null==this.cultures[e],n=this.cultures[e]||this.cultures.default):(a=!0,n=this.cultures[r]),this.cultures[e]=c(!0,{},n,t),a&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},t.findClosestCulture=function(e){var r;if(!e)return this.findClosestCulture(this.cultureSelector)||this.cultures.default;if("string"==typeof e&&(e=e.split(",")),o(e)){var t,n,a=this.cultures,s=e,u=s.length,l=[];for(n=0;n<u;n++){e=h(s[n]);var i,c=e.split(";");t=h(c[0]),1===c.length?i=1:(e=h(c[1]),0===e.indexOf("q=")?(e=e.substr(2),i=parseFloat(e),i=isNaN(i)?0:i):i=1),l.push({lang:t,pri:i})}for(l.sort(function(e,r){return e.pri<r.pri?1:e.pri>r.pri?-1:0}),n=0;n<u;n++)if(t=l[n].lang,r=a[t])return r;for(n=0;n<u;n++)for(t=l[n].lang;;){var f=t.lastIndexOf("-");if(-1===f)break;if(t=t.substr(0,f),r=a[t])return r}for(n=0;n<u;n++){t=l[n].lang;for(var d in a){var p=a[d];if(p.language==t)return p}}}else if("object"==typeof e)return e;return r||null},t.format=function(e,r,t){var n=this.findClosestCulture(t);return e instanceof Date?e=M(e,r,n):"number"==typeof e&&(e=v(e,r,n)),e},t.localize=function(e,r){return this.findClosestCulture(r).messages[e]||this.cultures.default.messages[e]},t.parseDate=function(e,r,t){t=this.findClosestCulture(t);var n,a,s;if(r){if("string"==typeof r&&(r=[r]),r.length)for(var u=0,l=r.length;u<l;u++){var i=r[u];if(i&&(n=A(e,i,t)))break}}else{s=t.calendar.patterns;for(a in s)if(n=A(e,s[a],t))break}return n||null},t.parseInt=function(e,r,n){return g(t.parseFloat(e,r,n))},t.parseFloat=function(e,r,t){"number"!=typeof r&&(t=r,r=10);var u=this.findClosestCulture(t),l=NaN,i=u.numberFormat;if(e.indexOf(u.numberFormat.currency.symbol)>-1&&(e=e.replace(u.numberFormat.currency.symbol,""),e=e.replace(u.numberFormat.currency["."],u.numberFormat["."])),e.indexOf(u.numberFormat.percent.symbol)>-1&&(e=e.replace(u.numberFormat.percent.symbol,"")),e=e.replace(/ /g,""),a.test(e))l=parseFloat(e);else if(!r&&n.test(e))l=parseInt(e,16);else{var c=x(e,i,i.pattern[0]),o=c[0],f=c[1];""===o&&"(n)"!==i.pattern[0]&&(c=x(e,i,"(n)"),o=c[0],f=c[1]),""===o&&"-n"!==i.pattern[0]&&(c=x(e,i,"-n"),o=c[0],f=c[1]),o=o||"+";var d,p,h=f.indexOf("e");h<0&&(h=f.indexOf("E")),h<0?(p=f,d=null):(p=f.substr(0,h),d=f.substr(h+1));var g,b,y=i["."],m=p.indexOf(y);m<0?(g=p,b=null):(g=p.substr(0,m),b=p.substr(m+y.length));var M=i[","];g=g.split(M).join("");var v=M.replace(/\u00A0/g," ");M!==v&&(g=g.split(v).join(""));var k=o+g;if(null!==b&&(k+="."+b),null!==d){var z=x(d,i,"-n");k+="e"+(z[0]||"+")+z[1]}s.test(k)&&(l=parseFloat(k))}return l},t.culture=function(e){return void 0!==e&&(this.cultureSelector=e),this.findClosestCulture(e)||this.cultures.default}}(this);
!function(e,n){var a;a="undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?require("globalize"):e.Globalize,a.addCultureInfo("zh-CN","default",{name:"zh-CN",englishName:"Chinese (China)",nativeName:"简体中文",language:"cn",numberFormat:{NaN:"NaN (非数字)",negativeInfinity:"-∞",positiveInfinity:"+∞",percent:{pattern:["-n%","n%"]},currency:{pattern:["-$n","$n"],decimals:0,symbol:"¥"}},calendars:{standard:{"/":"-",days:{names:["日","一","二","三","四","五","六"],namesAbbr:["周日","周一","周二","周三","周四","周五","周六"],namesShort:["周日","周一","周二","周三","周四","周五","周六"]},months:{names:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月",""],namesAbbr:["1","2","3","4","5","6","7","8","9","10","11","12",""]},AM:["上午","上午","上午"],PM:["下午","下午","下午"],eras:[{name:"公元",start:null,offset:0}],patterns:{d:"yyyy-MM-dd",D:"yyyy'年'M'月'd'日'",t:"H:mm",T:"H:mm:ss",f:"yyyy'年'M'月'd'日' H:mm",F:"yyyy'年'M'月'd'日' H:mm:ss",M:"M'月'd'日'",Y:"yyyy'年'M'月'"}}}})}(this);
function IsEnOrNum(e,n){return!/[\u4E00-\u9FA5]/g.test(e.val())}function isEmail(e,n){return/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(e)}function IsNum(e,n){return"-"!=e.val()&&!!/^(\-?\d*)(\.\d+)?$/g.exec(e.val())}function isPositiveNumWithDecimal(e,n,t,a){return!!new RegExp("^(\\d{1,"+n+"})(\\.\\d{1,"+t+"})?$","g").exec(e.val())}function IsPositiveInteger(e,n){return!!/^\d*$/.exec(e.val())}function isZipCode(e,n){return""==e.val()||!!/^\d{6}$/.exec(e.val())}function IsFloat(e,n){return!!/^([1-9]\d?(\.\d{1,2})?|0\.\d{1,2}|100|100.0|100.00)$/.exec(e.val())}function IsMobile(e,n){return!!/^0?(13[0-9]|15[012356789]|18[0-9]|14[57])[0-9]{8}$/.exec(e.val())}function IsEquals(e,n){return e.val()==n.val()}function IsMedian(e,n,t){return e<=t&&t<=n}function isBeyondLeng(e,n){for(var t=e.val(),a=0,r=0;r<t.length;r++){var u=t.charCodeAt(r);u>=1&&u<=126||65376<=u&&u<=65439?a++:a+=2}return a<=n}function isNumWithDecimal(e,n,t,a){return!!new RegExp("^(\\-?\\d{1,"+n+"})(\\.\\d{1,"+t+"})?$","g").exec(e.val())}function IsMac(e,n){return!!/[0-9A-Fa-f]{2}-[0-9A-Fa-f]{2}-[0-9A-Fa-f]{2}-[0-9A-Fa-f]{2}-[0-9A-Fa-f]{2}-[0-9A-Fa-f]{2}/.exec(e.val())}function timeCompare(e,n,t){return""===e.val()||(!$(t).val()||e.val()<=$(t).val())}function timeCompareEnd(e,n,t){return""===e.val()||(!$(t).val()||e.val()>=$(t).val())}function IsCodeCategory(e,n){return!!/^([A-Z]+_?)*[A-Z]$/.exec(e.val())}function IsCouponCode(e,n){return!!/^([a-z]|[A-Z]|[0-9]){6}$/.exec(e.val())}function IsIP(e){return!!/^([01]?\d\d?|2[0-4]\d|25[0-5])\.([01]?\d\d?|2[0-4]\d|25[0-5])\.([01]?\d\d?|2[0-4]\d|25[0-5])\.([01]?\d\d?|2[0-4]\d|25[0-5])$/.exec(e)}function isRequired(e){return null!==e&&""!==e}function validateAvoidSpecialCharacters(e){return/^[^`~!@#$%^&*\(\)\[\]{};':",\.\/\<\>\?\ ]+$/.test(e)}function validateLessAndEqualThanLength(e,n){return e.length<=n}function isCategoryCode(e){return!!/^[A-Z]+_(([A-Z]+)|(_[A-Z]+))+$/g.test(e)}function isMatch(e,n,t){return!!t.test(e.val())}
$.fn.easytableExamplex=function(e){var t=(e.source,e.limit,e.tax,e.setOrderNoReceive),i=e.enterPriceInfo,n=e.data,r=(e.orderMoney,e.orderReceive),a=(e.orderNoReceive,e.orderOverReceive,e.grid),d=e.isview;null!=d&&d.toString();var c=$(this);c.easytable({tr:"<tr class='cwhite'><td class='blt'><i class='md-cancel del'></i><i class='md-description copy hidden'></i></td><td class=\"brt brtt\"><div class=\"time\"></div></td><td class=\"brt brtt\"><input type=\"text\" class=\"receiveMoney form-control\"><span class=\"hidden recId\"></span></td><td class='brt brtt'><div class='receiveWay'></div></td><td class='brt brtt br0'><input type='text' class='remark form-control'></td></tr>",tr_load_func:function(e,n){var n=void 0==n?"":n,r=e;r.find(".time").datetimeinput({width:"200px",height:33,formatString:"yyyy-MM-dd",showTimeButton:!1,value:new Date}).val(n.time),r.find(".time").find("input").keydown(function(e){if(e.preventDefault(),39==e.keyCode){var t=e.target.selectionStart;8!=t&&10!=t||r.find(".receiveMoney").focus()}}),r.find(".receiveWay").dropDownlist({source:{cash:"现金",alipay:"支付宝",wechatpay:"微信支付",bankpayonline:"银行转账",bankpay:"刷卡",cheque:"支票"},width:"140px",height:33,selectedIndex:0}).val(n.way),r.find(".receiveWay").keydown(function(e){39==e.keyCode&&(r.find(".remark").focus(),$(this).jqxDropDownList("close")),37==e.keyCode&&(r.find(".receiveMoney").focus(),$(this).jqxDropDownList("close"))}),r.find(".receiveMoney").moneyinput().val(n.receive),""==n&&r.find(".receiveMoney").width(200),r.find(".remark").val(n.remark),r.find(".receiveMoney").on("change keyup",function(){var e=$(this).val();""!=$(this).parent().find(".recId").text()&&(0==e?$(this).addClass("s1r"):$(this).removeClass("s1r")),t(i)}),r.find(".receiveMoney").keydown(function(e){var t=$(this),i=t.val(),n=e.target.selectionStart,d=$("#"+a).jqxGrid("getselectedcell");return void 0!=d&&$("#"+a).jqxGrid("unselectcell",d.rowindex,d.datafield),39==e.keyCode&&n==i.length&&(r.find(".receiveWay").jqxDropDownList("focus"),r.find(".receiveWay").jqxDropDownList("open")),37==e.keyCode&&0==n&&(r.find(".time").jqxDateTimeInput("focus"),r.find(".time").jqxDateTimeInput("open")),88==e.keyCode&&e.ctrlKey?(r.find(".del").trigger("click"),!1):e.shiftKey&&e.ctrlKey?(r.find(".copy").trigger("click"),!1):void 0}),r.find(".remark").keydown(function(e){var t=($(this).val(),e.target.selectionStart),i=$("#"+a).jqxGrid("getselectedcell");return void 0!=i&&$("#"+a).jqxGrid("unselectcell",i.rowindex,i.datafield),37==e.keyCode&&0==t&&(r.find(".receiveWay").jqxDropDownList("focus"),r.find(".receiveWay").jqxDropDownList("open")),88==e.keyCode&&e.ctrlKey?(r.find(".del").trigger("click"),!1):e.shiftKey&&e.ctrlKey?(r.find(".copy").trigger("click"),!1):void 0})},tr_del_func:function(t,i){var n=t.find(".recId").text();if(""==n)return void i();Core.AjaxRequest({url:_global_settings.service.url+"/"+e.type+"/delete/"+n,type:"POST",callback:function(){i()}})}}).on("change keyup ",function(){var e=$(this),n=e.find("tbody").children(),a=0;n.each(function(){var e=$(this),t=money(e.find(".receiveMoney").val());a+=1*t}),r.val(money(a)),t(i)}),t(i);n&&function(e){$.each(e,function(e,t){var i=c.find("tbody>tr").eq(-1);i.find(".recId").text(t.id),i.find(".time").data("value",t.createDate.substring(0,10)).val(t.createDate.substring(0,10)),i.find(".receiveMoney").val(money(t.amount)).data("value",t.amount),i.find(".receiveWay").data("value",t.payWay).val(t.payWay),i.find(".remark").data("value",t.remark).val(t.remark),i.trigger("click")}),d&&c.find("tbody>tr").eq(-1).remove(),c.trigger("change")}(n),d&&function(){c.find("input").each(function(){$(this).attr("disabled","disabled")}),c.find(".jqx-combobox-state-normal").each(function(){$(this).jqxComboBox("disabled",!0)}),c.find(".del").each(function(){$(this).parent().remove()}),c.find("tr").on("click",function(){return!1})}()},$.fn.zqwRecOrpayTable=function(e){var t=e.source,i=e.setOrderNoReceive,n=e.enterPriceInfo,r=(e.orderMoney,e.receiveMoney),a=(e.notReceiveMoney,e.overReceiveMoney,$(this));void 0!=t&&function(e){var t=0,d={cash:"现金",alipay:"支付宝",wechatpay:"微信支付",bankpayonline:"银行转账",bankpay:"刷卡",cheque:"支票"};$.each(e,function(e,i){a.find("tbody").append('<tr class=\'cwhite\'><td class="brt"><div class="time"></div></td><td class="brt"><div class="money"></div></td>'+"<td class='brt'><div class='way'></div></td><td ><div class='remark'></div></td></tr>");var n=a.find("tbody").children().eq(e);n.find(".time").text(i.createDate.substring(0,10)),n.find(".money").text(money(i.amount)),n.find(".way").text(d[i.payWay]),n.find(".remark").text(i.remark),t+=1*i.amount}),r.val(money(t)),null!=n&&void 0!=n&&i(n)}(t)};
!function(t){t.extend(t.jqx._jqxGrid.prototype,{_initpager:function(){var e=this.that,i=this.gridlocalization.pagergotopagestring,s=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),a=(this.pagerheight-20)/2;if(this.pagerdiv=this.pagerdiv||t('<div style="line-height: 20px; width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.vScrollBar.jqxScrollBar({thumbSize:0});if(this.pagerrenderer){this.pagerdiv.children().remove();var r=this.pagerrenderer();null!=r&&this.pagerdiv.append(t(r)),this.pager.append(this.pagerdiv)}else{if(this.pagerdiv.css("top",a),this.pager.append(this.pagerdiv),this.pagergotoinput=this.pagergotoinput||t('<div style="margin-right: 12px; width: 27px; height: 20px; float: right;"><input style="margin-top: 0px; text-align: right; height:20px; width: 27px;" type="text"/></div>'),this.pagergoto=this.pagergoto||t('<div style="float: right;margin-right: 7px;"></div>'),this.pagerrightbutton=this.pagerrightbutton||t('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; height:20px; width: 27px; float: right;"></div>'),this.pagerleftbutton=this.pagerleftbutton||t('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; height:20px; width: 27px; float: right;"></div>'),this.pagerdetails=this.pagerdetails||t('<div style="margin-right: 7px;float: right;"></div>'),this.pagershowrows=this.pagershowrows||t('<div style="margin-right: 7px;float: right;"></div>'),this.pagerbuttons=t('<div style="margin-right: 3px;float: right;"></div>'),this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList&&(this.pagershowrowscombo.remove(),this.pagershowrowscombo=null),this.pagergotoinput.attr("disabled",this.disabled),this.pagerfirstbutton=t('<div type="button" style="padding: 0px; margin-top: 0px; margin-left: 3px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagerlastbutton=t('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagershowrowscombo=this.pagershowrowscombo||t('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>'),this.pagerdiv.children().remove(),this.pagershowrowscombo[0].id="gridpagerlist"+this.element.id,this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.removeHandler(this.pagerfirstbutton,"mousedown"),this.removeHandler(this.pagerfirstbutton,"mouseup"),this.removeHandler(this.pagerfirstbutton,"click"),this.removeHandler(this.pagerlastbutton,"mousedown"),this.removeHandler(this.pagerlastbutton,"mouseup"),this.removeHandler(this.pagerlastbutton,"click"),this.pagerleftbutton.attr("title",this.gridlocalization.pagerpreviousbuttonstring),this.pagerrightbutton.attr("title",this.gridlocalization.pagernextbuttonstring),"simple"==this.pagermode){t.jqx.browser.msie&&t.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var o=t("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");o.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(o);var h=t("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");h.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(h),this.rtl?(this.pagerdiv.append(this.pagerlastbutton),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerfirstbutton)):(this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton)),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});var p=this.rtl?"right":"left";this.pagerbuttons.css("float",p),this.pagerlastbutton.css("float",p),this.pagerfirstbutton.css("float",p),this.pagerrightbutton.css("float",p),this.pagerleftbutton.css("float",p),this.pagerdetails.css("float",this.rtl?"left":"right"),this.rtl?(this.pagerdetails.css("margin-left","7px"),this.pagerdetails.css("margin-right","0px")):(this.pagerdetails.css("margin-left","0px"),this.pagerdetails.css("margin-right","7px")),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show(),this.rtl||(this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton));this.pagerrightbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var n=t("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");n.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(n);var d=t("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");d.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(d),this.pagerdiv.append(this.pagerdetails),"simple"!=this.pagermode&&(this.rtl?(this.pagerdiv.append(this.pagergoto),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagerdetails),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton)):(this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagergoto)));var g=this.pagesizeoptions;if(!this.pagershowrowscombo.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");this.pagershowrowscombo.jqxDropDownList({rtl:this.rtl,disabled:this.disabled,source:g,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:"auto",height:20,theme:this.theme});for(var l=0,u=0;u<g.length;u++)this.pagesize>=g[u]&&(l=u);this.pagershowrows[0].innerHTML=s,this.pagergoto[0].innerHTML=i,this.updatepagerdetails(),this.pagershowrowscombo.jqxDropDownList({selectedIndex:l}),this.pagerpageinput=this.pagergotoinput.find("input"),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.rtl&&this.pagerpageinput.css("direction","rtl");var e=this.that;this.removeHandler(this.pagershowrowscombo,"select"),this.addHandler(this.pagershowrowscombo,"select",function(t){if(t.args){e.vScrollInstance&&e.vScrollInstance.setPosition(0),null!=e.editcell&&e.endcelledit&&e.endcelledit(e.editcell.row,e.editcell.column,!0,!1);var i=t.args.index,s=e.dataview.pagenum*e.dataview.pagesize,a=g[i],r=e.pagesize;e.pagesize=parseInt(a),isNaN(e.pagesize)&&(e.pagesize=10),a>=100?e.pagershowrowscombo.jqxDropDownList({width:"auto"}):e.pagershowrowscombo.jqxDropDownList({width:44}),e.dataview.pagesize=e.pagesize;var o=Math.floor(s/e.dataview.pagesize);e.prerenderrequired=!0,e._requiresupdate=!0,e._raiseEvent(10,{pagenum:o,oldpagesize:r,pagesize:e.dataview.pagesize}),e.gotopage(o),e.autoheight&&e._updatesizeonwindowresize&&(e._updatesize(!0),setTimeout(function(){e._updatesize(!0)},500))}});var v=this.pagergotoinput.find("input");v.addClass(this.toThemeProperty("jqx-grid-pager-input")),v.addClass(this.toThemeProperty("jqx-rc-all")),this.removeHandler(v,"keydown"),this.removeHandler(v,"change"),this.addHandler(v,"keydown",function(t){if(t.keyCode>=65&&t.keyCode<=90)return!1;if("13"==t.keyCode){var i=v.val();return i=parseInt(i),isNaN(i)||e.gotopage(i-1),!1}}),this.addHandler(v,"change",function(){var t=v.val();t=parseInt(t),isNaN(t)||e.gotopage(t-1)}),this.addHandler(this.pagerrightbutton,"mouseenter",function(){d.addClass(e.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){n.addClass(e.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){d.removeClass(e.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){n.removeClass(e.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){d.addClass(e.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){d.removeClass(e.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){n.addClass(e.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){n.removeClass(e.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(t(document),"mouseup.pagerbuttons"+this.element.id,function(){d.removeClass(e.toThemeProperty("jqx-icon-arrow-right-selected")),n.removeClass(e.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerrightbutton,"click",function(){e.pagerrightbutton.jqxButton("disabled")||(e.rtl?e.gotoprevpage():e.gotonextpage())}),this.addHandler(this.pagerleftbutton,"click",function(){e.pagerleftbutton.jqxButton("disabled")||(e.rtl?e.gotonextpage():e.gotoprevpage())});var m=this;if("simple"===this.pagermode){var c=this.pagerfirstbutton,w=this.pagerlastbutton;this.addHandler(w,"mouseenter",function(){h.addClass(m.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(c,"mouseenter",function(){o.addClass(m.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(w,"mouseleave",function(){h.removeClass(m.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(c,"mouseleave",function(){o.removeClass(m.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(w,"mousedown",function(){h.addClass(m.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(c,"mousedown",function(){o.addClass(m.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(w,"mouseup",function(){h.removeClass(m.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(c,"mouseup",function(){o.removeClass(m.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(t(document),"mouseup.pagerbuttons"+name+this.element.id,function(){d.removeClass(m.toThemeProperty("jqx-icon-arrow-right-selected")),n.removeClass(m.toThemeProperty("jqx-icon-arrow-left-selected")),h&&(h.removeClass(m.toThemeProperty("jqx-icon-arrow-last-selected")),o.removeClass(m.toThemeProperty("jqx-icon-arrow-first-selected")))}),this.addHandler(c,"click",function(){if(!c.jqxButton("disabled"))if(m.rtl){var t=m.dataview.totalrecords,e=Math.ceil(t/m.pagesize);m.gotopage(e-1)}else m.gotopage(0)}),this.addHandler(w,"click",function(){if(!w.jqxButton("disabled"))if(m.rtl)m.gotopage(0);else{var t=m.dataview.totalrecords,e=Math.ceil(t/m.pagesize);m.gotopage(e-1)}})}}this.vScrollBar.jqxScrollBar("refresh"),this._arrange()},_updatepagertheme:function(){if(null!=this.pagershowrowscombo){this.pagershowrowscombo.jqxDropDownList({theme:this.theme}),this.pagerrightbutton.jqxButton({theme:this.theme}),this.pagerleftbutton.jqxButton({theme:this.theme}),this.pagerpageinput.removeClass();var e=this.pagergotoinput.find("input");e.removeClass(),e.addClass(this.toThemeProperty("jqx-grid-pager-input")),e.addClass(this.toThemeProperty("jqx-rc-all")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var i=t("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(i);var s=t("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");if(s.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(s),"simple"==this.pagermode){t.jqx.browser.msie&&t.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var a=t("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");a.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(a);var r=t("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");r.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(r),this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerbuttons.css("float","left"),this.pagerlastbutton.css("float","left"),this.pagerfirstbutton.css("float","left"),this.pagerrightbutton.css("float","left"),this.pagerleftbutton.css("float","left"),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show();var o=function(t,e){t.removeHandler(e,"mouseenter"),t.removeHandler(e,"mouseleave"),t.removeHandler(e,"mousedown"),t.removeHandler(e,"mouseup")};o(this,this.pagerrightbutton),o(this,this.pagerleftbutton);var h=this.that;this.addHandler(this.pagerrightbutton,"mouseenter",function(){s.addClass(h.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){i.addClass(h.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){s.removeClass(h.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){i.removeClass(h.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){s.addClass(h.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){s.removeClass(h.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){i.addClass(h.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){i.removeClass(h.toThemeProperty("jqx-icon-arrow-left-selected"))})}},gotopage:function(t){if(null!=t&&void 0!=t||(t=0),-1==t&&(t=0),!(t<0)){var e=this.dataview.totalrecords;this.summaryrows&&(e+=this.summaryrows.length);var i=this.pagenum;this._raiseEvent(25,{oldpagenum:this.dataview.pagenum,pagenum:t,pagesize:this.dataview.pagesize});var s=Math.ceil(e/this.pagesize);if(t>=s&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),t>0&&(t=s-1),t<0&&(t=0)),(this.dataview.pagenum!=t||this._requiresupdate)&&this.pageable){if(this.source.pager&&this.source.pager(t,this.dataview.pagesize,this.dataview.pagenum),this.dataview.pagenum=t,this.virtualmode){if(this.hiddens=new Array,this.expandedgroups=new Array,this.rendergridrows){var a=t*this.dataview.pagesize,r=a+this.dataview.pagesize;if(null!=a&&null!=r)return this.pagerrightbutton&&(this.pagerrightbutton.jqxButton({disabled:!0}),this.pagerleftbutton.jqxButton({disabled:!0}),this.pagershowrowscombo.jqxDropDownList({disabled:!0})),this.pagerfirstbutton&&(this.pagerfirstbutton.jqxButton({disabled:!0}),this.pagerlastbutton.jqxButton({disabled:!0})),this.updatebounddata("pagechanged"),this._raiseEvent(9,{pagenum:t,oldpagenum:i,pagesize:this.dataview.pagesize}),this.updatepagerdetails(),void(this.autosavestate&&this.savestate&&this.savestate())}}else this.dataview.updateview();if(this._loadrows(),this._updatepageviews(),this.tableheight=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.updatepagerdetails(),this.autoheight||this.autorowheight){var o=this.host.height()-this._gettableheight();height=o+this._pageviews[0].height,height!=this.host.height()&&(this._arrange(),this._updatepageviews(),this.autorowheight&&this._renderrows(this.virtualsizeinfo))}null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1),this.focus(),this._raiseEvent(9,{pagenum:t,oldpagenum:i,pagesize:this.dataview.pagesize}),this.autosavestate&&this.savestate&&this.savestate()}}},gotoprevpage:function(){if(this.dataview.pagenum>0)this.gotopage(this.dataview.pagenum-1);else if("simple"!=this.pagermode){var t=this.dataview.totalrecords;this.summaryrows&&(t+=this.summaryrows.length);var e=Math.ceil(t/this.pagesize);this.gotopage(e-1)}},gotonextpage:function(){var t=this.dataview.totalrecords;this.summaryrows&&(t+=this.summaryrows.length);var e=Math.ceil(t/this.pagesize);this.dataview.pagenum<e-1?this.gotopage(this.dataview.pagenum+1):"simple"!=this.pagermode&&this.gotopage(0)},updatepagerdetails:function(){if(null!=this.pagerdetails&&this.pagerdetails.length>0){var e=this.dataview.pagenum*this.pagesize,i=(this.dataview.pagenum+1)*this.pagesize;i>=this.dataview.totalrecords&&(i=this.dataview.totalrecords);var s=this.dataview.totalrecords;this.summaryrows&&(s+=this.summaryrows.length,(this.dataview.pagenum+1)*this.pagesize>this.dataview.totalrecords&&(i=s)),e++;var a=Math.ceil(s/this.dataview.pagesize);if(a>=1&&a--,a++,"simple"!==this.pagermode){this.pagergotoinput.find("input").val(this.dataview.pagenum+1)}else{var r="",o=this.pagerbuttonscount;0!=o&&o||(o=5);var h=0;for(this.rtl&&(h=o-1);this.rtl&&h>=0||!this.rtl&&h<o;){var p=1+h,n=this.dataview.pagenum/o;p+=Math.floor(n)*o;var d=this.toTP("jqx-grid-pager-number");if(d+=" "+this.toTP("jqx-rc-all"),p>a)break;if(this.rtl||0==h&&p>o&&(r+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+(-1+p)+"'>...</a>"),this.dataview.pagenum===p-1&&(d+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(h===o-1){var d=this.toTP("jqx-grid-pager-number");d+=" "+this.toTP("jqx-rc-all"),a>=1+p&&(r+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+(1+p)+"'>...</a>")}this.dataview.pagenum===p-1&&(d+=" "+this.toTP("jqx-fill-state-pressed")),r+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+p+"'>"+p+"</a>"}else if(r+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+p+"'>"+p+"</a>",h===o-1){var d=this.toTP("jqx-grid-pager-number");d+=" "+this.toTP("jqx-rc-all"),a>=1+p&&(r+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+(1+p)+"'>...</a>")}if(this.rtl){var d=this.toTP("jqx-grid-pager-number");d+=" "+this.toTP("jqx-rc-all"),0==h&&p>o&&(r+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+(-1+p)+"'>...</a>")}this.rtl?h--:h++}var g=this.pagerbuttons.find("a");this.removeHandler(g,"click"),this.removeHandler(g,"mouseenter"),this.removeHandler(g,"mouseleave"),this.pagerbuttons[0].innerHTML=r;var l=this,g=this.pagerbuttons.find("a");!function(){l.addHandler(g,"click",function(e){var i=t(e.target).attr("data-page");return l.gotopage(parseInt(i)-1),!1}),l.addHandler(g,"mouseenter",function(e){t(e.target).addClass(l.toTP("jqx-fill-state-hover"))}),l.addHandler(g,"mouseleave",function(e){t(e.target).removeClass(l.toTP("jqx-fill-state-hover"))})}()}if(this.pagergotoinput.attr("title","1 - "+a),0==i&&i<e&&(e=0),this.rtl)this.pagerdetails[0].innerHTML=s+this.gridlocalization.pagerrangestring+i+"-"+e;else{var u=s%this.pagesize==0?0:1,v=parseInt(s/this.pagesize)+u==0?1:parseInt(s/this.pagesize)+u;this.pagerdetails[0].innerHTML="条 共"+v+"页"}e>i&&this.gotoprevpage()}},_updatepagedview:function(t,e,i){var s=this.that;this.dataview.rows.length!=this.dataview.pagesize&&this.dataview.updateview();for(var a=this.dataview.rows.length,r=0;r<a;r++){var o=this.dataview.rows[r].visibleindex,h={index:o,height:this.heights[o],hidden:this.hiddens[o],details:this.details[o]};if(void 0==this.heights[o]&&(this.heights[o]=this.rowsheight,h.height=this.rowsheight),void 0==this.hiddens[o]&&(this.hiddens[o]=!1,h.hidden=!1),void 0==this.details[o]&&(this.details[o]=null),h.height!=s.rowsheight&&(e-=s.rowsheight,e+=h.height),h.hidden)e-=h.height;else{i+=h.height;var p=0;this.rowdetails&&h.details&&h.details.rowdetails&&!h.details.rowdetailshidden&&(p=h.details.rowdetailsheight,i+=p,e+=p)}}return this._pageviews[0]={top:0,height:i},e}})}(jqxBaseFramework);