$.fn.easytableExamplex=function(e){var t=(e.source,e.limit,e.tax,e.setOrderNoReceive),i=e.enterPriceInfo,n=e.data,r=(e.orderMoney,e.orderReceive),a=(e.orderNoReceive,e.orderOverReceive,e.grid),d=e.isview;null!=d&&d.toString();var c=$(this);c.easytable({tr:"<tr class='cwhite'><td class='blt'><i class='md-cancel del'></i><i class='md-description copy hidden'></i></td><td class=\"brt brtt\"><div class=\"time\"></div></td><td class=\"brt brtt\"><input type=\"text\" class=\"receiveMoney form-control\"><span class=\"hidden recId\"></span></td><td class='brt brtt'><div class='receiveWay'></div></td><td class='brt brtt br0'><input type='text' class='remark form-control'></td></tr>",tr_load_func:function(e,n){var n=void 0==n?"":n,r=e;r.find(".time").datetimeinput({width:"200px",height:33,formatString:"yyyy-MM-dd",showTimeButton:!1,value:new Date}).val(n.time),r.find(".time").find("input").keydown(function(e){if(e.preventDefault(),39==e.keyCode){var t=e.target.selectionStart;8!=t&&10!=t||r.find(".receiveMoney").focus()}}),r.find(".receiveWay").dropDownlist({source:{cash:"现金",alipay:"支付宝",wechatpay:"微信支付",bankpayonline:"银行转账",bankpay:"刷卡",cheque:"支票"},width:"140px",height:33,selectedIndex:0}).val(n.way),r.find(".receiveWay").keydown(function(e){39==e.keyCode&&(r.find(".remark").focus(),$(this).jqxDropDownList("close")),37==e.keyCode&&(r.find(".receiveMoney").focus(),$(this).jqxDropDownList("close"))}),r.find(".receiveMoney").moneyinput().val(n.receive),""==n&&r.find(".receiveMoney").width(200),r.find(".remark").val(n.remark),r.find(".receiveMoney").on("change keyup",function(){var e=$(this).val();""!=$(this).parent().find(".recId").text()&&(0==e?$(this).addClass("s1r"):$(this).removeClass("s1r")),t(i)}),r.find(".receiveMoney").keydown(function(e){var t=$(this),i=t.val(),n=e.target.selectionStart,d=$("#"+a).jqxGrid("getselectedcell");return void 0!=d&&$("#"+a).jqxGrid("unselectcell",d.rowindex,d.datafield),39==e.keyCode&&n==i.length&&(r.find(".receiveWay").jqxDropDownList("focus"),r.find(".receiveWay").jqxDropDownList("open")),37==e.keyCode&&0==n&&(r.find(".time").jqxDateTimeInput("focus"),r.find(".time").jqxDateTimeInput("open")),88==e.keyCode&&e.ctrlKey?(r.find(".del").trigger("click"),!1):e.shiftKey&&e.ctrlKey?(r.find(".copy").trigger("click"),!1):void 0}),r.find(".remark").keydown(function(e){var t=($(this).val(),e.target.selectionStart),i=$("#"+a).jqxGrid("getselectedcell");return void 0!=i&&$("#"+a).jqxGrid("unselectcell",i.rowindex,i.datafield),37==e.keyCode&&0==t&&(r.find(".receiveWay").jqxDropDownList("focus"),r.find(".receiveWay").jqxDropDownList("open")),88==e.keyCode&&e.ctrlKey?(r.find(".del").trigger("click"),!1):e.shiftKey&&e.ctrlKey?(r.find(".copy").trigger("click"),!1):void 0})},tr_del_func:function(t,i){var n=t.find(".recId").text();if(""==n)return void i();Core.AjaxRequest({url:_global_settings.service.url+"/"+e.type+"/delete/"+n,type:"POST",callback:function(){i()}})}}).on("change keyup ",function(){var e=$(this),n=e.find("tbody").children(),a=0;n.each(function(){var e=$(this),t=money(e.find(".receiveMoney").val());a+=1*t}),r.val(money(a)),t(i)}),t(i);n&&function(e){$.each(e,function(e,t){var i=c.find("tbody>tr").eq(-1);i.find(".recId").text(t.id),i.find(".time").data("value",t.createDate.substring(0,10)).val(t.createDate.substring(0,10)),i.find(".receiveMoney").val(money(t.amount)).data("value",t.amount),i.find(".receiveWay").data("value",t.payWay).val(t.payWay),i.find(".remark").data("value",t.remark).val(t.remark),i.trigger("click")}),d&&c.find("tbody>tr").eq(-1).remove(),c.trigger("change")}(n),d&&function(){c.find("input").each(function(){$(this).attr("disabled","disabled")}),c.find(".jqx-combobox-state-normal").each(function(){$(this).jqxComboBox("disabled",!0)}),c.find(".del").each(function(){$(this).parent().remove()}),c.find("tr").on("click",function(){return!1})}()},$.fn.zqwRecOrpayTable=function(e){var t=e.source,i=e.setOrderNoReceive,n=e.enterPriceInfo,r=(e.orderMoney,e.receiveMoney),a=(e.notReceiveMoney,e.overReceiveMoney,$(this));void 0!=t&&function(e){var t=0,d={cash:"现金",alipay:"支付宝",wechatpay:"微信支付",bankpayonline:"银行转账",bankpay:"刷卡",cheque:"支票"};$.each(e,function(e,i){a.find("tbody").append('<tr class=\'cwhite\'><td class="brt"><div class="time"></div></td><td class="brt"><div class="money"></div></td>'+"<td class='brt'><div class='way'></div></td><td ><div class='remark'></div></td></tr>");var n=a.find("tbody").children().eq(e);n.find(".time").text(i.createDate.substring(0,10)),n.find(".money").text(money(i.amount)),n.find(".way").text(d[i.payWay]),n.find(".remark").text(i.remark),t+=1*i.amount}),r.val(money(t)),null!=n&&void 0!=n&&i(n)}(t)};