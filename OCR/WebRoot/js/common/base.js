var BaseManager=function(e){var n={tab:{element:null},grid:{element:null,datatype:"json",contentType:"application/json; charset=UTF-8",url:null,columnsheight:45}};e=$.extend(!0,n,e),this.searchObj={},this.initInput=function(){e.tab.element&&($("#"+e.tab.element).jqxTabs({showCloseButtons:!0,theme:currentTheme}),$("#"+e.tab.element).jqxTabs("hideCloseButtonAt",0))},this.initSearch=function(){},this.initGrid=function(n,t,i){if(e.grid.element){var a=Core.NewDataAdapter({gridId:e.grid.element,url:e.grid.url,params:n,source:t}),r={source:a,rendergridrows:function(){return a.records},columns:e.grid.columns,columnsheight:e.grid.columnsheight,pagesize:e.grid.pagesize};r=$.extend({},r,i),$("#"+e.grid.element).grid(r)}},this.initWindows=function(){},this.initValidator=function(){},this.initOperation=function(){},this.searchDataInfo=function(n){var t=void 0===n?e.grid.element:n;$("#"+t).jqxGrid("applyfilters"),$("#"+t).jqxGrid("refreshfilterrow"),$("#"+t).jqxGrid("clearselection")},this.refreshDataInfo=function(n){var t=void 0===n?e.grid.element:n;$("#"+t).jqxGrid("updatebounddata","cells"),$("#"+t).jqxGrid("clearselection")}},BaseModel=function(e,n){function t(t){t&&Core.AjaxRequest({url:null==e.ajax.addUrl?e.ajax.url:e.ajax.addUrl,type:"POST",params:t,successMsg:"操作成功",callback:function(t){n.initOperation(),n.refreshDataInfo(),$("#"+e.addWin.element).jqxWindow("close")},failure:function(e){}})}function i(t){Core.AjaxRequest({url:null==e.ajax.editUrl?e.ajax.url:e.ajax.editUrl,type:"PUT",params:t,callback:function(t){Core.alert({message:"操作成功",callback:function(){n.initOperation(),n.refreshDataInfo(),$("#"+e.editWin.element).jqxWindow("close")}})},failure:function(e){}})}var a={grid:{element:null},addWin:{element:null},editWin:{element:null},addForm:{element:null},editForm:{element:null},ajax:{contentType:"application/json; charset=UTF-8",url:null,async:!1,dataType:"json"},condition:null};e=$.extend(!0,a,e),this.search=function(){},this.add=function(){$("#"+e.addWin.element).jqxWindow("open")},this.edit=function(){$("#"+e.grid.element).jqxGrid("getselectedrowindex")>=0&&$("#"+e.editWin.element).jqxWindow("open")},this.remove=function(){var t=$("#"+e.grid.element).jqxGrid("getselectedrowindex");if(t>=0){var i=$("#"+e.grid.element).jqxGrid("getrowdata",t);Core.confirm({message:"确定要删除？",confirmCallback:function(){Core.AjaxRequest({url:void 0==e.ajax.deleteUrl?e.ajax.url+i.id:e.ajax.deleteUrl+i.id,type:"DELETE",async:e.ajax.async,dataType:e.ajax.dataType,callback:function(e){n.initOperation(),n.refreshDataInfo()},failure:function(e){}})}})}},this.fillModel=function(){return null},this.initAddParam=function(){return null},this.addSubmit=function(n,i){!1===i?t(n):$("#"+e.addForm.element).jqxValidator("validate")&&t(n)},this.initEditParam=function(){return null},this.editSubmit=function(n,t){!1===t?i(n):$("#"+e.editForm.element).jqxValidator("validate")&&i(n)}};