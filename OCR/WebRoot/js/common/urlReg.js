!function(){var urlReg=function(e,r){this.url=e,this.parameter=r};urlReg.prototype.getParameter=function(){var parameter=this.parameter,url=this.url;if(void 0===parameter)throw"parameter is undefined";"string"==typeof parameter&&(parameter=parameter.split(","));for(var obj={},len=parameter.length,i=0;i<len;i++){var p=parameter[i],ref=null,reg=eval("/"+p+"=(\\w+)&?/");reg.test(url)&&(ref=reg.exec(url)[1],obj[p]=ref)}return obj},window.urlReg=urlReg;var imgBase64=function(e){this.input=e[0]};imgBase64.prototype.toDataURL=function(e,r){var t=this,a=t.input.files[0],i=new FileReader;i.onload=function(e){return function(e){var a=document.createElement("img");a.src=e.target.result,setTimeout(function(){a.src=t.compress(a).src,r(a.src)},0)}}(),i.readAsDataURL(a)},imgBase64.prototype.compress=function(e,r,t){var a="image/jpeg";void 0!=t&&"png"==t&&(a="image/png");var i=document.createElement("canvas"),n=function(e,r){var t=Math.max.call(this,1600,e,r),a=t>1600?1600/t:1;return[e*a,r*a,e,r]}(e.naturalWidth,e.naturalHeight);i.width=n[0],i.height=n[1];var o=(i.getContext("2d").drawImage(e,0,0,i.width,i.height),i.toDataURL(a,.9)),u=new Image;return u.src=o,u},window.imgBase64=imgBase64}();