var VspMgt=function(){var e=this,t=_global_settings.service.url+"/accountproduct",i=$.pk.id;this.initInput=function(){$("#vsp-show").css("display",""),$("#viewSendProd-date").datetimeinput({value:new Date,formatString:"yyyy-MM-dd",height:34,width:"100%"}),$("#vsp-show").addClass("hiddendiv"),e.initGrid(e.searchObj)},this.initGrid=function(){e.settings.source.data=e.searchObj;var t=Core.AcDataAdapter("viewSendProductGrid",e.settings.source,{beforeLoadComplete:function(e){}},e.debug),i={source:t,rendergridrows:function(e){return t.recordids},columns:[{text:"赠送日期",dataField:"createDate",width:"10%"},{text:"用户名",dataField:"userName",width:"15%"},{text:"联系电话",dataField:"tel",width:"10%"},{text:"公司名称",dataField:"commpanyName",width:"15%"},{text:"代理商",dataField:"daili",width:"15%"},{text:"销售负责人",dataField:"sale",width:"15%"},{text:"客服",dataField:"kefu",width:"10%"},{text:"状态",width:"10%",cellsrenderer:function(e,t,i,d,a,r){var n='<div class="agrid">';return(n+=void 0==r.type?"":getCodeData(r.type.toLowerCase()))+"</div>"}}],pagesize:20,columnsheight:45};$("#viewSendProductGrid").grid(i)},this.settings={source:{url:t+"/givedetail/"+i,data:e.searchObj},grid:{element:"viewSendProductGrid"},ajax:{url:t}},this.searchObj={"p.createDate":{value:[],action:"like"},"t.loginId":{value:[],action:"like"},"t.regTelephone":{value:[],action:"like"}},this.searchDataInfo=function(){$("#viewSendProductGrid").jqxGrid("applyfilters"),$("#viewSendProductGrid").jqxGrid("refreshfilterrow"),$("#viewSendProductGrid").jqxGrid("clearselection")},this.refreshDataInfo=function(){$("#viewSendProductGrid").jqxGrid("updatebounddata","cells"),$("#viewSendProductGrid").jqxGrid("clearselection"),$("#viewSendProductGrid").jqxGrid("refreshdata")}},VspBindModle=function(e){var t=this;_global_settings.service.url;this.search=function(){var t=$("#viewSendProd-date").val(),i=$("#viewSendProd-name").val(),d=$("#viewSendProd-phone").val();e.searchObj["p.createDate"].value=[],""!=t&&e.searchObj["p.createDate"].value.push(t),e.searchObj["t.loginId"].value=[],""!=i&&e.searchObj["t.loginId"].value.push(i),e.searchObj["t.regTelephone"].value=[],""!=d&&e.searchObj["t.regTelephone"].value.push(d),e.searchDataInfo()},this.bind=function(){$("#viewSendProd-search").on("click",function(){$("#vsp-show").is(":hidden")?$("#vsp-show").slideDown("slow"):t.search()}),hiddenAclick()},this.unbindAll=function(){$("#viewSendProd-search").off("click")}};