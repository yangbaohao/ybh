var UserDeltailMgt=function(){var e=this,t=null,i=_global_settings.service.url+"/user/";this.debug=!1,this.initInput=function(){t=$.pk.employeeCode,e.initSearch(),e.initGrid(e.searchObj)},this.initGrid=function(){e.settings.source.data=e.searchObj,e.settings.source.url=i+"searchertax/"+t;var a=Core.AcDataAdapter("userDeltailMgtGrid",e.settings.source,{beforeLoadComplete:function(e){}},e.debug),r={columnsresize:!1,autorowheight:!0,autoheight:!0,source:a,rendergridrows:function(){return a.records},columns:[{text:"用户名",dataField:"loginId",width:"20%",height:"20px"},{text:"备注",dataField:"name",width:"20%",height:"20px"},{text:"纳税人性质",dataField:"taxType",width:"20%",cellsrenderer:function(e,t,i,a,r,s){return"generalvat"==s.taxType?s.taxType="一般增值税纳税人":"smallscale"==s.taxType&&(s.taxType="小规模纳税人"),'<div style="padding-top:6px; padding-left:6px;">'+s.taxType+"</div>"}},{text:"增值税率(%)",dataField:"vat",width:"20%",height:"20px"},{text:"当前账期",dataField:"mouthDate",width:"20%",height:"20px"}],pagesize:e.settings.grid.pagesize,columnsheight:45};$("#userDeltailMgtGrid").grid(r)},this.settings={source:{data:e.searchObj},grid:{element:"userDeltailMgtGrid"},ajax:{url:i}},this.searchObj={},this.initSearch=function(){e.searchObj={name:{value:[],action:"like"}}},this.searchDataInfo=function(){$("#userDeltailMgtGrid").jqxGrid("applyfilters"),$("#userDeltailMgtGrid").jqxGrid("refreshfilterrow"),$("#userDeltailMgtGrid").jqxGrid("clearselection")},this.refreshDataInfo=function(){$("#userDeltailMgtGrid").jqxGrid("updatebounddata","cells"),$("#userDeltailMgtGrid").jqxGrid("clearselection"),$("#userDeltailMgtGrid").jqxGrid("refreshdata")}},userDeltailBindModel=function(e){var t=this;this.search=function(){var t=$("#agentDailytest-com").find("input").val();"全部"!=t&&(e.searchObj["i.name"]={value:[t],action:"like"}),e.searchDataInfo()},this.bind=function(){$("#agentDailyTest-search").on("click",function(){$("#agentDailyTest-show").is(":hidden")?$("#agentDailyTest-show").slideDown("slow"):t.search()}),hiddenAclick()},this.unbindAll=function(){$("#userDeltailMgtGrid").off("click")}};